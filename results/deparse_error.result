



-------CREATE DOMAIN us_postal_code AS TEXT
CHECK(
   VALUE ~ '^\d{5}$'
OR VALUE ~ '^\d{5}-\d{4}$'
);

CREATE TABLE us_snail_addy (
  address_id SERIAL PRIMARY KEY,
  street1 TEXT NOT NULL,
  street2 TEXT,
  street3 TEXT,
  city TEXT NOT NULL,
  postal us_postal_code NOT NULL
);-------
{"RawStmt"=>{"stmt"=>{"CreateDomainStmt"=>{"domainname"=>[{"String"=>{"str"=>"us_postal_code"}}], "typeName"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"text"}}], "typemod"=>-1, "location"=>32}}, "constraints"=>[{"Constraint"=>{"contype"=>4, "location"=>37, "raw_expr"=>{"BoolExpr"=>{"boolop"=>1, "args"=>[{"A_Expr"=>{"kind"=>0, "name"=>[{"String"=>{"str"=>"~"}}], "lexpr"=>{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"value"}}], "location"=>47}}, "rexpr"=>{"A_Const"=>{"val"=>{"String"=>{"str"=>"^\\d{5}$"}}, "location"=>55}}, "location"=>53}}, {"A_Expr"=>{"kind"=>0, "name"=>[{"String"=>{"str"=>"~"}}], "lexpr"=>{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"value"}}], "location"=>68}}, "rexpr"=>{"A_Const"=>{"val"=>{"String"=>{"str"=>"^\\d{5}-\\d{4}$"}}, "location"=>76}}, "location"=>74}}], "location"=>65}}, "initially_valid"=>true}}]}}, "stmt_len"=>93}}
{"RawStmt"=>{"stmt"=>{"CreateStmt"=>{"relation"=>{"RangeVar"=>{"relname"=>"us_snail_addy", "inh"=>true, "relpersistence"=>"p", "location"=>109}}, "tableElts"=>[{"ColumnDef"=>{"colname"=>"address_id", "typeName"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"serial"}}], "typemod"=>-1, "location"=>138}}, "is_local"=>true, "constraints"=>[{"Constraint"=>{"contype"=>5, "location"=>145}}], "location"=>127}}, {"ColumnDef"=>{"colname"=>"street1", "typeName"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"text"}}], "typemod"=>-1, "location"=>168}}, "is_local"=>true, "constraints"=>[{"Constraint"=>{"contype"=>1, "location"=>173}}], "location"=>160}}, {"ColumnDef"=>{"colname"=>"street2", "typeName"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"text"}}], "typemod"=>-1, "location"=>193}}, "is_local"=>true, "location"=>185}}, {"ColumnDef"=>{"colname"=>"street3", "typeName"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"text"}}], "typemod"=>-1, "location"=>209}}, "is_local"=>true, "location"=>201}}, {"ColumnDef"=>{"colname"=>"city", "typeName"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"text"}}], "typemod"=>-1, "location"=>222}}, "is_local"=>true, "constraints"=>[{"Constraint"=>{"contype"=>1, "location"=>227}}], "location"=>217}}, {"ColumnDef"=>{"colname"=>"postal", "typeName"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"us_postal_code"}}], "typemod"=>-1, "location"=>246}}, "is_local"=>true, "constraints"=>[{"Constraint"=>{"contype"=>1, "location"=>261}}], "location"=>239}}], "oncommit"=>0}}, "stmt_location"=>94, "stmt_len"=>177}}

0263a091103c317acdbdaa37efb7173e66bc13c212



Can't deparse: CreateDomainStmt: {"domainname"=>[{"String"=>{"str"=>"us_postal_code"}}], "typeName"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"text"}}], "typemod"=>-1, "location"=>32}}, "constraints"=>[{"Constraint"=>{"contype"=>4, "location"=>37, "raw_expr"=>{"BoolExpr"=>{"boolop"=>1, "args"=>[{"A_Expr"=>{"kind"=>0, "name"=>[{"String"=>{"str"=>"~"}}], "lexpr"=>{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"value"}}], "location"=>47}}, "rexpr"=>{"A_Const"=>{"val"=>{"String"=>{"str"=>"^\\d{5}$"}}, "location"=>55}}, "location"=>53}}, {"A_Expr"=>{"kind"=>0, "name"=>[{"String"=>{"str"=>"~"}}], "lexpr"=>{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"value"}}], "location"=>68}}, "rexpr"=>{"A_Const"=>{"val"=>{"String"=>{"str"=>"^\\d{5}-\\d{4}$"}}, "location"=>76}}, "location"=>74}}], "location"=>65}}, "initially_valid"=>true}}]}

------- End CREATE DOMAIN us_postal_code AS TEXT
CHECK(
   VALUE ~ '^\d{5}$'
OR VALUE ~ '^\d{5}-\d{4}$'
);

CREATE TABLE us_snail_addy (
  address_id SERIAL PRIMARY KEY,
  street1 TEXT NOT NULL,
  street2 TEXT,
  street3 TEXT,
  city TEXT NOT NULL,
  postal us_postal_code NOT NULL
);-------




-------ALTER TEXT SEARCH DICTIONARY my_dict ( StopWords = newrussian );-------
{"RawStmt"=>{"stmt"=>{"AlterTSDictionaryStmt"=>{"dictname"=>[{"String"=>{"str"=>"my_dict"}}], "options"=>[{"DefElem"=>{"defname"=>"stopwords", "arg"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"newrussian"}}], "typemod"=>-1, "location"=>51}}, "defaction"=>0, "location"=>39}}]}}, "stmt_len"=>63}}

024d0755ddde895e633dca6217058d92f5cb05c762



Can't deparse: AlterTSDictionaryStmt: {"dictname"=>[{"String"=>{"str"=>"my_dict"}}], "options"=>[{"DefElem"=>{"defname"=>"stopwords", "arg"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"newrussian"}}], "typemod"=>-1, "location"=>51}}, "defaction"=>0, "location"=>39}}]}

------- End ALTER TEXT SEARCH DICTIONARY my_dict ( StopWords = newrussian );-------




-------ALTER TEXT SEARCH DICTIONARY my_dict ( language = dutch, StopWords );-------
{"RawStmt"=>{"stmt"=>{"AlterTSDictionaryStmt"=>{"dictname"=>[{"String"=>{"str"=>"my_dict"}}], "options"=>[{"DefElem"=>{"defname"=>"language", "arg"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"dutch"}}], "typemod"=>-1, "location"=>50}}, "defaction"=>0, "location"=>39}}, {"DefElem"=>{"defname"=>"stopwords", "defaction"=>0, "location"=>57}}]}}, "stmt_len"=>68}}

02944a1ee800d599f3f867a7a5e86201a34b150d46



Can't deparse: AlterTSDictionaryStmt: {"dictname"=>[{"String"=>{"str"=>"my_dict"}}], "options"=>[{"DefElem"=>{"defname"=>"language", "arg"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"dutch"}}], "typemod"=>-1, "location"=>50}}, "defaction"=>0, "location"=>39}}, {"DefElem"=>{"defname"=>"stopwords", "defaction"=>0, "location"=>57}}]}

------- End ALTER TEXT SEARCH DICTIONARY my_dict ( language = dutch, StopWords );-------




-------ALTER TEXT SEARCH DICTIONARY my_dict ( dummy );-------
{"RawStmt"=>{"stmt"=>{"AlterTSDictionaryStmt"=>{"dictname"=>[{"String"=>{"str"=>"my_dict"}}], "options"=>[{"DefElem"=>{"defname"=>"dummy", "defaction"=>0, "location"=>39}}]}}, "stmt_len"=>46}}

02245eab5709b5c62dddc5ffb6afed1e51a4526e3c



Can't deparse: AlterTSDictionaryStmt: {"dictname"=>[{"String"=>{"str"=>"my_dict"}}], "options"=>[{"DefElem"=>{"defname"=>"dummy", "defaction"=>0, "location"=>39}}]}

------- End ALTER TEXT SEARCH DICTIONARY my_dict ( dummy );-------




-------DROP ROUTINE foo(integer);-------






syntax error at or near "ROUTINE" (scan.l:1121)

------- End DROP ROUTINE foo(integer);-------




-------pgbench -i  other-options  dbname-------






syntax error at or near "pgbench" (scan.l:1121)

------- End pgbench -i  other-options  dbname-------




-------pgbench  options  dbname-------






syntax error at or near "pgbench" (scan.l:1121)

------- End pgbench  options  dbname-------




-------UPDATE pgbench_accounts
  SET abalance = abalance + :delta
  WHERE aid = :aid
  RETURNING abalance \gset
-- compound of two queries
SELECT 1 \;
SELECT 2 AS two, 3 AS three \gset p_-------






syntax error at or near ":" (scan.l:1121)

------- End UPDATE pgbench_accounts
  SET abalance = abalance + :delta
  WHERE aid = :aid
  RETURNING abalance \gset
-- compound of two queries
SELECT 1 \;
SELECT 2 AS two, 3 AS three \gset p_-------




-------\set ntellers 10 * :scale
\set aid (1021 * random(1, 100000 * :scale)) % \
           (100000 * :scale) + 1
\set divx CASE WHEN :x <> 0 THEN :y/:x ELSE NULL END-------






syntax error at or near "\" (scan.l:1121)

------- End \set ntellers 10 * :scale
\set aid (1021 * random(1, 100000 * :scale)) % \
           (100000 * :scale) + 1
\set divx CASE WHEN :x <> 0 THEN :y/:x ELSE NULL END-------




-------\sleep 10 ms-------






syntax error at or near "\" (scan.l:1121)

------- End \sleep 10 ms-------




-------\setshell variable_to_be_assigned command literal_argument :variable ::literal_starting_with_colon-------






syntax error at or near "\" (scan.l:1121)

------- End \setshell variable_to_be_assigned command literal_argument :variable ::literal_starting_with_colon-------




-------\shell command literal_argument :variable ::literal_starting_with_colon-------






syntax error at or near "\" (scan.l:1121)

------- End \shell command literal_argument :variable ::literal_starting_with_colon-------




-------\set r random_zipfian(0, 100000000, 1.07)
\set k abs(hash(:r)) % 1000000-------






syntax error at or near "\" (scan.l:1121)

------- End \set r random_zipfian(0, 100000000, 1.07)
\set k abs(hash(:r)) % 1000000-------




-------\set k1 abs(hash(:r, :default_seed + 123)) % 1000000
\set k2 abs(hash(:r, :default_seed + 321)) % 1000000-------






syntax error at or near "\" (scan.l:1121)

------- End \set k1 abs(hash(:r, :default_seed + 123)) % 1000000
\set k2 abs(hash(:r, :default_seed + 321)) % 1000000-------




-------\set aid random(1, 100000 * :scale)
\set bid random(1, 1 * :scale)
\set tid random(1, 10 * :scale)
\set delta random(-5000, 5000)
BEGIN;
UPDATE pgbench_accounts SET abalance = abalance + :delta WHERE aid = :aid;
SELECT abalance FROM pgbench_accounts WHERE aid = :aid;
UPDATE pgbench_tellers SET tbalance = tbalance + :delta WHERE tid = :tid;
UPDATE pgbench_branches SET bbalance = bbalance + :delta WHERE bid = :bid;
INSERT INTO pgbench_history (tid, bid, aid, delta, mtime) VALUES (:tid, :bid, :aid, :delta, CURRENT_TIMESTAMP);
END;-------






syntax error at or near "\" (scan.l:1121)

------- End \set aid random(1, 100000 * :scale)
\set bid random(1, 1 * :scale)
\set tid random(1, 10 * :scale)
\set delta random(-5000, 5000)
BEGIN;
UPDATE pgbench_accounts SET abalance = abalance + :delta WHERE aid = :aid;
SELECT abalance FROM pgbench_accounts WHERE aid = :aid;
UPDATE pgbench_tellers SET tbalance = tbalance + :delta WHERE tid = :tid;
UPDATE pgbench_branches SET bbalance = bbalance + :delta WHERE bid = :bid;
INSERT INTO pgbench_history (tid, bid, aid, delta, mtime) VALUES (:tid, :bid, :aid, :delta, CURRENT_TIMESTAMP);
END;-------




-------postgres=# \d tab
       Table "public.tab"
 Column |  Type   | Modifiers
--------+---------+-----------
 col    | integer |
Indexes:
    "idx" btree (col)
    "idx_ccnew" btree (col) INVALID-------






syntax error at or near "postgres" (scan.l:1121)

------- End postgres=# \d tab
       Table "public.tab"
 Column |  Type   | Modifiers
--------+---------+-----------
 col    | integer |
Indexes:
    "idx" btree (col)
    "idx_ccnew" btree (col) INVALID-------




-------REINDEX INDEX my_index;-------
{"RawStmt"=>{"stmt"=>{"ReindexStmt"=>{"kind"=>0, "relation"=>{"RangeVar"=>{"relname"=>"my_index", "inh"=>true, "relpersistence"=>"p", "location"=>14}}}}, "stmt_len"=>22}}

025d9ceb45c35075de65db97b484bf3614d7b32a62



Can't deparse: ReindexStmt: {"kind"=>0, "relation"=>{"RangeVar"=>{"relname"=>"my_index", "inh"=>true, "relpersistence"=>"p", "location"=>14}}}

------- End REINDEX INDEX my_index;-------




-------REINDEX TABLE my_table;-------
{"RawStmt"=>{"stmt"=>{"ReindexStmt"=>{"kind"=>1, "relation"=>{"RangeVar"=>{"relname"=>"my_table", "inh"=>true, "relpersistence"=>"p", "location"=>14}}}}, "stmt_len"=>22}}

026140f98f8d18e6d532ef1724baba5292677121ef



Can't deparse: ReindexStmt: {"kind"=>1, "relation"=>{"RangeVar"=>{"relname"=>"my_table", "inh"=>true, "relpersistence"=>"p", "location"=>14}}}

------- End REINDEX TABLE my_table;-------




-------$ export PGOPTIONS="-P"
$ psql broken_db
...
broken_db= REINDEX DATABASE broken_db;
broken_db= \q-------






syntax error at or near "$" (scan.l:1121)

------- End $ export PGOPTIONS="-P"
$ psql broken_db
...
broken_db= REINDEX DATABASE broken_db;
broken_db= \q-------




-------REINDEX TABLE CONCURRENTLY my_broken_table;-------






syntax error at or near "CONCURRENTLY" (scan.l:1121)

------- End REINDEX TABLE CONCURRENTLY my_broken_table;-------




-------DROP OPERATOR ^ (integer, integer);-------
{"RawStmt"=>{"stmt"=>{"DropStmt"=>{"objects"=>[{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"^"}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"pg_catalog"}}, {"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>17}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"pg_catalog"}}, {"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>26}}]}}], "removeType"=>25, "behavior"=>0}}, "stmt_len"=>34}}

02dc1e634e80a3ca783a9354caeed269ed006f7cf0



undefined method `keys' for #<Array:0x00005645d2dd0658>

------- End DROP OPERATOR ^ (integer, integer);-------




-------DROP OPERATOR ~ (none, bit);-------
{"RawStmt"=>{"stmt"=>{"DropStmt"=>{"objects"=>[{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"~"}}], "objargs"=>[nil, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"pg_catalog"}}, {"String"=>{"str"=>"bit"}}], "typmods"=>[{"A_Const"=>{"val"=>{"Integer"=>{"ival"=>1}}, "location"=>-1}}], "typemod"=>-1, "location"=>23}}]}}], "removeType"=>25, "behavior"=>0}}, "stmt_len"=>27}}

02a771c72d17e83a7dba42d17cb9cdbfdc05c6f359



undefined method `keys' for #<Array:0x00005645d2d6ac40>

------- End DROP OPERATOR ~ (none, bit);-------




-------DROP OPERATOR ! (bigint, none);-------
{"RawStmt"=>{"stmt"=>{"DropStmt"=>{"objects"=>[{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"!"}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"pg_catalog"}}, {"String"=>{"str"=>"int8"}}], "typemod"=>-1, "location"=>17}}, nil]}}], "removeType"=>25, "behavior"=>0}}, "stmt_len"=>30}}

02c5703065617ac9a144851bbeda9a20f4f01a7752



undefined method `keys' for #<Array:0x00005645d2b639d8>

------- End DROP OPERATOR ! (bigint, none);-------




-------DROP OPERATOR ~ (none, bit), ! (bigint, none);-------
{"RawStmt"=>{"stmt"=>{"DropStmt"=>{"objects"=>[{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"~"}}], "objargs"=>[nil, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"pg_catalog"}}, {"String"=>{"str"=>"bit"}}], "typmods"=>[{"A_Const"=>{"val"=>{"Integer"=>{"ival"=>1}}, "location"=>-1}}], "typemod"=>-1, "location"=>23}}]}}, {"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"!"}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"pg_catalog"}}, {"String"=>{"str"=>"int8"}}], "typemod"=>-1, "location"=>32}}, nil]}}], "removeType"=>25, "behavior"=>0}}, "stmt_len"=>45}}

0222f8feaecd81fccb621420b9a5ae23303a70c15b



undefined method `keys' for #<Array:0x00005645d2fe9e58>

------- End DROP OPERATOR ~ (none, bit), ! (bigint, none);-------




-------CREATE OPERATOR CLASS gist__int_ops
    DEFAULT FOR TYPE _int4 USING gist AS
        OPERATOR        3       &&,
        OPERATOR        6       = (anyarray, anyarray),
        OPERATOR        7       @>,
        OPERATOR        8       <@,
        OPERATOR        20      @@ (_int4, query_int),
        FUNCTION        1       g_int_consistent (internal, _int4, smallint, oid, internal),
        FUNCTION        2       g_int_union (internal, internal),
        FUNCTION        3       g_int_compress (internal),
        FUNCTION        4       g_int_decompress (internal),
        FUNCTION        5       g_int_penalty (internal, internal, internal),
        FUNCTION        6       g_int_picksplit (internal, internal),
        FUNCTION        7       g_int_same (_int4, _int4, internal);-------
{"RawStmt"=>{"stmt"=>{"CreateOpClassStmt"=>{"opclassname"=>[{"String"=>{"str"=>"gist__int_ops"}}], "amname"=>"gist", "datatype"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"_int4"}}], "typemod"=>-1, "location"=>57}}, "items"=>[{"CreateOpClassItem"=>{"itemtype"=>1, "name"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"&&"}}]}}, "number"=>3}}, {"CreateOpClassItem"=>{"itemtype"=>1, "name"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"="}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"anyarray"}}], "typemod"=>-1, "location"=>148}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"anyarray"}}], "typemod"=>-1, "location"=>158}}]}}, "number"=>6}}, {"CreateOpClassItem"=>{"itemtype"=>1, "name"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"@>"}}]}}, "number"=>7}}, {"CreateOpClassItem"=>{"itemtype"=>1, "name"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"<@"}}]}}, "number"=>8}}, {"CreateOpClassItem"=>{"itemtype"=>1, "name"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"@@"}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"_int4"}}], "typemod"=>-1, "location"=>277}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"query_int"}}], "typemod"=>-1, "location"=>284}}]}}, "number"=>20}}, {"CreateOpClassItem"=>{"itemtype"=>2, "name"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"g_int_consistent"}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"internal"}}], "typemod"=>-1, "location"=>346}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"_int4"}}], "typemod"=>-1, "location"=>356}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"pg_catalog"}}, {"String"=>{"str"=>"int2"}}], "typemod"=>-1, "location"=>363}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"oid"}}], "typemod"=>-1, "location"=>373}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"internal"}}], "typemod"=>-1, "location"=>378}}]}}, "number"=>1}}, {"CreateOpClassItem"=>{"itemtype"=>2, "name"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"g_int_union"}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"internal"}}], "typemod"=>-1, "location"=>434}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"internal"}}], "typemod"=>-1, "location"=>444}}]}}, "number"=>2}}, {"CreateOpClassItem"=>{"itemtype"=>2, "name"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"g_int_compress"}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"internal"}}], "typemod"=>-1, "location"=>503}}]}}, "number"=>3}}, {"CreateOpClassItem"=>{"itemtype"=>2, "name"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"g_int_decompress"}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"internal"}}], "typemod"=>-1, "location"=>564}}]}}, "number"=>4}}, {"CreateOpClassItem"=>{"itemtype"=>2, "name"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"g_int_penalty"}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"internal"}}], "typemod"=>-1, "location"=>622}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"internal"}}], "typemod"=>-1, "location"=>632}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"internal"}}], "typemod"=>-1, "location"=>642}}]}}, "number"=>5}}, {"CreateOpClassItem"=>{"itemtype"=>2, "name"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"g_int_picksplit"}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"internal"}}], "typemod"=>-1, "location"=>702}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"internal"}}], "typemod"=>-1, "location"=>712}}]}}, "number"=>6}}, {"CreateOpClassItem"=>{"itemtype"=>2, "name"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"g_int_same"}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"_int4"}}], "typemod"=>-1, "location"=>767}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"_int4"}}], "typemod"=>-1, "location"=>774}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"internal"}}], "typemod"=>-1, "location"=>781}}]}}, "number"=>7}}], "isDefault"=>true}}, "stmt_len"=>790}}

024d38511e8349a822e54bc72784f8a817ef8d2399



Can't deparse: CreateOpClassStmt: {"opclassname"=>[{"String"=>{"str"=>"gist__int_ops"}}], "amname"=>"gist", "datatype"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"_int4"}}], "typemod"=>-1, "location"=>57}}, "items"=>[{"CreateOpClassItem"=>{"itemtype"=>1, "name"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"&&"}}]}}, "number"=>3}}, {"CreateOpClassItem"=>{"itemtype"=>1, "name"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"="}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"anyarray"}}], "typemod"=>-1, "location"=>148}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"anyarray"}}], "typemod"=>-1, "location"=>158}}]}}, "number"=>6}}, {"CreateOpClassItem"=>{"itemtype"=>1, "name"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"@>"}}]}}, "number"=>7}}, {"CreateOpClassItem"=>{"itemtype"=>1, "name"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"<@"}}]}}, "number"=>8}}, {"CreateOpClassItem"=>{"itemtype"=>1, "name"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"@@"}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"_int4"}}], "typemod"=>-1, "location"=>277}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"query_int"}}], "typemod"=>-1, "location"=>284}}]}}, "number"=>20}}, {"CreateOpClassItem"=>{"itemtype"=>2, "name"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"g_int_consistent"}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"internal"}}], "typemod"=>-1, "location"=>346}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"_int4"}}], "typemod"=>-1, "location"=>356}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"pg_catalog"}}, {"String"=>{"str"=>"int2"}}], "typemod"=>-1, "location"=>363}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"oid"}}], "typemod"=>-1, "location"=>373}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"internal"}}], "typemod"=>-1, "location"=>378}}]}}, "number"=>1}}, {"CreateOpClassItem"=>{"itemtype"=>2, "name"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"g_int_union"}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"internal"}}], "typemod"=>-1, "location"=>434}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"internal"}}], "typemod"=>-1, "location"=>444}}]}}, "number"=>2}}, {"CreateOpClassItem"=>{"itemtype"=>2, "name"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"g_int_compress"}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"internal"}}], "typemod"=>-1, "location"=>503}}]}}, "number"=>3}}, {"CreateOpClassItem"=>{"itemtype"=>2, "name"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"g_int_decompress"}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"internal"}}], "typemod"=>-1, "location"=>564}}]}}, "number"=>4}}, {"CreateOpClassItem"=>{"itemtype"=>2, "name"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"g_int_penalty"}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"internal"}}], "typemod"=>-1, "location"=>622}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"internal"}}], "typemod"=>-1, "location"=>632}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"internal"}}], "typemod"=>-1, "location"=>642}}]}}, "number"=>5}}, {"CreateOpClassItem"=>{"itemtype"=>2, "name"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"g_int_picksplit"}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"internal"}}], "typemod"=>-1, "location"=>702}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"internal"}}], "typemod"=>-1, "location"=>712}}]}}, "number"=>6}}, {"CreateOpClassItem"=>{"itemtype"=>2, "name"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"g_int_same"}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"_int4"}}], "typemod"=>-1, "location"=>767}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"_int4"}}], "typemod"=>-1, "location"=>774}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"internal"}}], "typemod"=>-1, "location"=>781}}]}}, "number"=>7}}], "isDefault"=>true}

------- End CREATE OPERATOR CLASS gist__int_ops
    DEFAULT FOR TYPE _int4 USING gist AS
        OPERATOR        3       &&,
        OPERATOR        6       = (anyarray, anyarray),
        OPERATOR        7       @>,
        OPERATOR        8       <@,
        OPERATOR        20      @@ (_int4, query_int),
        FUNCTION        1       g_int_consistent (internal, _int4, smallint, oid, internal),
        FUNCTION        2       g_int_union (internal, internal),
        FUNCTION        3       g_int_compress (internal),
        FUNCTION        4       g_int_decompress (internal),
        FUNCTION        5       g_int_penalty (internal, internal, internal),
        FUNCTION        6       g_int_picksplit (internal, internal),
        FUNCTION        7       g_int_same (_int4, _int4, internal);-------




-------ALTER VIEW foo RENAME TO bar;-------
{"RawStmt"=>{"stmt"=>{"RenameStmt"=>{"renameType"=>47, "relationType"=>0, "relation"=>{"RangeVar"=>{"relname"=>"foo", "inh"=>true, "relpersistence"=>"p", "location"=>11}}, "newname"=>"bar", "behavior"=>0}}, "stmt_len"=>28}}

0205ceda678c0f573d9fdde1b086d70133ff74e1b4



Can't deparse: {"renameType"=>47, "relationType"=>0, "relation"=>{"RangeVar"=>{"relname"=>"foo", "inh"=>true, "relpersistence"=>"p", "location"=>11}}, "newname"=>"bar", "behavior"=>0}

------- End ALTER VIEW foo RENAME TO bar;-------




-------CREATE PUBLICATION mypublication FOR TABLE users, departments;-------
{"RawStmt"=>{"stmt"=>{"CreatePublicationStmt"=>{"pubname"=>"mypublication", "tables"=>[{"RangeVar"=>{"relname"=>"users", "inh"=>true, "relpersistence"=>"p", "location"=>43}}, {"RangeVar"=>{"relname"=>"departments", "inh"=>true, "relpersistence"=>"p", "location"=>50}}]}}, "stmt_len"=>61}}

029e634fe9007138f5a3f6c04eaa0fb7fba90b261e



Can't deparse: CreatePublicationStmt: {"pubname"=>"mypublication", "tables"=>[{"RangeVar"=>{"relname"=>"users", "inh"=>true, "relpersistence"=>"p", "location"=>43}}, {"RangeVar"=>{"relname"=>"departments", "inh"=>true, "relpersistence"=>"p", "location"=>50}}]}

------- End CREATE PUBLICATION mypublication FOR TABLE users, departments;-------




-------CREATE PUBLICATION alltables FOR ALL TABLES;-------
{"RawStmt"=>{"stmt"=>{"CreatePublicationStmt"=>{"pubname"=>"alltables", "for_all_tables"=>true}}, "stmt_len"=>43}}

0200279f328482f9e632bf96fe33a087c5ebef9f86



Can't deparse: CreatePublicationStmt: {"pubname"=>"alltables", "for_all_tables"=>true}

------- End CREATE PUBLICATION alltables FOR ALL TABLES;-------




-------CREATE PUBLICATION insert_only FOR TABLE mydata
    WITH (publish = 'insert');-------
{"RawStmt"=>{"stmt"=>{"CreatePublicationStmt"=>{"pubname"=>"insert_only", "options"=>[{"DefElem"=>{"defname"=>"publish", "arg"=>{"String"=>{"str"=>"insert"}}, "defaction"=>0, "location"=>58}}], "tables"=>[{"RangeVar"=>{"relname"=>"mydata", "inh"=>true, "relpersistence"=>"p", "location"=>41}}]}}, "stmt_len"=>77}}

02235704319a11851ca0ad7ab688a10c7c63f0e22b



Can't deparse: CreatePublicationStmt: {"pubname"=>"insert_only", "options"=>[{"DefElem"=>{"defname"=>"publish", "arg"=>{"String"=>{"str"=>"insert"}}, "defaction"=>0, "location"=>58}}], "tables"=>[{"RangeVar"=>{"relname"=>"mydata", "inh"=>true, "relpersistence"=>"p", "location"=>41}}]}

------- End CREATE PUBLICATION insert_only FOR TABLE mydata
    WITH (publish = 'insert');-------




-------ALTER FOREIGN DATA WRAPPER dbi OPTIONS (ADD foo '1', DROP 'bar');-------
{"RawStmt"=>{"stmt"=>{"AlterFdwStmt"=>{"fdwname"=>"dbi", "options"=>[{"DefElem"=>{"defname"=>"foo", "arg"=>{"String"=>{"str"=>"1"}}, "defaction"=>2, "location"=>44}}, {"DefElem"=>{"defname"=>"drop", "arg"=>{"String"=>{"str"=>"bar"}}, "defaction"=>0, "location"=>53}}]}}, "stmt_len"=>64}}

029982c151956c2fc9fdc99593f928b574e0e4f617



Can't deparse: AlterFdwStmt: {"fdwname"=>"dbi", "options"=>[{"DefElem"=>{"defname"=>"foo", "arg"=>{"String"=>{"str"=>"1"}}, "defaction"=>2, "location"=>44}}, {"DefElem"=>{"defname"=>"drop", "arg"=>{"String"=>{"str"=>"bar"}}, "defaction"=>0, "location"=>53}}]}

------- End ALTER FOREIGN DATA WRAPPER dbi OPTIONS (ADD foo '1', DROP 'bar');-------




-------ALTER FOREIGN DATA WRAPPER dbi VALIDATOR bob.myvalidator;-------
{"RawStmt"=>{"stmt"=>{"AlterFdwStmt"=>{"fdwname"=>"dbi", "func_options"=>[{"DefElem"=>{"defname"=>"validator", "arg"=>[{"String"=>{"str"=>"bob"}}, {"String"=>{"str"=>"myvalidator"}}], "defaction"=>0, "location"=>31}}]}}, "stmt_len"=>56}}

023bb2d26966266911c0e439268dade242dde55df1



Can't deparse: AlterFdwStmt: {"fdwname"=>"dbi", "func_options"=>[{"DefElem"=>{"defname"=>"validator", "arg"=>[{"String"=>{"str"=>"bob"}}, {"String"=>{"str"=>"myvalidator"}}], "defaction"=>0, "location"=>31}}]}

------- End ALTER FOREIGN DATA WRAPPER dbi VALIDATOR bob.myvalidator;-------




-------ALTER GROUP staff ADD USER karl, john;-------
{"RawStmt"=>{"stmt"=>{"AlterRoleStmt"=>{"role"=>{"RoleSpec"=>{"roletype"=>0, "rolename"=>"staff", "location"=>12}}, "options"=>[{"DefElem"=>{"defname"=>"rolemembers", "arg"=>[{"RoleSpec"=>{"roletype"=>0, "rolename"=>"karl", "location"=>27}}, {"RoleSpec"=>{"roletype"=>0, "rolename"=>"john", "location"=>33}}], "defaction"=>0, "location"=>27}}], "action"=>1}}, "stmt_len"=>37}}

02448df1a77218ee9089790476efc4905ea79a7258



Can't deparse: AlterRoleStmt: {"role"=>{"RoleSpec"=>{"roletype"=>0, "rolename"=>"staff", "location"=>12}}, "options"=>[{"DefElem"=>{"defname"=>"rolemembers", "arg"=>[{"RoleSpec"=>{"roletype"=>0, "rolename"=>"karl", "location"=>27}}, {"RoleSpec"=>{"roletype"=>0, "rolename"=>"john", "location"=>33}}], "defaction"=>0, "location"=>27}}], "action"=>1}

------- End ALTER GROUP staff ADD USER karl, john;-------




-------ALTER GROUP workers DROP USER beth;-------
{"RawStmt"=>{"stmt"=>{"AlterRoleStmt"=>{"role"=>{"RoleSpec"=>{"roletype"=>0, "rolename"=>"workers", "location"=>12}}, "options"=>[{"DefElem"=>{"defname"=>"rolemembers", "arg"=>[{"RoleSpec"=>{"roletype"=>0, "rolename"=>"beth", "location"=>30}}], "defaction"=>0, "location"=>30}}], "action"=>-1}}, "stmt_len"=>34}}

02c49f7f7c84ce27c89a8fd65e4755858fc0c7df43



Can't deparse: AlterRoleStmt: {"role"=>{"RoleSpec"=>{"roletype"=>0, "rolename"=>"workers", "location"=>12}}, "options"=>[{"DefElem"=>{"defname"=>"rolemembers", "arg"=>[{"RoleSpec"=>{"roletype"=>0, "rolename"=>"beth", "location"=>30}}], "defaction"=>0, "location"=>30}}], "action"=>-1}

------- End ALTER GROUP workers DROP USER beth;-------




-------DROP FOREIGN DATA WRAPPER dbi;-------
{"RawStmt"=>{"stmt"=>{"DropStmt"=>{"objects"=>[{"String"=>{"str"=>"dbi"}}], "removeType"=>16, "behavior"=>0}}, "stmt_len"=>29}}

02753428b33fe9226d852ef4eb46a63211c3ce8aa9



undefined method `keys' for ["String", {"str"=>"dbi"}]:Array

------- End DROP FOREIGN DATA WRAPPER dbi;-------




-------mkdir /data/dbs
chown postgres:postgres /data/dbs-------






syntax error at or near "mkdir" (scan.l:1121)

------- End mkdir /data/dbs
chown postgres:postgres /data/dbs-------




-------CREATE TABLESPACE dbspace LOCATION '/data/dbs';-------
{"RawStmt"=>{"stmt"=>{"CreateTableSpaceStmt"=>{"tablespacename"=>"dbspace", "location"=>"/data/dbs"}}, "stmt_len"=>46}}

02c6313f1d0623f98bcf8815d0e72cab8e52a4ccf4



Can't deparse: CreateTableSpaceStmt: {"tablespacename"=>"dbspace", "location"=>"/data/dbs"}

------- End CREATE TABLESPACE dbspace LOCATION '/data/dbs';-------




-------CREATE TABLESPACE indexspace OWNER genevieve LOCATION '/data/indexes';-------
{"RawStmt"=>{"stmt"=>{"CreateTableSpaceStmt"=>{"tablespacename"=>"indexspace", "owner"=>{"RoleSpec"=>{"roletype"=>0, "rolename"=>"genevieve", "location"=>35}}, "location"=>"/data/indexes"}}, "stmt_len"=>69}}

021da8a44f1650d0a2160d4740b4926f205b87993a



Can't deparse: CreateTableSpaceStmt: {"tablespacename"=>"indexspace", "owner"=>{"RoleSpec"=>{"roletype"=>0, "rolename"=>"genevieve", "location"=>35}}, "location"=>"/data/indexes"}

------- End CREATE TABLESPACE indexspace OWNER genevieve LOCATION '/data/indexes';-------




-------SELECT SESSION_USER, CURRENT_USER;

 session_user | current_user 
--------------+--------------
 peter        | peter

SET SESSION AUTHORIZATION 'paul';

SELECT SESSION_USER, CURRENT_USER;

 session_user | current_user 
--------------+--------------
 paul         | paul-------






syntax error at or near "session_user" (scan.l:1121)

------- End SELECT SESSION_USER, CURRENT_USER;

 session_user | current_user 
--------------+--------------
 peter        | peter

SET SESSION AUTHORIZATION 'paul';

SELECT SESSION_USER, CURRENT_USER;

 session_user | current_user 
--------------+--------------
 paul         | paul-------




-------CREATE TRIGGER check_update
    BEFORE UPDATE ON accounts
    FOR EACH ROW
    EXECUTE FUNCTION check_account_update();-------






syntax error at or near "FUNCTION" (scan.l:1121)

------- End CREATE TRIGGER check_update
    BEFORE UPDATE ON accounts
    FOR EACH ROW
    EXECUTE FUNCTION check_account_update();-------




-------CREATE TRIGGER check_update
    BEFORE UPDATE OF balance ON accounts
    FOR EACH ROW
    EXECUTE FUNCTION check_account_update();-------






syntax error at or near "FUNCTION" (scan.l:1121)

------- End CREATE TRIGGER check_update
    BEFORE UPDATE OF balance ON accounts
    FOR EACH ROW
    EXECUTE FUNCTION check_account_update();-------




-------CREATE TRIGGER check_update
    BEFORE UPDATE ON accounts
    FOR EACH ROW
    WHEN (OLD.balance IS DISTINCT FROM NEW.balance)
    EXECUTE FUNCTION check_account_update();-------






syntax error at or near "FUNCTION" (scan.l:1121)

------- End CREATE TRIGGER check_update
    BEFORE UPDATE ON accounts
    FOR EACH ROW
    WHEN (OLD.balance IS DISTINCT FROM NEW.balance)
    EXECUTE FUNCTION check_account_update();-------




-------CREATE TRIGGER log_update
    AFTER UPDATE ON accounts
    FOR EACH ROW
    WHEN (OLD.* IS DISTINCT FROM NEW.*)
    EXECUTE FUNCTION log_account_update();-------






syntax error at or near "FUNCTION" (scan.l:1121)

------- End CREATE TRIGGER log_update
    AFTER UPDATE ON accounts
    FOR EACH ROW
    WHEN (OLD.* IS DISTINCT FROM NEW.*)
    EXECUTE FUNCTION log_account_update();-------




-------CREATE TRIGGER view_insert
    INSTEAD OF INSERT ON my_view
    FOR EACH ROW
    EXECUTE FUNCTION view_insert_row();-------






syntax error at or near "FUNCTION" (scan.l:1121)

------- End CREATE TRIGGER view_insert
    INSTEAD OF INSERT ON my_view
    FOR EACH ROW
    EXECUTE FUNCTION view_insert_row();-------




-------CREATE TRIGGER transfer_insert
    AFTER INSERT ON transfer
    REFERENCING NEW TABLE AS inserted
    FOR EACH STATEMENT
    EXECUTE FUNCTION check_transfer_balances_to_zero();-------






syntax error at or near "FUNCTION" (scan.l:1121)

------- End CREATE TRIGGER transfer_insert
    AFTER INSERT ON transfer
    REFERENCING NEW TABLE AS inserted
    FOR EACH STATEMENT
    EXECUTE FUNCTION check_transfer_balances_to_zero();-------




-------CREATE TRIGGER paired_items_update
    AFTER UPDATE ON paired_items
    REFERENCING NEW TABLE AS newtab OLD TABLE AS oldtab
    FOR EACH ROW
    EXECUTE FUNCTION check_matching_pairs();-------






syntax error at or near "FUNCTION" (scan.l:1121)

------- End CREATE TRIGGER paired_items_update
    AFTER UPDATE ON paired_items
    REFERENCING NEW TABLE AS newtab OLD TABLE AS oldtab
    FOR EACH ROW
    EXECUTE FUNCTION check_matching_pairs();-------




-------CREATE OR REPLACE FUNCTION abort_any_command()
  RETURNS event_trigger
 LANGUAGE plpgsql
  AS $$
BEGIN
  RAISE EXCEPTION 'command % is disabled', tg_tag;
END;
$$;

CREATE EVENT TRIGGER abort_ddl ON ddl_command_start
   EXECUTE FUNCTION abort_any_command();-------






syntax error at or near "FUNCTION" (scan.l:1121)

------- End CREATE OR REPLACE FUNCTION abort_any_command()
  RETURNS event_trigger
 LANGUAGE plpgsql
  AS $$
BEGIN
  RAISE EXCEPTION 'command % is disabled', tg_tag;
END;
$$;

CREATE EVENT TRIGGER abort_ddl ON ddl_command_start
   EXECUTE FUNCTION abort_any_command();-------




-------ALTER EXTENSION hstore UPDATE TO '2.0';-------
{"RawStmt"=>{"stmt"=>{"AlterExtensionStmt"=>{"extname"=>"hstore", "options"=>[{"DefElem"=>{"defname"=>"new_version", "arg"=>{"String"=>{"str"=>"2.0"}}, "defaction"=>0, "location"=>30}}]}}, "stmt_len"=>38}}

023d8c1b4ce6749410cd12a4171bd0f0e724889735



Can't deparse: AlterExtensionStmt: {"extname"=>"hstore", "options"=>[{"DefElem"=>{"defname"=>"new_version", "arg"=>{"String"=>{"str"=>"2.0"}}, "defaction"=>0, "location"=>30}}]}

------- End ALTER EXTENSION hstore UPDATE TO '2.0';-------




-------ALTER EXTENSION hstore SET SCHEMA utils;-------
{"RawStmt"=>{"stmt"=>{"AlterObjectSchemaStmt"=>{"objectType"=>15, "object"=>{"String"=>{"str"=>"hstore"}}, "newschema"=>"utils"}}, "stmt_len"=>39}}

0293d833bba53293da52b9af36a3ef4e48f4f563a5



Can't deparse: AlterObjectSchemaStmt: {"objectType"=>15, "object"=>{"String"=>{"str"=>"hstore"}}, "newschema"=>"utils"}

------- End ALTER EXTENSION hstore SET SCHEMA utils;-------




-------ALTER EXTENSION hstore ADD FUNCTION populate_record(anyelement, hstore);-------
{"RawStmt"=>{"stmt"=>{"AlterExtensionContentsStmt"=>{"extname"=>"hstore", "action"=>1, "objtype"=>19, "object"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"populate_record"}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"anyelement"}}], "typemod"=>-1, "location"=>52}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"hstore"}}], "typemod"=>-1, "location"=>64}}]}}}}, "stmt_len"=>71}}

0245eec7f8a86c74e2e9a4b3d3c5571fbe3fd72735



Can't deparse: AlterExtensionContentsStmt: {"extname"=>"hstore", "action"=>1, "objtype"=>19, "object"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"populate_record"}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"anyelement"}}], "typemod"=>-1, "location"=>52}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"hstore"}}], "typemod"=>-1, "location"=>64}}]}}}

------- End ALTER EXTENSION hstore ADD FUNCTION populate_record(anyelement, hstore);-------




-------ALTER ROUTINE foo(integer) RENAME TO foobar;-------






syntax error at or near "ROUTINE" (scan.l:1121)

------- End ALTER ROUTINE foo(integer) RENAME TO foobar;-------




-------DROP PROCEDURE do_db_maintenance();-------






syntax error at or near "PROCEDURE" (scan.l:1121)

------- End DROP PROCEDURE do_db_maintenance();-------




-------ALTER TABLESPACE index_space RENAME TO fast_raid;-------
{"RawStmt"=>{"stmt"=>{"RenameStmt"=>{"renameType"=>38, "relationType"=>0, "subname"=>"index_space", "newname"=>"fast_raid", "behavior"=>0}}, "stmt_len"=>48}}

02603c91560765d68f32688e6778b99bc735273ff3



Can't deparse: {"renameType"=>38, "relationType"=>0, "subname"=>"index_space", "newname"=>"fast_raid", "behavior"=>0}

------- End ALTER TABLESPACE index_space RENAME TO fast_raid;-------




-------ALTER TABLESPACE index_space OWNER TO mary;-------
{"RawStmt"=>{"stmt"=>{"AlterOwnerStmt"=>{"objectType"=>38, "object"=>{"String"=>{"str"=>"index_space"}}, "newowner"=>{"RoleSpec"=>{"roletype"=>0, "rolename"=>"mary", "location"=>38}}}}, "stmt_len"=>42}}

02f44df4d03e4a2ad7a877af47a580f48e82d6522d



Can't deparse: AlterOwnerStmt: {"objectType"=>38, "object"=>{"String"=>{"str"=>"index_space"}}, "newowner"=>{"RoleSpec"=>{"roletype"=>0, "rolename"=>"mary", "location"=>38}}}

------- End ALTER TABLESPACE index_space OWNER TO mary;-------




-------REFRESH MATERIALIZED VIEW order_summary;-------
{"RawStmt"=>{"stmt"=>{"RefreshMatViewStmt"=>{"relation"=>{"RangeVar"=>{"relname"=>"order_summary", "inh"=>true, "relpersistence"=>"p", "location"=>26}}}}, "stmt_len"=>39}}

024c805e04fa5f2179906ac25485efb79652cd353e



Can't deparse: RefreshMatViewStmt: {"relation"=>{"RangeVar"=>{"relname"=>"order_summary", "inh"=>true, "relpersistence"=>"p", "location"=>26}}}

------- End REFRESH MATERIALIZED VIEW order_summary;-------




-------REFRESH MATERIALIZED VIEW annual_statistics_basis WITH NO DATA;-------
{"RawStmt"=>{"stmt"=>{"RefreshMatViewStmt"=>{"skipData"=>true, "relation"=>{"RangeVar"=>{"relname"=>"annual_statistics_basis", "inh"=>true, "relpersistence"=>"p", "location"=>26}}}}, "stmt_len"=>62}}

020b2000f97fe72fa0d5b5b069889d8bb5dc648690



Can't deparse: RefreshMatViewStmt: {"skipData"=>true, "relation"=>{"RangeVar"=>{"relname"=>"annual_statistics_basis", "inh"=>true, "relpersistence"=>"p", "location"=>26}}}

------- End REFRESH MATERIALIZED VIEW annual_statistics_basis WITH NO DATA;-------




-------expression from RESTRICTIVE SELECT/ALL policy 1
AND
expression from RESTRICTIVE SELECT/ALL policy 2
AND
...
AND
(
  expression from PERMISSIVE SELECT/ALL policy 1
  OR
  expression from PERMISSIVE SELECT/ALL policy 2
  OR
  ...
)
AND
expression from RESTRICTIVE UPDATE/ALL policy 1
AND
expression from RESTRICTIVE UPDATE/ALL policy 2
AND
...
AND
(
  expression from PERMISSIVE UPDATE/ALL policy 1
  OR
  expression from PERMISSIVE UPDATE/ALL policy 2
  OR
  ...
)-------






syntax error at or near "expression" (scan.l:1121)

------- End expression from RESTRICTIVE SELECT/ALL policy 1
AND
expression from RESTRICTIVE SELECT/ALL policy 2
AND
...
AND
(
  expression from PERMISSIVE SELECT/ALL policy 1
  OR
  expression from PERMISSIVE SELECT/ALL policy 2
  OR
  ...
)
AND
expression from RESTRICTIVE UPDATE/ALL policy 1
AND
expression from RESTRICTIVE UPDATE/ALL policy 2
AND
...
AND
(
  expression from PERMISSIVE UPDATE/ALL policy 1
  OR
  expression from PERMISSIVE UPDATE/ALL policy 2
  OR
  ...
)-------




-------CREATE CAST (bigint AS int4) WITH FUNCTION int4(bigint) AS ASSIGNMENT;-------
{"RawStmt"=>{"stmt"=>{"CreateCastStmt"=>{"sourcetype"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"pg_catalog"}}, {"String"=>{"str"=>"int8"}}], "typemod"=>-1, "location"=>13}}, "targettype"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>23}}, "func"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"int4"}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"pg_catalog"}}, {"String"=>{"str"=>"int8"}}], "typemod"=>-1, "location"=>48}}]}}, "context"=>1}}, "stmt_len"=>69}}

02bbab55e5f6da9bd68791b2928732e0c92c94a405



Can't deparse: CreateCastStmt: {"sourcetype"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"pg_catalog"}}, {"String"=>{"str"=>"int8"}}], "typemod"=>-1, "location"=>13}}, "targettype"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>23}}, "func"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"int4"}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"pg_catalog"}}, {"String"=>{"str"=>"int8"}}], "typemod"=>-1, "location"=>48}}]}}, "context"=>1}

------- End CREATE CAST (bigint AS int4) WITH FUNCTION int4(bigint) AS ASSIGNMENT;-------




-------LISTEN virtual;
NOTIFY virtual;
Asynchronous notification "virtual" received from server process with PID 8448.-------






syntax error at or near "Asynchronous" (scan.l:1121)

------- End LISTEN virtual;
NOTIFY virtual;
Asynchronous notification "virtual" received from server process with PID 8448.-------




-------UNLISTEN virtual;
NOTIFY virtual;
-- no NOTIFY event is received-------
{"RawStmt"=>{"stmt"=>{"UnlistenStmt"=>{"conditionname"=>"virtual"}}, "stmt_len"=>16}}
{"RawStmt"=>{"stmt"=>{"NotifyStmt"=>{"conditionname"=>"virtual"}}, "stmt_location"=>17, "stmt_len"=>15}}

020eb995c18825f7b64892aaebf9434f577e024611



Can't deparse: UnlistenStmt: {"conditionname"=>"virtual"}

------- End UNLISTEN virtual;
NOTIFY virtual;
-- no NOTIFY event is received-------




-------CREATE PROCEDURE insert_data(a integer, b integer)
LANGUAGE SQL
AS $$
INSERT INTO tbl VALUES (a);
INSERT INTO tbl VALUES (b);
$$;

CALL insert_data(1, 2);-------






syntax error at or near "PROCEDURE" (scan.l:1121)

------- End CREATE PROCEDURE insert_data(a integer, b integer)
LANGUAGE SQL
AS $$
INSERT INTO tbl VALUES (a);
INSERT INTO tbl VALUES (b);
$$;

CALL insert_data(1, 2);-------




-------conv_proc(
    integer,  -- source encoding ID
    integer,  -- destination encoding ID
    cstring,  -- source string (null terminated C string)
    internal, -- destination (fill with a null terminated C string)
    integer   -- source string length
) RETURNS void;-------






syntax error at or near "conv_proc" (scan.l:1121)

------- End conv_proc(
    integer,  -- source encoding ID
    integer,  -- destination encoding ID
    cstring,  -- source string (null terminated C string)
    internal, -- destination (fill with a null terminated C string)
    integer   -- source string length
) RETURNS void;-------




-------CREATE CONVERSION myconv FOR 'UTF8' TO 'LATIN1' FROM myfunc;-------
{"RawStmt"=>{"stmt"=>{"CreateConversionStmt"=>{"conversion_name"=>[{"String"=>{"str"=>"myconv"}}], "for_encoding_name"=>"UTF8", "to_encoding_name"=>"LATIN1", "func_name"=>[{"String"=>{"str"=>"myfunc"}}]}}, "stmt_len"=>59}}

021796fde037d264c1d878d611538c5915f4dcc0e7



Can't deparse: CreateConversionStmt: {"conversion_name"=>[{"String"=>{"str"=>"myconv"}}], "for_encoding_name"=>"UTF8", "to_encoding_name"=>"LATIN1", "func_name"=>[{"String"=>{"str"=>"myfunc"}}]}

------- End CREATE CONVERSION myconv FOR 'UTF8' TO 'LATIN1' FROM myfunc;-------




-------ALTER SUBSCRIPTION mysub SET PUBLICATION insert_only;-------
{"RawStmt"=>{"stmt"=>{"AlterSubscriptionStmt"=>{"kind"=>2, "subname"=>"mysub", "publication"=>[{"String"=>{"str"=>"insert_only"}}]}}, "stmt_len"=>52}}

02e47ca2999207eed7eb36c54e550f0a1167272b0d



Can't deparse: AlterSubscriptionStmt: {"kind"=>2, "subname"=>"mysub", "publication"=>[{"String"=>{"str"=>"insert_only"}}]}

------- End ALTER SUBSCRIPTION mysub SET PUBLICATION insert_only;-------




-------ALTER SUBSCRIPTION mysub DISABLE;-------
{"RawStmt"=>{"stmt"=>{"AlterSubscriptionStmt"=>{"kind"=>4, "subname"=>"mysub", "options"=>[{"DefElem"=>{"defname"=>"enabled", "arg"=>{"Integer"=>{"ival"=>0}}, "defaction"=>0}}]}}, "stmt_len"=>32}}

02d03b7c23638e4651c630060122a8ed468498fba5



Can't deparse: AlterSubscriptionStmt: {"kind"=>4, "subname"=>"mysub", "options"=>[{"DefElem"=>{"defname"=>"enabled", "arg"=>{"Integer"=>{"ival"=>0}}, "defaction"=>0}}]}

------- End ALTER SUBSCRIPTION mysub DISABLE;-------




-------CREATE FOREIGN TABLE films (
    code        char(5) NOT NULL,
    title       varchar(40) NOT NULL,
    did         integer NOT NULL,
    date_prod   date,
    kind        varchar(10),
    len         interval hour to minute
)
SERVER film_server;-------
{"RawStmt"=>{"stmt"=>{"CreateForeignTableStmt"=>{"base"=>{"CreateStmt"=>{"relation"=>{"RangeVar"=>{"relname"=>"films", "inh"=>true, "relpersistence"=>"p", "location"=>21}}, "tableElts"=>[{"ColumnDef"=>{"colname"=>"code", "typeName"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"pg_catalog"}}, {"String"=>{"str"=>"bpchar"}}], "typmods"=>[{"A_Const"=>{"val"=>{"Integer"=>{"ival"=>5}}, "location"=>50}}], "typemod"=>-1, "location"=>45}}, "is_local"=>true, "constraints"=>[{"Constraint"=>{"contype"=>1, "location"=>53}}], "location"=>33}}, {"ColumnDef"=>{"colname"=>"title", "typeName"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"pg_catalog"}}, {"String"=>{"str"=>"varchar"}}], "typmods"=>[{"A_Const"=>{"val"=>{"Integer"=>{"ival"=>40}}, "location"=>87}}], "typemod"=>-1, "location"=>79}}, "is_local"=>true, "constraints"=>[{"Constraint"=>{"contype"=>1, "location"=>91}}], "location"=>67}}, {"ColumnDef"=>{"colname"=>"did", "typeName"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"pg_catalog"}}, {"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>117}}, "is_local"=>true, "constraints"=>[{"Constraint"=>{"contype"=>1, "location"=>125}}], "location"=>105}}, {"ColumnDef"=>{"colname"=>"date_prod", "typeName"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"date"}}], "typemod"=>-1, "location"=>151}}, "is_local"=>true, "location"=>139}}, {"ColumnDef"=>{"colname"=>"kind", "typeName"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"pg_catalog"}}, {"String"=>{"str"=>"varchar"}}], "typmods"=>[{"A_Const"=>{"val"=>{"Integer"=>{"ival"=>10}}, "location"=>181}}], "typemod"=>-1, "location"=>173}}, "is_local"=>true, "location"=>161}}, {"ColumnDef"=>{"colname"=>"len", "typeName"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"pg_catalog"}}, {"String"=>{"str"=>"interval"}}], "typmods"=>[{"A_Const"=>{"val"=>{"Integer"=>{"ival"=>3072}}, "location"=>211}}], "typemod"=>-1, "location"=>202}}, "is_local"=>true, "location"=>190}}], "oncommit"=>0}}, "servername"=>"film_server"}}, "stmt_len"=>246}}

02b0c2fc198936c202bae2b68e3bef481a1e96cd46



Can't deparse: CreateForeignTableStmt: {"base"=>{"CreateStmt"=>{"relation"=>{"RangeVar"=>{"relname"=>"films", "inh"=>true, "relpersistence"=>"p", "location"=>21}}, "tableElts"=>[{"ColumnDef"=>{"colname"=>"code", "typeName"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"pg_catalog"}}, {"String"=>{"str"=>"bpchar"}}], "typmods"=>[{"A_Const"=>{"val"=>{"Integer"=>{"ival"=>5}}, "location"=>50}}], "typemod"=>-1, "location"=>45}}, "is_local"=>true, "constraints"=>[{"Constraint"=>{"contype"=>1, "location"=>53}}], "location"=>33}}, {"ColumnDef"=>{"colname"=>"title", "typeName"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"pg_catalog"}}, {"String"=>{"str"=>"varchar"}}], "typmods"=>[{"A_Const"=>{"val"=>{"Integer"=>{"ival"=>40}}, "location"=>87}}], "typemod"=>-1, "location"=>79}}, "is_local"=>true, "constraints"=>[{"Constraint"=>{"contype"=>1, "location"=>91}}], "location"=>67}}, {"ColumnDef"=>{"colname"=>"did", "typeName"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"pg_catalog"}}, {"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>117}}, "is_local"=>true, "constraints"=>[{"Constraint"=>{"contype"=>1, "location"=>125}}], "location"=>105}}, {"ColumnDef"=>{"colname"=>"date_prod", "typeName"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"date"}}], "typemod"=>-1, "location"=>151}}, "is_local"=>true, "location"=>139}}, {"ColumnDef"=>{"colname"=>"kind", "typeName"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"pg_catalog"}}, {"String"=>{"str"=>"varchar"}}], "typmods"=>[{"A_Const"=>{"val"=>{"Integer"=>{"ival"=>10}}, "location"=>181}}], "typemod"=>-1, "location"=>173}}, "is_local"=>true, "location"=>161}}, {"ColumnDef"=>{"colname"=>"len", "typeName"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"pg_catalog"}}, {"String"=>{"str"=>"interval"}}], "typmods"=>[{"A_Const"=>{"val"=>{"Integer"=>{"ival"=>3072}}, "location"=>211}}], "typemod"=>-1, "location"=>202}}, "is_local"=>true, "location"=>190}}], "oncommit"=>0}}, "servername"=>"film_server"}

------- End CREATE FOREIGN TABLE films (
    code        char(5) NOT NULL,
    title       varchar(40) NOT NULL,
    did         integer NOT NULL,
    date_prod   date,
    kind        varchar(10),
    len         interval hour to minute
)
SERVER film_server;-------




-------CREATE FOREIGN TABLE measurement_y2016m07
    PARTITION OF measurement FOR VALUES FROM ('2016-07-01') TO ('2016-08-01')
    SERVER server_07;-------
{"RawStmt"=>{"stmt"=>{"CreateForeignTableStmt"=>{"base"=>{"CreateStmt"=>{"relation"=>{"RangeVar"=>{"relname"=>"measurement_y2016m07", "inh"=>true, "relpersistence"=>"p", "location"=>21}}, "inhRelations"=>[{"RangeVar"=>{"relname"=>"measurement", "inh"=>true, "relpersistence"=>"p", "location"=>59}}], "partbound"=>{"PartitionBoundSpec"=>{"strategy"=>"r", "lowerdatums"=>[{"PartitionRangeDatum"=>{"kind"=>0, "value"=>{"A_Const"=>{"val"=>{"String"=>{"str"=>"2016-07-01"}}, "location"=>88}}, "location"=>88}}], "upperdatums"=>[{"PartitionRangeDatum"=>{"kind"=>0, "value"=>{"A_Const"=>{"val"=>{"String"=>{"str"=>"2016-08-01"}}, "location"=>106}}, "location"=>106}}], "location"=>82}}, "oncommit"=>0}}, "servername"=>"server_07"}}, "stmt_len"=>140}}

020647efbe2a9613725ca665972613a5de719bb2d5



Can't deparse: CreateForeignTableStmt: {"base"=>{"CreateStmt"=>{"relation"=>{"RangeVar"=>{"relname"=>"measurement_y2016m07", "inh"=>true, "relpersistence"=>"p", "location"=>21}}, "inhRelations"=>[{"RangeVar"=>{"relname"=>"measurement", "inh"=>true, "relpersistence"=>"p", "location"=>59}}], "partbound"=>{"PartitionBoundSpec"=>{"strategy"=>"r", "lowerdatums"=>[{"PartitionRangeDatum"=>{"kind"=>0, "value"=>{"A_Const"=>{"val"=>{"String"=>{"str"=>"2016-07-01"}}, "location"=>88}}, "location"=>88}}], "upperdatums"=>[{"PartitionRangeDatum"=>{"kind"=>0, "value"=>{"A_Const"=>{"val"=>{"String"=>{"str"=>"2016-08-01"}}, "location"=>106}}, "location"=>106}}], "location"=>82}}, "oncommit"=>0}}, "servername"=>"server_07"}

------- End CREATE FOREIGN TABLE measurement_y2016m07
    PARTITION OF measurement FOR VALUES FROM ('2016-07-01') TO ('2016-08-01')
    SERVER server_07;-------




-------BEGIN WORK;

-- Set up a cursor:
DECLARE liahona SCROLL CURSOR FOR SELECT * FROM films;

-- Fetch the first 5 rows in the cursor liahona:
FETCH FORWARD 5 FROM liahona;

 code  |          title          | did | date_prod  |   kind   |  len
-------+-------------------------+-----+------------+----------+-------
 BL101 | The Third Man           | 101 | 1949-12-23 | Drama    | 01:44
 BL102 | The African Queen       | 101 | 1951-08-11 | Romantic | 01:43
 JL201 | Une Femme est une Femme | 102 | 1961-03-12 | Romantic | 01:25
 P_301 | Vertigo                 | 103 | 1958-11-14 | Action   | 02:08
 P_302 | Becket                  | 103 | 1964-02-03 | Drama    | 02:28

-- Fetch the previous row:
FETCH PRIOR FROM liahona;

 code  |  title  | did | date_prod  |  kind  |  len
-------+---------+-----+------------+--------+-------
 P_301 | Vertigo | 103 | 1958-11-14 | Action | 02:08

-- Close the cursor and end the transaction:
CLOSE liahona;
COMMIT WORK;-------






syntax error at or near "code" (scan.l:1121)

------- End BEGIN WORK;

-- Set up a cursor:
DECLARE liahona SCROLL CURSOR FOR SELECT * FROM films;

-- Fetch the first 5 rows in the cursor liahona:
FETCH FORWARD 5 FROM liahona;

 code  |          title          | did | date_prod  |   kind   |  len
-------+-------------------------+-----+------------+----------+-------
 BL101 | The Third Man           | 101 | 1949-12-23 | Drama    | 01:44
 BL102 | The African Queen       | 101 | 1951-08-11 | Romantic | 01:43
 JL201 | Une Femme est une Femme | 102 | 1961-03-12 | Romantic | 01:25
 P_301 | Vertigo                 | 103 | 1958-11-14 | Action   | 02:08
 P_302 | Becket                  | 103 | 1964-02-03 | Drama    | 02:28

-- Fetch the previous row:
FETCH PRIOR FROM liahona;

 code  |  title  | did | date_prod  |  kind  |  len
-------+---------+-----+------------+--------+-------
 P_301 | Vertigo | 103 | 1958-11-14 | Action | 02:08

-- Close the cursor and end the transaction:
CLOSE liahona;
COMMIT WORK;-------




-------TRUNCATE bigtable, fattable;-------
{"RawStmt"=>{"stmt"=>{"TruncateStmt"=>{"relations"=>[{"RangeVar"=>{"relname"=>"bigtable", "inh"=>true, "relpersistence"=>"p", "location"=>9}}, {"RangeVar"=>{"relname"=>"fattable", "inh"=>true, "relpersistence"=>"p", "location"=>19}}], "behavior"=>0}}, "stmt_len"=>27}}

024b1ed1cfd7631c68ef65814210f646aea791c492



Can't deparse: TruncateStmt: {"relations"=>[{"RangeVar"=>{"relname"=>"bigtable", "inh"=>true, "relpersistence"=>"p", "location"=>9}}, {"RangeVar"=>{"relname"=>"fattable", "inh"=>true, "relpersistence"=>"p", "location"=>19}}], "behavior"=>0}

------- End TRUNCATE bigtable, fattable;-------




-------TRUNCATE bigtable, fattable RESTART IDENTITY;-------
{"RawStmt"=>{"stmt"=>{"TruncateStmt"=>{"relations"=>[{"RangeVar"=>{"relname"=>"bigtable", "inh"=>true, "relpersistence"=>"p", "location"=>9}}, {"RangeVar"=>{"relname"=>"fattable", "inh"=>true, "relpersistence"=>"p", "location"=>19}}], "restart_seqs"=>true, "behavior"=>0}}, "stmt_len"=>44}}

027d86e9a2028b6a26c6a4647f71549239b2281c11



Can't deparse: TruncateStmt: {"relations"=>[{"RangeVar"=>{"relname"=>"bigtable", "inh"=>true, "relpersistence"=>"p", "location"=>9}}, {"RangeVar"=>{"relname"=>"fattable", "inh"=>true, "relpersistence"=>"p", "location"=>19}}], "restart_seqs"=>true, "behavior"=>0}

------- End TRUNCATE bigtable, fattable RESTART IDENTITY;-------




-------TRUNCATE othertable CASCADE;-------
{"RawStmt"=>{"stmt"=>{"TruncateStmt"=>{"relations"=>[{"RangeVar"=>{"relname"=>"othertable", "inh"=>true, "relpersistence"=>"p", "location"=>9}}], "behavior"=>1}}, "stmt_len"=>27}}

02212eb125d28b4ad25f78ff8b35e8faffaeefce73



Can't deparse: TruncateStmt: {"relations"=>[{"RangeVar"=>{"relname"=>"othertable", "inh"=>true, "relpersistence"=>"p", "location"=>9}}], "behavior"=>1}

------- End TRUNCATE othertable CASCADE;-------




-------ALTER RULE notify_all ON emp RENAME TO notify_me;-------
{"RawStmt"=>{"stmt"=>{"RenameStmt"=>{"renameType"=>31, "relationType"=>0, "relation"=>{"RangeVar"=>{"relname"=>"emp", "inh"=>true, "relpersistence"=>"p", "location"=>25}}, "subname"=>"notify_all", "newname"=>"notify_me", "behavior"=>0}}, "stmt_len"=>48}}

02c94c01f61ade6f229014bb3a7f297e4b44e1ae87



Can't deparse: {"renameType"=>31, "relationType"=>0, "relation"=>{"RangeVar"=>{"relname"=>"emp", "inh"=>true, "relpersistence"=>"p", "location"=>25}}, "subname"=>"notify_all", "newname"=>"notify_me", "behavior"=>0}

------- End ALTER RULE notify_all ON emp RENAME TO notify_me;-------




-------IMPORT FOREIGN SCHEMA foreign_films
    FROM SERVER film_server INTO films;-------
{"RawStmt"=>{"stmt"=>{"ImportForeignSchemaStmt"=>{"server_name"=>"film_server", "remote_schema"=>"foreign_films", "local_schema"=>"films", "list_type"=>0}}, "stmt_len"=>74}}

02c2a96cdecb468dc124fc8c1d50bb4883597e1797



Can't deparse: ImportForeignSchemaStmt: {"server_name"=>"film_server", "remote_schema"=>"foreign_films", "local_schema"=>"films", "list_type"=>0}

------- End IMPORT FOREIGN SCHEMA foreign_films
    FROM SERVER film_server INTO films;-------




-------IMPORT FOREIGN SCHEMA foreign_films LIMIT TO (actors, directors)
    FROM SERVER film_server INTO films;-------
{"RawStmt"=>{"stmt"=>{"ImportForeignSchemaStmt"=>{"server_name"=>"film_server", "remote_schema"=>"foreign_films", "local_schema"=>"films", "list_type"=>1, "table_list"=>[{"RangeVar"=>{"relname"=>"actors", "inh"=>true, "relpersistence"=>"p", "location"=>46}}, {"RangeVar"=>{"relname"=>"directors", "inh"=>true, "relpersistence"=>"p", "location"=>54}}]}}, "stmt_len"=>103}}

0200a4b8d7a0230094a794c0680df28d97d279bc57



Can't deparse: ImportForeignSchemaStmt: {"server_name"=>"film_server", "remote_schema"=>"foreign_films", "local_schema"=>"films", "list_type"=>1, "table_list"=>[{"RangeVar"=>{"relname"=>"actors", "inh"=>true, "relpersistence"=>"p", "location"=>46}}, {"RangeVar"=>{"relname"=>"directors", "inh"=>true, "relpersistence"=>"p", "location"=>54}}]}

------- End IMPORT FOREIGN SCHEMA foreign_films LIMIT TO (actors, directors)
    FROM SERVER film_server INTO films;-------




-------CLUSTER employees USING employees_ind;-------
{"RawStmt"=>{"stmt"=>{"ClusterStmt"=>{"relation"=>{"RangeVar"=>{"relname"=>"employees", "inh"=>true, "relpersistence"=>"p", "location"=>8}}, "indexname"=>"employees_ind"}}, "stmt_len"=>37}}

0209e90c3bc15f1113ce8b22a8c99004a1576159eb



Can't deparse: ClusterStmt: {"relation"=>{"RangeVar"=>{"relname"=>"employees", "inh"=>true, "relpersistence"=>"p", "location"=>8}}, "indexname"=>"employees_ind"}

------- End CLUSTER employees USING employees_ind;-------




-------CLUSTER employees;-------
{"RawStmt"=>{"stmt"=>{"ClusterStmt"=>{"relation"=>{"RangeVar"=>{"relname"=>"employees", "inh"=>true, "relpersistence"=>"p", "location"=>8}}}}, "stmt_len"=>17}}

02d22215e18d5badbb171d26b2afb19ba6b9b28e47



Can't deparse: ClusterStmt: {"relation"=>{"RangeVar"=>{"relname"=>"employees", "inh"=>true, "relpersistence"=>"p", "location"=>8}}}

------- End CLUSTER employees;-------




-------CLUSTER;-------
{"RawStmt"=>{"stmt"=>{"ClusterStmt"=>{}}, "stmt_len"=>7}}

0250798864fb832c1f2b5adf0000349cfba3340727



Can't deparse: ClusterStmt: {}

------- End CLUSTER;-------




-------BEGIN;

DECLARE foo CURSOR FOR SELECT 1 UNION SELECT 2;

SAVEPOINT foo;

FETCH 1 FROM foo;
 ?column? 
----------
        1

ROLLBACK TO SAVEPOINT foo;

FETCH 1 FROM foo;
 ?column? 
----------
        2

COMMIT;-------






syntax error at or near "?" (scan.l:1121)

------- End BEGIN;

DECLARE foo CURSOR FOR SELECT 1 UNION SELECT 2;

SAVEPOINT foo;

FETCH 1 FROM foo;
 ?column? 
----------
        1

ROLLBACK TO SAVEPOINT foo;

FETCH 1 FROM foo;
 ?column? 
----------
        2

COMMIT;-------




-------CREATE FOREIGN DATA WRAPPER dummy;-------
{"RawStmt"=>{"stmt"=>{"CreateFdwStmt"=>{"fdwname"=>"dummy"}}, "stmt_len"=>33}}

026ce993d2388ce84548e741856b872376731d8ba3



Can't deparse: CreateFdwStmt: {"fdwname"=>"dummy"}

------- End CREATE FOREIGN DATA WRAPPER dummy;-------




-------CREATE FOREIGN DATA WRAPPER file HANDLER file_fdw_handler;-------
{"RawStmt"=>{"stmt"=>{"CreateFdwStmt"=>{"fdwname"=>"file", "func_options"=>[{"DefElem"=>{"defname"=>"handler", "arg"=>[{"String"=>{"str"=>"file_fdw_handler"}}], "defaction"=>0, "location"=>33}}]}}, "stmt_len"=>57}}

02aaf1199bc49196d3889bbb2cdf510042aad87e6d



Can't deparse: CreateFdwStmt: {"fdwname"=>"file", "func_options"=>[{"DefElem"=>{"defname"=>"handler", "arg"=>[{"String"=>{"str"=>"file_fdw_handler"}}], "defaction"=>0, "location"=>33}}]}

------- End CREATE FOREIGN DATA WRAPPER file HANDLER file_fdw_handler;-------




-------CREATE FOREIGN DATA WRAPPER mywrapper
    OPTIONS (debug 'true');-------
{"RawStmt"=>{"stmt"=>{"CreateFdwStmt"=>{"fdwname"=>"mywrapper", "options"=>[{"DefElem"=>{"defname"=>"debug", "arg"=>{"String"=>{"str"=>"true"}}, "defaction"=>0, "location"=>51}}]}}, "stmt_len"=>64}}

0282dd469149a1fffc345d84d2bdf2dfea7489777b



Can't deparse: CreateFdwStmt: {"fdwname"=>"mywrapper", "options"=>[{"DefElem"=>{"defname"=>"debug", "arg"=>{"String"=>{"str"=>"true"}}, "defaction"=>0, "location"=>51}}]}

------- End CREATE FOREIGN DATA WRAPPER mywrapper
    OPTIONS (debug 'true');-------




-------ALTER OPERATOR FAMILY integer_ops USING btree ADD

  -- int4 vs int2
  OPERATOR 1 < (int4, int2) ,
  OPERATOR 2 <= (int4, int2) ,
  OPERATOR 3 = (int4, int2) ,
  OPERATOR 4 >= (int4, int2) ,
  OPERATOR 5 > (int4, int2) ,
  FUNCTION 1 btint42cmp(int4, int2) ,

  -- int2 vs int4
  OPERATOR 1 < (int2, int4) ,
  OPERATOR 2 <= (int2, int4) ,
  OPERATOR 3 = (int2, int4) ,
  OPERATOR 4 >= (int2, int4) ,
  OPERATOR 5 > (int2, int4) ,
  FUNCTION 1 btint24cmp(int2, int4) ;-------
{"RawStmt"=>{"stmt"=>{"AlterOpFamilyStmt"=>{"opfamilyname"=>[{"String"=>{"str"=>"integer_ops"}}], "amname"=>"btree", "items"=>[{"CreateOpClassItem"=>{"itemtype"=>1, "name"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"<"}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>85}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"int2"}}], "typemod"=>-1, "location"=>91}}]}}, "number"=>1}}, {"CreateOpClassItem"=>{"itemtype"=>1, "name"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"<="}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>116}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"int2"}}], "typemod"=>-1, "location"=>122}}]}}, "number"=>2}}, {"CreateOpClassItem"=>{"itemtype"=>1, "name"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"="}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>146}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"int2"}}], "typemod"=>-1, "location"=>152}}]}}, "number"=>3}}, {"CreateOpClassItem"=>{"itemtype"=>1, "name"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>">="}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>177}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"int2"}}], "typemod"=>-1, "location"=>183}}]}}, "number"=>4}}, {"CreateOpClassItem"=>{"itemtype"=>1, "name"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>">"}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>207}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"int2"}}], "typemod"=>-1, "location"=>213}}]}}, "number"=>5}}, {"CreateOpClassItem"=>{"itemtype"=>2, "name"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"btint42cmp"}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>245}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"int2"}}], "typemod"=>-1, "location"=>251}}]}}, "number"=>1}}, {"CreateOpClassItem"=>{"itemtype"=>1, "name"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"<"}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"int2"}}], "typemod"=>-1, "location"=>294}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>300}}]}}, "number"=>1}}, {"CreateOpClassItem"=>{"itemtype"=>1, "name"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"<="}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"int2"}}], "typemod"=>-1, "location"=>325}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>331}}]}}, "number"=>2}}, {"CreateOpClassItem"=>{"itemtype"=>1, "name"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"="}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"int2"}}], "typemod"=>-1, "location"=>355}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>361}}]}}, "number"=>3}}, {"CreateOpClassItem"=>{"itemtype"=>1, "name"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>">="}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"int2"}}], "typemod"=>-1, "location"=>386}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>392}}]}}, "number"=>4}}, {"CreateOpClassItem"=>{"itemtype"=>1, "name"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>">"}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"int2"}}], "typemod"=>-1, "location"=>416}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>422}}]}}, "number"=>5}}, {"CreateOpClassItem"=>{"itemtype"=>2, "name"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"btint24cmp"}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"int2"}}], "typemod"=>-1, "location"=>454}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>460}}]}}, "number"=>1}}]}}, "stmt_len"=>466}}

0214de4ac163b6e04ab0d0aca3ce0a74f920a76edd



Can't deparse: AlterOpFamilyStmt: {"opfamilyname"=>[{"String"=>{"str"=>"integer_ops"}}], "amname"=>"btree", "items"=>[{"CreateOpClassItem"=>{"itemtype"=>1, "name"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"<"}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>85}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"int2"}}], "typemod"=>-1, "location"=>91}}]}}, "number"=>1}}, {"CreateOpClassItem"=>{"itemtype"=>1, "name"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"<="}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>116}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"int2"}}], "typemod"=>-1, "location"=>122}}]}}, "number"=>2}}, {"CreateOpClassItem"=>{"itemtype"=>1, "name"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"="}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>146}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"int2"}}], "typemod"=>-1, "location"=>152}}]}}, "number"=>3}}, {"CreateOpClassItem"=>{"itemtype"=>1, "name"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>">="}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>177}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"int2"}}], "typemod"=>-1, "location"=>183}}]}}, "number"=>4}}, {"CreateOpClassItem"=>{"itemtype"=>1, "name"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>">"}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>207}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"int2"}}], "typemod"=>-1, "location"=>213}}]}}, "number"=>5}}, {"CreateOpClassItem"=>{"itemtype"=>2, "name"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"btint42cmp"}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>245}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"int2"}}], "typemod"=>-1, "location"=>251}}]}}, "number"=>1}}, {"CreateOpClassItem"=>{"itemtype"=>1, "name"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"<"}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"int2"}}], "typemod"=>-1, "location"=>294}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>300}}]}}, "number"=>1}}, {"CreateOpClassItem"=>{"itemtype"=>1, "name"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"<="}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"int2"}}], "typemod"=>-1, "location"=>325}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>331}}]}}, "number"=>2}}, {"CreateOpClassItem"=>{"itemtype"=>1, "name"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"="}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"int2"}}], "typemod"=>-1, "location"=>355}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>361}}]}}, "number"=>3}}, {"CreateOpClassItem"=>{"itemtype"=>1, "name"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>">="}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"int2"}}], "typemod"=>-1, "location"=>386}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>392}}]}}, "number"=>4}}, {"CreateOpClassItem"=>{"itemtype"=>1, "name"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>">"}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"int2"}}], "typemod"=>-1, "location"=>416}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>422}}]}}, "number"=>5}}, {"CreateOpClassItem"=>{"itemtype"=>2, "name"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"btint24cmp"}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"int2"}}], "typemod"=>-1, "location"=>454}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>460}}]}}, "number"=>1}}]}

------- End ALTER OPERATOR FAMILY integer_ops USING btree ADD

  -- int4 vs int2
  OPERATOR 1 < (int4, int2) ,
  OPERATOR 2 <= (int4, int2) ,
  OPERATOR 3 = (int4, int2) ,
  OPERATOR 4 >= (int4, int2) ,
  OPERATOR 5 > (int4, int2) ,
  FUNCTION 1 btint42cmp(int4, int2) ,

  -- int2 vs int4
  OPERATOR 1 < (int2, int4) ,
  OPERATOR 2 <= (int2, int4) ,
  OPERATOR 3 = (int2, int4) ,
  OPERATOR 4 >= (int2, int4) ,
  OPERATOR 5 > (int2, int4) ,
  FUNCTION 1 btint24cmp(int2, int4) ;-------




-------ALTER OPERATOR FAMILY integer_ops USING btree DROP

  -- int4 vs int2
  OPERATOR 1 (int4, int2) ,
  OPERATOR 2 (int4, int2) ,
  OPERATOR 3 (int4, int2) ,
  OPERATOR 4 (int4, int2) ,
  OPERATOR 5 (int4, int2) ,
  FUNCTION 1 (int4, int2) ,

  -- int2 vs int4
  OPERATOR 1 (int2, int4) ,
  OPERATOR 2 (int2, int4) ,
  OPERATOR 3 (int2, int4) ,
  OPERATOR 4 (int2, int4) ,
  OPERATOR 5 (int2, int4) ,
  FUNCTION 1 (int2, int4) ;-------
{"RawStmt"=>{"stmt"=>{"AlterOpFamilyStmt"=>{"opfamilyname"=>[{"String"=>{"str"=>"integer_ops"}}], "amname"=>"btree", "isDrop"=>true, "items"=>[{"CreateOpClassItem"=>{"itemtype"=>1, "number"=>1, "class_args"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>84}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"int2"}}], "typemod"=>-1, "location"=>90}}]}}, {"CreateOpClassItem"=>{"itemtype"=>1, "number"=>2, "class_args"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>112}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"int2"}}], "typemod"=>-1, "location"=>118}}]}}, {"CreateOpClassItem"=>{"itemtype"=>1, "number"=>3, "class_args"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>140}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"int2"}}], "typemod"=>-1, "location"=>146}}]}}, {"CreateOpClassItem"=>{"itemtype"=>1, "number"=>4, "class_args"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>168}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"int2"}}], "typemod"=>-1, "location"=>174}}]}}, {"CreateOpClassItem"=>{"itemtype"=>1, "number"=>5, "class_args"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>196}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"int2"}}], "typemod"=>-1, "location"=>202}}]}}, {"CreateOpClassItem"=>{"itemtype"=>2, "number"=>1, "class_args"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>224}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"int2"}}], "typemod"=>-1, "location"=>230}}]}}, {"CreateOpClassItem"=>{"itemtype"=>1, "number"=>1, "class_args"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"int2"}}], "typemod"=>-1, "location"=>271}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>277}}]}}, {"CreateOpClassItem"=>{"itemtype"=>1, "number"=>2, "class_args"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"int2"}}], "typemod"=>-1, "location"=>299}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>305}}]}}, {"CreateOpClassItem"=>{"itemtype"=>1, "number"=>3, "class_args"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"int2"}}], "typemod"=>-1, "location"=>327}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>333}}]}}, {"CreateOpClassItem"=>{"itemtype"=>1, "number"=>4, "class_args"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"int2"}}], "typemod"=>-1, "location"=>355}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>361}}]}}, {"CreateOpClassItem"=>{"itemtype"=>1, "number"=>5, "class_args"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"int2"}}], "typemod"=>-1, "location"=>383}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>389}}]}}, {"CreateOpClassItem"=>{"itemtype"=>2, "number"=>1, "class_args"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"int2"}}], "typemod"=>-1, "location"=>411}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>417}}]}}]}}, "stmt_len"=>423}}

0281c0b13bd466308f0c753f3040e443ffbbc16789



Can't deparse: AlterOpFamilyStmt: {"opfamilyname"=>[{"String"=>{"str"=>"integer_ops"}}], "amname"=>"btree", "isDrop"=>true, "items"=>[{"CreateOpClassItem"=>{"itemtype"=>1, "number"=>1, "class_args"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>84}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"int2"}}], "typemod"=>-1, "location"=>90}}]}}, {"CreateOpClassItem"=>{"itemtype"=>1, "number"=>2, "class_args"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>112}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"int2"}}], "typemod"=>-1, "location"=>118}}]}}, {"CreateOpClassItem"=>{"itemtype"=>1, "number"=>3, "class_args"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>140}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"int2"}}], "typemod"=>-1, "location"=>146}}]}}, {"CreateOpClassItem"=>{"itemtype"=>1, "number"=>4, "class_args"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>168}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"int2"}}], "typemod"=>-1, "location"=>174}}]}}, {"CreateOpClassItem"=>{"itemtype"=>1, "number"=>5, "class_args"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>196}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"int2"}}], "typemod"=>-1, "location"=>202}}]}}, {"CreateOpClassItem"=>{"itemtype"=>2, "number"=>1, "class_args"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>224}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"int2"}}], "typemod"=>-1, "location"=>230}}]}}, {"CreateOpClassItem"=>{"itemtype"=>1, "number"=>1, "class_args"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"int2"}}], "typemod"=>-1, "location"=>271}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>277}}]}}, {"CreateOpClassItem"=>{"itemtype"=>1, "number"=>2, "class_args"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"int2"}}], "typemod"=>-1, "location"=>299}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>305}}]}}, {"CreateOpClassItem"=>{"itemtype"=>1, "number"=>3, "class_args"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"int2"}}], "typemod"=>-1, "location"=>327}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>333}}]}}, {"CreateOpClassItem"=>{"itemtype"=>1, "number"=>4, "class_args"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"int2"}}], "typemod"=>-1, "location"=>355}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>361}}]}}, {"CreateOpClassItem"=>{"itemtype"=>1, "number"=>5, "class_args"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"int2"}}], "typemod"=>-1, "location"=>383}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>389}}]}}, {"CreateOpClassItem"=>{"itemtype"=>2, "number"=>1, "class_args"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"int2"}}], "typemod"=>-1, "location"=>411}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>417}}]}}]}

------- End ALTER OPERATOR FAMILY integer_ops USING btree DROP

  -- int4 vs int2
  OPERATOR 1 (int4, int2) ,
  OPERATOR 2 (int4, int2) ,
  OPERATOR 3 (int4, int2) ,
  OPERATOR 4 (int4, int2) ,
  OPERATOR 5 (int4, int2) ,
  FUNCTION 1 (int4, int2) ,

  -- int2 vs int4
  OPERATOR 1 (int2, int4) ,
  OPERATOR 2 (int2, int4) ,
  OPERATOR 3 (int2, int4) ,
  OPERATOR 4 (int2, int4) ,
  OPERATOR 5 (int2, int4) ,
  FUNCTION 1 (int2, int4) ;-------




-------DELETE FROM tasks WHERE CURRENT OF c_tasks;-------
{"RawStmt"=>{"stmt"=>{"DeleteStmt"=>{"relation"=>{"RangeVar"=>{"relname"=>"tasks", "inh"=>true, "relpersistence"=>"p", "location"=>12}}, "whereClause"=>{"CurrentOfExpr"=>{"cursor_name"=>"c_tasks"}}}}, "stmt_len"=>42}}

028f222f92b3147b41af198493b7626675cb8661c3



Can't deparse: CurrentOfExpr: {"cursor_name"=>"c_tasks"}

------- End DELETE FROM tasks WHERE CURRENT OF c_tasks;-------




-------SELECT SESSION_USER, CURRENT_USER;

 session_user | current_user 
--------------+--------------
 peter        | peter

SET ROLE 'paul';

SELECT SESSION_USER, CURRENT_USER;

 session_user | current_user 
--------------+--------------
 peter        | paul-------






syntax error at or near "session_user" (scan.l:1121)

------- End SELECT SESSION_USER, CURRENT_USER;

 session_user | current_user 
--------------+--------------
 peter        | peter

SET ROLE 'paul';

SELECT SESSION_USER, CURRENT_USER;

 session_user | current_user 
--------------+--------------
 peter        | paul-------




-------ALTER DOMAIN zipcode SET NOT NULL;-------
{"RawStmt"=>{"stmt"=>{"AlterDomainStmt"=>{"subtype"=>"O", "typeName"=>[{"String"=>{"str"=>"zipcode"}}], "behavior"=>0}}, "stmt_len"=>33}}

02ad5874e094e4dae19f8f7197739546a988fc766c



Can't deparse: AlterDomainStmt: {"subtype"=>"O", "typeName"=>[{"String"=>{"str"=>"zipcode"}}], "behavior"=>0}

------- End ALTER DOMAIN zipcode SET NOT NULL;-------




-------ALTER DOMAIN zipcode DROP NOT NULL;-------
{"RawStmt"=>{"stmt"=>{"AlterDomainStmt"=>{"subtype"=>"N", "typeName"=>[{"String"=>{"str"=>"zipcode"}}], "behavior"=>0}}, "stmt_len"=>34}}

02c7c90120e2b17cdfc9a39ca07111867516f0ef1b



Can't deparse: AlterDomainStmt: {"subtype"=>"N", "typeName"=>[{"String"=>{"str"=>"zipcode"}}], "behavior"=>0}

------- End ALTER DOMAIN zipcode DROP NOT NULL;-------




-------ALTER DOMAIN zipcode ADD CONSTRAINT zipchk CHECK (char_length(VALUE) = 5);-------
{"RawStmt"=>{"stmt"=>{"AlterDomainStmt"=>{"subtype"=>"C", "typeName"=>[{"String"=>{"str"=>"zipcode"}}], "def"=>{"Constraint"=>{"contype"=>4, "conname"=>"zipchk", "location"=>25, "raw_expr"=>{"A_Expr"=>{"kind"=>0, "name"=>[{"String"=>{"str"=>"="}}], "lexpr"=>{"FuncCall"=>{"funcname"=>[{"String"=>{"str"=>"char_length"}}], "args"=>[{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"value"}}], "location"=>62}}], "location"=>50}}, "rexpr"=>{"A_Const"=>{"val"=>{"Integer"=>{"ival"=>5}}, "location"=>71}}, "location"=>69}}, "initially_valid"=>true}}, "behavior"=>0}}, "stmt_len"=>73}}

029cb6dc8786903d9156373b5e3402f4833c408f45



Can't deparse: AlterDomainStmt: {"subtype"=>"C", "typeName"=>[{"String"=>{"str"=>"zipcode"}}], "def"=>{"Constraint"=>{"contype"=>4, "conname"=>"zipchk", "location"=>25, "raw_expr"=>{"A_Expr"=>{"kind"=>0, "name"=>[{"String"=>{"str"=>"="}}], "lexpr"=>{"FuncCall"=>{"funcname"=>[{"String"=>{"str"=>"char_length"}}], "args"=>[{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"value"}}], "location"=>62}}], "location"=>50}}, "rexpr"=>{"A_Const"=>{"val"=>{"Integer"=>{"ival"=>5}}, "location"=>71}}, "location"=>69}}, "initially_valid"=>true}}, "behavior"=>0}

------- End ALTER DOMAIN zipcode ADD CONSTRAINT zipchk CHECK (char_length(VALUE) = 5);-------




-------ALTER DOMAIN zipcode DROP CONSTRAINT zipchk;-------
{"RawStmt"=>{"stmt"=>{"AlterDomainStmt"=>{"subtype"=>"X", "typeName"=>[{"String"=>{"str"=>"zipcode"}}], "name"=>"zipchk", "behavior"=>0}}, "stmt_len"=>43}}

0221e8087ad540358109181d70b22d54f2f4eb9b68



Can't deparse: AlterDomainStmt: {"subtype"=>"X", "typeName"=>[{"String"=>{"str"=>"zipcode"}}], "name"=>"zipchk", "behavior"=>0}

------- End ALTER DOMAIN zipcode DROP CONSTRAINT zipchk;-------




-------ALTER DOMAIN zipcode RENAME CONSTRAINT zipchk TO zip_check;-------
{"RawStmt"=>{"stmt"=>{"RenameStmt"=>{"renameType"=>13, "relationType"=>0, "object"=>[{"String"=>{"str"=>"zipcode"}}], "subname"=>"zipchk", "newname"=>"zip_check", "behavior"=>0}}, "stmt_len"=>58}}

02f72faf1e544a8faeaf1c38230e6472c40727de34



Can't deparse: {"renameType"=>13, "relationType"=>0, "object"=>[{"String"=>{"str"=>"zipcode"}}], "subname"=>"zipchk", "newname"=>"zip_check", "behavior"=>0}

------- End ALTER DOMAIN zipcode RENAME CONSTRAINT zipchk TO zip_check;-------




-------ALTER DOMAIN zipcode SET SCHEMA customers;-------
{"RawStmt"=>{"stmt"=>{"AlterObjectSchemaStmt"=>{"objectType"=>12, "object"=>[{"String"=>{"str"=>"zipcode"}}], "newschema"=>"customers"}}, "stmt_len"=>41}}

02eb79e748d63608fe13d4d43ddfe386342c4d9df4



Can't deparse: AlterObjectSchemaStmt: {"objectType"=>12, "object"=>[{"String"=>{"str"=>"zipcode"}}], "newschema"=>"customers"}

------- End ALTER DOMAIN zipcode SET SCHEMA customers;-------




-------ALTER DEFAULT PRIVILEGES IN SCHEMA myschema GRANT SELECT ON TABLES TO PUBLIC;
ALTER DEFAULT PRIVILEGES IN SCHEMA myschema GRANT INSERT ON TABLES TO webuser;-------
{"RawStmt"=>{"stmt"=>{"AlterDefaultPrivilegesStmt"=>{"options"=>[{"DefElem"=>{"defname"=>"schemas", "arg"=>[{"String"=>{"str"=>"myschema"}}], "defaction"=>0, "location"=>25}}], "action"=>{"GrantStmt"=>{"is_grant"=>true, "targtype"=>2, "objtype"=>1, "privileges"=>[{"AccessPriv"=>{"priv_name"=>"select"}}], "grantees"=>[{"RoleSpec"=>{"roletype"=>3, "location"=>70}}], "behavior"=>0}}}}, "stmt_len"=>76}}
{"RawStmt"=>{"stmt"=>{"AlterDefaultPrivilegesStmt"=>{"options"=>[{"DefElem"=>{"defname"=>"schemas", "arg"=>[{"String"=>{"str"=>"myschema"}}], "defaction"=>0, "location"=>103}}], "action"=>{"GrantStmt"=>{"is_grant"=>true, "targtype"=>2, "objtype"=>1, "privileges"=>[{"AccessPriv"=>{"priv_name"=>"insert"}}], "grantees"=>[{"RoleSpec"=>{"roletype"=>0, "rolename"=>"webuser", "location"=>148}}], "behavior"=>0}}}}, "stmt_location"=>77, "stmt_len"=>78}}

024eb6ded39d6327bc1cf3a6a5937196726626d42a



Can't deparse: AlterDefaultPrivilegesStmt: {"options"=>[{"DefElem"=>{"defname"=>"schemas", "arg"=>[{"String"=>{"str"=>"myschema"}}], "defaction"=>0, "location"=>25}}], "action"=>{"GrantStmt"=>{"is_grant"=>true, "targtype"=>2, "objtype"=>1, "privileges"=>[{"AccessPriv"=>{"priv_name"=>"select"}}], "grantees"=>[{"RoleSpec"=>{"roletype"=>3, "location"=>70}}], "behavior"=>0}}}

------- End ALTER DEFAULT PRIVILEGES IN SCHEMA myschema GRANT SELECT ON TABLES TO PUBLIC;
ALTER DEFAULT PRIVILEGES IN SCHEMA myschema GRANT INSERT ON TABLES TO webuser;-------




-------ALTER DEFAULT PRIVILEGES IN SCHEMA myschema REVOKE SELECT ON TABLES FROM PUBLIC;
ALTER DEFAULT PRIVILEGES IN SCHEMA myschema REVOKE INSERT ON TABLES FROM webuser;-------
{"RawStmt"=>{"stmt"=>{"AlterDefaultPrivilegesStmt"=>{"options"=>[{"DefElem"=>{"defname"=>"schemas", "arg"=>[{"String"=>{"str"=>"myschema"}}], "defaction"=>0, "location"=>25}}], "action"=>{"GrantStmt"=>{"targtype"=>2, "objtype"=>1, "privileges"=>[{"AccessPriv"=>{"priv_name"=>"select"}}], "grantees"=>[{"RoleSpec"=>{"roletype"=>3, "location"=>73}}], "behavior"=>0}}}}, "stmt_len"=>79}}
{"RawStmt"=>{"stmt"=>{"AlterDefaultPrivilegesStmt"=>{"options"=>[{"DefElem"=>{"defname"=>"schemas", "arg"=>[{"String"=>{"str"=>"myschema"}}], "defaction"=>0, "location"=>106}}], "action"=>{"GrantStmt"=>{"targtype"=>2, "objtype"=>1, "privileges"=>[{"AccessPriv"=>{"priv_name"=>"insert"}}], "grantees"=>[{"RoleSpec"=>{"roletype"=>0, "rolename"=>"webuser", "location"=>154}}], "behavior"=>0}}}}, "stmt_location"=>80, "stmt_len"=>81}}

02f409aa709fb522e343792453abf859e60635f933



Can't deparse: AlterDefaultPrivilegesStmt: {"options"=>[{"DefElem"=>{"defname"=>"schemas", "arg"=>[{"String"=>{"str"=>"myschema"}}], "defaction"=>0, "location"=>25}}], "action"=>{"GrantStmt"=>{"targtype"=>2, "objtype"=>1, "privileges"=>[{"AccessPriv"=>{"priv_name"=>"select"}}], "grantees"=>[{"RoleSpec"=>{"roletype"=>3, "location"=>73}}], "behavior"=>0}}}

------- End ALTER DEFAULT PRIVILEGES IN SCHEMA myschema REVOKE SELECT ON TABLES FROM PUBLIC;
ALTER DEFAULT PRIVILEGES IN SCHEMA myschema REVOKE INSERT ON TABLES FROM webuser;-------




-------ALTER DEFAULT PRIVILEGES FOR ROLE admin REVOKE EXECUTE ON FUNCTIONS FROM PUBLIC;-------
{"RawStmt"=>{"stmt"=>{"AlterDefaultPrivilegesStmt"=>{"options"=>[{"DefElem"=>{"defname"=>"roles", "arg"=>[{"RoleSpec"=>{"roletype"=>0, "rolename"=>"admin", "location"=>34}}], "defaction"=>0, "location"=>25}}], "action"=>{"GrantStmt"=>{"targtype"=>2, "objtype"=>7, "privileges"=>[{"AccessPriv"=>{"priv_name"=>"execute"}}], "grantees"=>[{"RoleSpec"=>{"roletype"=>3, "location"=>73}}], "behavior"=>0}}}}, "stmt_len"=>79}}

02116636a0ef7ad9be2a07be740949189dae34cc29



Can't deparse: AlterDefaultPrivilegesStmt: {"options"=>[{"DefElem"=>{"defname"=>"roles", "arg"=>[{"RoleSpec"=>{"roletype"=>0, "rolename"=>"admin", "location"=>34}}], "defaction"=>0, "location"=>25}}], "action"=>{"GrantStmt"=>{"targtype"=>2, "objtype"=>7, "privileges"=>[{"AccessPriv"=>{"priv_name"=>"execute"}}], "grantees"=>[{"RoleSpec"=>{"roletype"=>3, "location"=>73}}], "behavior"=>0}}}

------- End ALTER DEFAULT PRIVILEGES FOR ROLE admin REVOKE EXECUTE ON FUNCTIONS FROM PUBLIC;-------




-------CLOSE ALL;
SET SESSION AUTHORIZATION DEFAULT;
RESET ALL;
DEALLOCATE ALL;
UNLISTEN *;
SELECT pg_advisory_unlock_all();
DISCARD PLANS;
DISCARD TEMP;
DISCARD SEQUENCES;-------
{"RawStmt"=>{"stmt"=>{"ClosePortalStmt"=>{}}, "stmt_len"=>9}}
{"RawStmt"=>{"stmt"=>{"VariableSetStmt"=>{"kind"=>1, "name"=>"session_authorization"}}, "stmt_location"=>10, "stmt_len"=>34}}
{"RawStmt"=>{"stmt"=>{"VariableSetStmt"=>{"kind"=>5}}, "stmt_location"=>45, "stmt_len"=>10}}
{"RawStmt"=>{"stmt"=>{"DeallocateStmt"=>{}}, "stmt_location"=>56, "stmt_len"=>15}}
{"RawStmt"=>{"stmt"=>{"UnlistenStmt"=>{}}, "stmt_location"=>72, "stmt_len"=>11}}
{"RawStmt"=>{"stmt"=>{"SelectStmt"=>{"targetList"=>[{"ResTarget"=>{"val"=>{"FuncCall"=>{"funcname"=>[{"String"=>{"str"=>"pg_advisory_unlock_all"}}], "location"=>92}}, "location"=>92}}], "op"=>0}}, "stmt_location"=>84, "stmt_len"=>32}}
{"RawStmt"=>{"stmt"=>{"DiscardStmt"=>{"target"=>1}}, "stmt_location"=>117, "stmt_len"=>14}}
{"RawStmt"=>{"stmt"=>{"DiscardStmt"=>{"target"=>3}}, "stmt_location"=>132, "stmt_len"=>13}}
{"RawStmt"=>{"stmt"=>{"DiscardStmt"=>{"target"=>2}}, "stmt_location"=>146, "stmt_len"=>18}}

026bdb92ef38dea292c8feb880214e3de68a0a402f



Can't deparse: ClosePortalStmt: {}

------- End CLOSE ALL;
SET SESSION AUTHORIZATION DEFAULT;
RESET ALL;
DEALLOCATE ALL;
UNLISTEN *;
SELECT pg_advisory_unlock_all();
DISCARD PLANS;
DISCARD TEMP;
DISCARD SEQUENCES;-------




-------ALTER PUBLICATION noinsert SET (publish = 'update, delete');-------
{"RawStmt"=>{"stmt"=>{"AlterPublicationStmt"=>{"pubname"=>"noinsert", "options"=>[{"DefElem"=>{"defname"=>"publish", "arg"=>{"String"=>{"str"=>"update, delete"}}, "defaction"=>0, "location"=>32}}], "tableAction"=>0}}, "stmt_len"=>59}}

021f8b43be863949a463e5d7235d65711f6e67c3df



Can't deparse: AlterPublicationStmt: {"pubname"=>"noinsert", "options"=>[{"DefElem"=>{"defname"=>"publish", "arg"=>{"String"=>{"str"=>"update, delete"}}, "defaction"=>0, "location"=>32}}], "tableAction"=>0}

------- End ALTER PUBLICATION noinsert SET (publish = 'update, delete');-------




-------ALTER PUBLICATION mypublication ADD TABLE users, departments;-------
{"RawStmt"=>{"stmt"=>{"AlterPublicationStmt"=>{"pubname"=>"mypublication", "tables"=>[{"RangeVar"=>{"relname"=>"users", "inh"=>true, "relpersistence"=>"p", "location"=>42}}, {"RangeVar"=>{"relname"=>"departments", "inh"=>true, "relpersistence"=>"p", "location"=>49}}], "tableAction"=>2}}, "stmt_len"=>60}}

02b63d0318c6a2c3d6d4e089d7e196c0b18f44bdf3



Can't deparse: AlterPublicationStmt: {"pubname"=>"mypublication", "tables"=>[{"RangeVar"=>{"relname"=>"users", "inh"=>true, "relpersistence"=>"p", "location"=>42}}, {"RangeVar"=>{"relname"=>"departments", "inh"=>true, "relpersistence"=>"p", "location"=>49}}], "tableAction"=>2}

------- End ALTER PUBLICATION mypublication ADD TABLE users, departments;-------




-------CREATE USER MAPPING FOR bob SERVER foo OPTIONS (user 'bob', password 'secret');-------
{"RawStmt"=>{"stmt"=>{"CreateUserMappingStmt"=>{"user"=>{"RoleSpec"=>{"roletype"=>0, "rolename"=>"bob", "location"=>24}}, "servername"=>"foo", "options"=>[{"DefElem"=>{"defname"=>"user", "arg"=>{"String"=>{"str"=>"bob"}}, "defaction"=>0, "location"=>48}}, {"DefElem"=>{"defname"=>"password", "arg"=>{"String"=>{"str"=>"secret"}}, "defaction"=>0, "location"=>60}}]}}, "stmt_len"=>78}}

020331dc7b7d0a0802231b3f8676db0f8a4dadf6f3



Can't deparse: CreateUserMappingStmt: {"user"=>{"RoleSpec"=>{"roletype"=>0, "rolename"=>"bob", "location"=>24}}, "servername"=>"foo", "options"=>[{"DefElem"=>{"defname"=>"user", "arg"=>{"String"=>{"str"=>"bob"}}, "defaction"=>0, "location"=>48}}, {"DefElem"=>{"defname"=>"password", "arg"=>{"String"=>{"str"=>"secret"}}, "defaction"=>0, "location"=>60}}]}

------- End CREATE USER MAPPING FOR bob SERVER foo OPTIONS (user 'bob', password 'secret');-------




-------CREATE EXTENSION hstore;-------
{"RawStmt"=>{"stmt"=>{"CreateExtensionStmt"=>{"extname"=>"hstore"}}, "stmt_len"=>23}}

02d5ecadf1ab5c7b67ef69a29c8d93ffb539db4057



Can't deparse: CreateExtensionStmt: {"extname"=>"hstore"}

------- End CREATE EXTENSION hstore;-------




-------CREATE EXTENSION hstore SCHEMA public FROM unpackaged;-------
{"RawStmt"=>{"stmt"=>{"CreateExtensionStmt"=>{"extname"=>"hstore", "options"=>[{"DefElem"=>{"defname"=>"schema", "arg"=>{"String"=>{"str"=>"public"}}, "defaction"=>0, "location"=>24}}, {"DefElem"=>{"defname"=>"old_version", "arg"=>{"String"=>{"str"=>"unpackaged"}}, "defaction"=>0, "location"=>38}}]}}, "stmt_len"=>53}}

02025496ef0603bf849d9615b6ff41f0b7871ae6b9



Can't deparse: CreateExtensionStmt: {"extname"=>"hstore", "options"=>[{"DefElem"=>{"defname"=>"schema", "arg"=>{"String"=>{"str"=>"public"}}, "defaction"=>0, "location"=>24}}, {"DefElem"=>{"defname"=>"old_version", "arg"=>{"String"=>{"str"=>"unpackaged"}}, "defaction"=>0, "location"=>38}}]}

------- End CREATE EXTENSION hstore SCHEMA public FROM unpackaged;-------




-------ALTER ROLE davide WITH PASSWORD 'hu8jmn3';-------
{"RawStmt"=>{"stmt"=>{"AlterRoleStmt"=>{"role"=>{"RoleSpec"=>{"roletype"=>0, "rolename"=>"davide", "location"=>11}}, "options"=>[{"DefElem"=>{"defname"=>"password", "arg"=>{"A_Const"=>{"val"=>{"String"=>{"str"=>"hu8jmn3"}}, "location"=>32}}, "defaction"=>0, "location"=>23}}], "action"=>1}}, "stmt_len"=>41}}

02a0cbfd5495f90e3d4e5ee4f18c44b2f8d7caf0f4



Can't deparse: AlterRoleStmt: {"role"=>{"RoleSpec"=>{"roletype"=>0, "rolename"=>"davide", "location"=>11}}, "options"=>[{"DefElem"=>{"defname"=>"password", "arg"=>{"A_Const"=>{"val"=>{"String"=>{"str"=>"hu8jmn3"}}, "location"=>32}}, "defaction"=>0, "location"=>23}}], "action"=>1}

------- End ALTER ROLE davide WITH PASSWORD 'hu8jmn3';-------




-------ALTER ROLE davide WITH PASSWORD NULL;-------
{"RawStmt"=>{"stmt"=>{"AlterRoleStmt"=>{"role"=>{"RoleSpec"=>{"roletype"=>0, "rolename"=>"davide", "location"=>11}}, "options"=>[{"DefElem"=>{"defname"=>"password", "defaction"=>0, "location"=>23}}], "action"=>1}}, "stmt_len"=>36}}

02a0cbfd5495f90e3d4e5ee4f18c44b2f8d7caf0f4



Can't deparse: AlterRoleStmt: {"role"=>{"RoleSpec"=>{"roletype"=>0, "rolename"=>"davide", "location"=>11}}, "options"=>[{"DefElem"=>{"defname"=>"password", "defaction"=>0, "location"=>23}}], "action"=>1}

------- End ALTER ROLE davide WITH PASSWORD NULL;-------




-------ALTER ROLE chris VALID UNTIL 'May 4 12:00:00 2015 +1';-------
{"RawStmt"=>{"stmt"=>{"AlterRoleStmt"=>{"role"=>{"RoleSpec"=>{"roletype"=>0, "rolename"=>"chris", "location"=>11}}, "options"=>[{"DefElem"=>{"defname"=>"validUntil", "arg"=>{"String"=>{"str"=>"May 4 12:00:00 2015 +1"}}, "defaction"=>0, "location"=>17}}], "action"=>1}}, "stmt_len"=>53}}

028e5f02b24027f8778e7118378c98556829734f05



Can't deparse: AlterRoleStmt: {"role"=>{"RoleSpec"=>{"roletype"=>0, "rolename"=>"chris", "location"=>11}}, "options"=>[{"DefElem"=>{"defname"=>"validUntil", "arg"=>{"String"=>{"str"=>"May 4 12:00:00 2015 +1"}}, "defaction"=>0, "location"=>17}}], "action"=>1}

------- End ALTER ROLE chris VALID UNTIL 'May 4 12:00:00 2015 +1';-------




-------ALTER ROLE fred VALID UNTIL 'infinity';-------
{"RawStmt"=>{"stmt"=>{"AlterRoleStmt"=>{"role"=>{"RoleSpec"=>{"roletype"=>0, "rolename"=>"fred", "location"=>11}}, "options"=>[{"DefElem"=>{"defname"=>"validUntil", "arg"=>{"String"=>{"str"=>"infinity"}}, "defaction"=>0, "location"=>16}}], "action"=>1}}, "stmt_len"=>38}}

02fb56db3523cb02c0941539a9f79d5de472455181



Can't deparse: AlterRoleStmt: {"role"=>{"RoleSpec"=>{"roletype"=>0, "rolename"=>"fred", "location"=>11}}, "options"=>[{"DefElem"=>{"defname"=>"validUntil", "arg"=>{"String"=>{"str"=>"infinity"}}, "defaction"=>0, "location"=>16}}], "action"=>1}

------- End ALTER ROLE fred VALID UNTIL 'infinity';-------




-------ALTER ROLE miriam CREATEROLE CREATEDB;-------
{"RawStmt"=>{"stmt"=>{"AlterRoleStmt"=>{"role"=>{"RoleSpec"=>{"roletype"=>0, "rolename"=>"miriam", "location"=>11}}, "options"=>[{"DefElem"=>{"defname"=>"createrole", "arg"=>{"Integer"=>{"ival"=>1}}, "defaction"=>0, "location"=>18}}, {"DefElem"=>{"defname"=>"createdb", "arg"=>{"Integer"=>{"ival"=>1}}, "defaction"=>0, "location"=>29}}], "action"=>1}}, "stmt_len"=>37}}

029f6b3475339a4e5ac51761af3a419dcd01ed5865



Can't deparse: AlterRoleStmt: {"role"=>{"RoleSpec"=>{"roletype"=>0, "rolename"=>"miriam", "location"=>11}}, "options"=>[{"DefElem"=>{"defname"=>"createrole", "arg"=>{"Integer"=>{"ival"=>1}}, "defaction"=>0, "location"=>18}}, {"DefElem"=>{"defname"=>"createdb", "arg"=>{"Integer"=>{"ival"=>1}}, "defaction"=>0, "location"=>29}}], "action"=>1}

------- End ALTER ROLE miriam CREATEROLE CREATEDB;-------




-------ALTER ROLE worker_bee SET maintenance_work_mem = 100000;-------
{"RawStmt"=>{"stmt"=>{"AlterRoleSetStmt"=>{"role"=>{"RoleSpec"=>{"roletype"=>0, "rolename"=>"worker_bee", "location"=>11}}, "setstmt"=>{"VariableSetStmt"=>{"kind"=>0, "name"=>"maintenance_work_mem", "args"=>[{"A_Const"=>{"val"=>{"Integer"=>{"ival"=>100000}}, "location"=>49}}]}}}}, "stmt_len"=>55}}

024be4b7fc47b40672b0640adff723095db9e9b403



Can't deparse: AlterRoleSetStmt: {"role"=>{"RoleSpec"=>{"roletype"=>0, "rolename"=>"worker_bee", "location"=>11}}, "setstmt"=>{"VariableSetStmt"=>{"kind"=>0, "name"=>"maintenance_work_mem", "args"=>[{"A_Const"=>{"val"=>{"Integer"=>{"ival"=>100000}}, "location"=>49}}]}}}

------- End ALTER ROLE worker_bee SET maintenance_work_mem = 100000;-------




-------ALTER ROLE fred IN DATABASE devel SET client_min_messages = DEBUG;-------
{"RawStmt"=>{"stmt"=>{"AlterRoleSetStmt"=>{"role"=>{"RoleSpec"=>{"roletype"=>0, "rolename"=>"fred", "location"=>11}}, "database"=>"devel", "setstmt"=>{"VariableSetStmt"=>{"kind"=>0, "name"=>"client_min_messages", "args"=>[{"A_Const"=>{"val"=>{"String"=>{"str"=>"debug"}}, "location"=>60}}]}}}}, "stmt_len"=>65}}

0287fb44e50e4f453354eeb8d8a28ab09c4ab75549



Can't deparse: AlterRoleSetStmt: {"role"=>{"RoleSpec"=>{"roletype"=>0, "rolename"=>"fred", "location"=>11}}, "database"=>"devel", "setstmt"=>{"VariableSetStmt"=>{"kind"=>0, "name"=>"client_min_messages", "args"=>[{"A_Const"=>{"val"=>{"String"=>{"str"=>"debug"}}, "location"=>60}}]}}}

------- End ALTER ROLE fred IN DATABASE devel SET client_min_messages = DEBUG;-------




-------CREATE TABLE t1 (
    a   int,
    b   int
);

INSERT INTO t1 SELECT i/100, i/500
                 FROM generate_series(1,1000000) s(i);

ANALYZE t1;

-- the number of matching rows will be drastically underestimated:
EXPLAIN ANALYZE SELECT * FROM t1 WHERE (a = 1) AND (b = 0);

CREATE STATISTICS s1 (dependencies) ON a, b FROM t1;

ANALYZE t1;

-- now the row count estimate is more accurate:
EXPLAIN ANALYZE SELECT * FROM t1 WHERE (a = 1) AND (b = 0);-------
{"RawStmt"=>{"stmt"=>{"CreateStmt"=>{"relation"=>{"RangeVar"=>{"relname"=>"t1", "inh"=>true, "relpersistence"=>"p", "location"=>13}}, "tableElts"=>[{"ColumnDef"=>{"colname"=>"a", "typeName"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"pg_catalog"}}, {"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>26}}, "is_local"=>true, "location"=>22}}, {"ColumnDef"=>{"colname"=>"b", "typeName"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"pg_catalog"}}, {"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>39}}, "is_local"=>true, "location"=>35}}], "oncommit"=>0}}, "stmt_len"=>44}}
{"RawStmt"=>{"stmt"=>{"InsertStmt"=>{"relation"=>{"RangeVar"=>{"relname"=>"t1", "inh"=>true, "relpersistence"=>"p", "location"=>59}}, "selectStmt"=>{"SelectStmt"=>{"targetList"=>[{"ResTarget"=>{"val"=>{"A_Expr"=>{"kind"=>0, "name"=>[{"String"=>{"str"=>"/"}}], "lexpr"=>{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"i"}}], "location"=>69}}, "rexpr"=>{"A_Const"=>{"val"=>{"Integer"=>{"ival"=>100}}, "location"=>71}}, "location"=>70}}, "location"=>69}}, {"ResTarget"=>{"val"=>{"A_Expr"=>{"kind"=>0, "name"=>[{"String"=>{"str"=>"/"}}], "lexpr"=>{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"i"}}], "location"=>76}}, "rexpr"=>{"A_Const"=>{"val"=>{"Integer"=>{"ival"=>500}}, "location"=>78}}, "location"=>77}}, "location"=>76}}], "fromClause"=>[{"RangeFunction"=>{"functions"=>[[{"FuncCall"=>{"funcname"=>[{"String"=>{"str"=>"generate_series"}}], "args"=>[{"A_Const"=>{"val"=>{"Integer"=>{"ival"=>1}}, "location"=>120}}, {"A_Const"=>{"val"=>{"Integer"=>{"ival"=>1000000}}, "location"=>122}}], "location"=>104}}, nil]], "alias"=>{"Alias"=>{"aliasname"=>"s", "colnames"=>[{"String"=>{"str"=>"i"}}]}}}}], "op"=>0}}, "override"=>0}}, "stmt_location"=>45, "stmt_len"=>90}}
{"RawStmt"=>{"stmt"=>{"VacuumStmt"=>{"options"=>2, "relation"=>{"RangeVar"=>{"relname"=>"t1", "inh"=>true, "relpersistence"=>"p", "location"=>146}}}}, "stmt_location"=>136, "stmt_len"=>12}}
{"RawStmt"=>{"stmt"=>{"ExplainStmt"=>{"query"=>{"SelectStmt"=>{"targetList"=>[{"ResTarget"=>{"val"=>{"ColumnRef"=>{"fields"=>[{"A_Star"=>{}}], "location"=>241}}, "location"=>241}}], "fromClause"=>[{"RangeVar"=>{"relname"=>"t1", "inh"=>true, "relpersistence"=>"p", "location"=>248}}], "whereClause"=>{"BoolExpr"=>{"boolop"=>0, "args"=>[{"A_Expr"=>{"kind"=>0, "name"=>[{"String"=>{"str"=>"="}}], "lexpr"=>{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"a"}}], "location"=>258}}, "rexpr"=>{"A_Const"=>{"val"=>{"Integer"=>{"ival"=>1}}, "location"=>262}}, "location"=>260}}, {"A_Expr"=>{"kind"=>0, "name"=>[{"String"=>{"str"=>"="}}], "lexpr"=>{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"b"}}], "location"=>270}}, "rexpr"=>{"A_Const"=>{"val"=>{"Integer"=>{"ival"=>0}}, "location"=>274}}, "location"=>272}}], "location"=>265}}, "op"=>0}}, "options"=>[{"DefElem"=>{"defname"=>"analyze", "defaction"=>0, "location"=>226}}]}}, "stmt_location"=>149, "stmt_len"=>127}}
{"RawStmt"=>{"stmt"=>{"CreateStatsStmt"=>{"defnames"=>[{"String"=>{"str"=>"s1"}}], "stat_types"=>[{"String"=>{"str"=>"dependencies"}}], "exprs"=>[{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"a"}}], "location"=>318}}, {"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"b"}}], "location"=>321}}], "relations"=>[{"RangeVar"=>{"relname"=>"t1", "inh"=>true, "relpersistence"=>"p", "location"=>328}}]}}, "stmt_location"=>277, "stmt_len"=>53}}
{"RawStmt"=>{"stmt"=>{"VacuumStmt"=>{"options"=>2, "relation"=>{"RangeVar"=>{"relname"=>"t1", "inh"=>true, "relpersistence"=>"p", "location"=>341}}}}, "stmt_location"=>331, "stmt_len"=>12}}
{"RawStmt"=>{"stmt"=>{"ExplainStmt"=>{"query"=>{"SelectStmt"=>{"targetList"=>[{"ResTarget"=>{"val"=>{"ColumnRef"=>{"fields"=>[{"A_Star"=>{}}], "location"=>417}}, "location"=>417}}], "fromClause"=>[{"RangeVar"=>{"relname"=>"t1", "inh"=>true, "relpersistence"=>"p", "location"=>424}}], "whereClause"=>{"BoolExpr"=>{"boolop"=>0, "args"=>[{"A_Expr"=>{"kind"=>0, "name"=>[{"String"=>{"str"=>"="}}], "lexpr"=>{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"a"}}], "location"=>434}}, "rexpr"=>{"A_Const"=>{"val"=>{"Integer"=>{"ival"=>1}}, "location"=>438}}, "location"=>436}}, {"A_Expr"=>{"kind"=>0, "name"=>[{"String"=>{"str"=>"="}}], "lexpr"=>{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"b"}}], "location"=>446}}, "rexpr"=>{"A_Const"=>{"val"=>{"Integer"=>{"ival"=>0}}, "location"=>450}}, "location"=>448}}], "location"=>441}}, "op"=>0}}, "options"=>[{"DefElem"=>{"defname"=>"analyze", "defaction"=>0, "location"=>402}}]}}, "stmt_location"=>344, "stmt_len"=>108}}

02d248792ca3c61d159c5945bc8f76a322c36d59a6



Can't deparse: CreateStatsStmt: {"defnames"=>[{"String"=>{"str"=>"s1"}}], "stat_types"=>[{"String"=>{"str"=>"dependencies"}}], "exprs"=>[{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"a"}}], "location"=>318}}, {"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"b"}}], "location"=>321}}], "relations"=>[{"RangeVar"=>{"relname"=>"t1", "inh"=>true, "relpersistence"=>"p", "location"=>328}}]}

------- End CREATE TABLE t1 (
    a   int,
    b   int
);

INSERT INTO t1 SELECT i/100, i/500
                 FROM generate_series(1,1000000) s(i);

ANALYZE t1;

-- the number of matching rows will be drastically underestimated:
EXPLAIN ANALYZE SELECT * FROM t1 WHERE (a = 1) AND (b = 0);

CREATE STATISTICS s1 (dependencies) ON a, b FROM t1;

ANALYZE t1;

-- now the row count estimate is more accurate:
EXPLAIN ANALYZE SELECT * FROM t1 WHERE (a = 1) AND (b = 0);-------




-------CREATE TABLE t2 (
    a   int,
    b   int
);

INSERT INTO t2 SELECT mod(i,100), mod(i,100)
                 FROM generate_series(1,1000000) s(i);

CREATE STATISTICS s2 (mcv) ON (a, b) FROM t2;

ANALYZE t2;

-- valid combination (found in MCV)
EXPLAIN ANALYZE SELECT * FROM t2 WHERE (a = 1) AND (b = 1);

-- invalid combination (not found in MCV)
EXPLAIN ANALYZE SELECT * FROM t2 WHERE (a = 1) AND (b = 2);-------
{"RawStmt"=>{"stmt"=>{"CreateStmt"=>{"relation"=>{"RangeVar"=>{"relname"=>"t2", "inh"=>true, "relpersistence"=>"p", "location"=>13}}, "tableElts"=>[{"ColumnDef"=>{"colname"=>"a", "typeName"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"pg_catalog"}}, {"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>26}}, "is_local"=>true, "location"=>22}}, {"ColumnDef"=>{"colname"=>"b", "typeName"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"pg_catalog"}}, {"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>39}}, "is_local"=>true, "location"=>35}}], "oncommit"=>0}}, "stmt_len"=>44}}
{"RawStmt"=>{"stmt"=>{"InsertStmt"=>{"relation"=>{"RangeVar"=>{"relname"=>"t2", "inh"=>true, "relpersistence"=>"p", "location"=>59}}, "selectStmt"=>{"SelectStmt"=>{"targetList"=>[{"ResTarget"=>{"val"=>{"FuncCall"=>{"funcname"=>[{"String"=>{"str"=>"mod"}}], "args"=>[{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"i"}}], "location"=>73}}, {"A_Const"=>{"val"=>{"Integer"=>{"ival"=>100}}, "location"=>75}}], "location"=>69}}, "location"=>69}}, {"ResTarget"=>{"val"=>{"FuncCall"=>{"funcname"=>[{"String"=>{"str"=>"mod"}}], "args"=>[{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"i"}}], "location"=>85}}, {"A_Const"=>{"val"=>{"Integer"=>{"ival"=>100}}, "location"=>87}}], "location"=>81}}, "location"=>81}}], "fromClause"=>[{"RangeFunction"=>{"functions"=>[[{"FuncCall"=>{"funcname"=>[{"String"=>{"str"=>"generate_series"}}], "args"=>[{"A_Const"=>{"val"=>{"Integer"=>{"ival"=>1}}, "location"=>130}}, {"A_Const"=>{"val"=>{"Integer"=>{"ival"=>1000000}}, "location"=>132}}], "location"=>114}}, nil]], "alias"=>{"Alias"=>{"aliasname"=>"s", "colnames"=>[{"String"=>{"str"=>"i"}}]}}}}], "op"=>0}}, "override"=>0}}, "stmt_location"=>45, "stmt_len"=>100}}
{"RawStmt"=>{"stmt"=>{"CreateStatsStmt"=>{"defnames"=>[{"String"=>{"str"=>"s2"}}], "stat_types"=>[{"String"=>{"str"=>"mcv"}}], "exprs"=>[{"RowExpr"=>{"args"=>[{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"a"}}], "location"=>179}}, {"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"b"}}], "location"=>182}}], "row_format"=>2, "location"=>178}}], "relations"=>[{"RangeVar"=>{"relname"=>"t2", "inh"=>true, "relpersistence"=>"p", "location"=>190}}]}}, "stmt_location"=>146, "stmt_len"=>46}}
{"RawStmt"=>{"stmt"=>{"VacuumStmt"=>{"options"=>2, "relation"=>{"RangeVar"=>{"relname"=>"t2", "inh"=>true, "relpersistence"=>"p", "location"=>203}}}}, "stmt_location"=>193, "stmt_len"=>12}}
{"RawStmt"=>{"stmt"=>{"ExplainStmt"=>{"query"=>{"SelectStmt"=>{"targetList"=>[{"ResTarget"=>{"val"=>{"ColumnRef"=>{"fields"=>[{"A_Star"=>{}}], "location"=>267}}, "location"=>267}}], "fromClause"=>[{"RangeVar"=>{"relname"=>"t2", "inh"=>true, "relpersistence"=>"p", "location"=>274}}], "whereClause"=>{"BoolExpr"=>{"boolop"=>0, "args"=>[{"A_Expr"=>{"kind"=>0, "name"=>[{"String"=>{"str"=>"="}}], "lexpr"=>{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"a"}}], "location"=>284}}, "rexpr"=>{"A_Const"=>{"val"=>{"Integer"=>{"ival"=>1}}, "location"=>288}}, "location"=>286}}, {"A_Expr"=>{"kind"=>0, "name"=>[{"String"=>{"str"=>"="}}], "lexpr"=>{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"b"}}], "location"=>296}}, "rexpr"=>{"A_Const"=>{"val"=>{"Integer"=>{"ival"=>1}}, "location"=>300}}, "location"=>298}}], "location"=>291}}, "op"=>0}}, "options"=>[{"DefElem"=>{"defname"=>"analyze", "defaction"=>0, "location"=>252}}]}}, "stmt_location"=>206, "stmt_len"=>96}}
{"RawStmt"=>{"stmt"=>{"ExplainStmt"=>{"query"=>{"SelectStmt"=>{"targetList"=>[{"ResTarget"=>{"val"=>{"ColumnRef"=>{"fields"=>[{"A_Star"=>{}}], "location"=>370}}, "location"=>370}}], "fromClause"=>[{"RangeVar"=>{"relname"=>"t2", "inh"=>true, "relpersistence"=>"p", "location"=>377}}], "whereClause"=>{"BoolExpr"=>{"boolop"=>0, "args"=>[{"A_Expr"=>{"kind"=>0, "name"=>[{"String"=>{"str"=>"="}}], "lexpr"=>{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"a"}}], "location"=>387}}, "rexpr"=>{"A_Const"=>{"val"=>{"Integer"=>{"ival"=>1}}, "location"=>391}}, "location"=>389}}, {"A_Expr"=>{"kind"=>0, "name"=>[{"String"=>{"str"=>"="}}], "lexpr"=>{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"b"}}], "location"=>399}}, "rexpr"=>{"A_Const"=>{"val"=>{"Integer"=>{"ival"=>2}}, "location"=>403}}, "location"=>401}}], "location"=>394}}, "op"=>0}}, "options"=>[{"DefElem"=>{"defname"=>"analyze", "defaction"=>0, "location"=>355}}]}}, "stmt_location"=>303, "stmt_len"=>102}}

021c62ee10576759b8a5cf2fb42f33660abba78651



Can't deparse: CreateStatsStmt: {"defnames"=>[{"String"=>{"str"=>"s2"}}], "stat_types"=>[{"String"=>{"str"=>"mcv"}}], "exprs"=>[{"RowExpr"=>{"args"=>[{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"a"}}], "location"=>179}}, {"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"b"}}], "location"=>182}}], "row_format"=>2, "location"=>178}}], "relations"=>[{"RangeVar"=>{"relname"=>"t2", "inh"=>true, "relpersistence"=>"p", "location"=>190}}]}

------- End CREATE TABLE t2 (
    a   int,
    b   int
);

INSERT INTO t2 SELECT mod(i,100), mod(i,100)
                 FROM generate_series(1,1000000) s(i);

CREATE STATISTICS s2 (mcv) ON (a, b) FROM t2;

ANALYZE t2;

-- valid combination (found in MCV)
EXPLAIN ANALYZE SELECT * FROM t2 WHERE (a = 1) AND (b = 1);

-- invalid combination (not found in MCV)
EXPLAIN ANALYZE SELECT * FROM t2 WHERE (a = 1) AND (b = 2);-------




-------ALTER TYPE electronic_mail RENAME TO email;-------
{"RawStmt"=>{"stmt"=>{"RenameStmt"=>{"renameType"=>45, "relationType"=>0, "object"=>[{"String"=>{"str"=>"electronic_mail"}}], "newname"=>"email", "behavior"=>0}}, "stmt_len"=>42}}

02d64d48ef8c5c27cefcdb7c99a73dc5723875fe76



Can't deparse: {"renameType"=>45, "relationType"=>0, "object"=>[{"String"=>{"str"=>"electronic_mail"}}], "newname"=>"email", "behavior"=>0}

------- End ALTER TYPE electronic_mail RENAME TO email;-------




-------ALTER TYPE email OWNER TO joe;-------
{"RawStmt"=>{"stmt"=>{"AlterOwnerStmt"=>{"objectType"=>45, "object"=>[{"String"=>{"str"=>"email"}}], "newowner"=>{"RoleSpec"=>{"roletype"=>0, "rolename"=>"joe", "location"=>26}}}}, "stmt_len"=>29}}

02489dcf082a6dc69f06745a7c9c865a7d81f91aee



Can't deparse: AlterOwnerStmt: {"objectType"=>45, "object"=>[{"String"=>{"str"=>"email"}}], "newowner"=>{"RoleSpec"=>{"roletype"=>0, "rolename"=>"joe", "location"=>26}}}

------- End ALTER TYPE email OWNER TO joe;-------




-------ALTER TYPE email SET SCHEMA customers;-------
{"RawStmt"=>{"stmt"=>{"AlterObjectSchemaStmt"=>{"objectType"=>45, "object"=>[{"String"=>{"str"=>"email"}}], "newschema"=>"customers"}}, "stmt_len"=>37}}

0226dcf3554aeddc607f3132d8c870d92708db55db



Can't deparse: AlterObjectSchemaStmt: {"objectType"=>45, "object"=>[{"String"=>{"str"=>"email"}}], "newschema"=>"customers"}

------- End ALTER TYPE email SET SCHEMA customers;-------




-------ALTER TYPE colors ADD VALUE 'orange' AFTER 'red';-------
{"RawStmt"=>{"stmt"=>{"AlterEnumStmt"=>{"typeName"=>[{"String"=>{"str"=>"colors"}}], "newVal"=>"orange", "newValNeighbor"=>"red", "newValIsAfter"=>true}}, "stmt_len"=>48}}

02e3a494e8cdd24d61dbaf5fcfea87bbf48929e4aa



Can't deparse: AlterEnumStmt: {"typeName"=>[{"String"=>{"str"=>"colors"}}], "newVal"=>"orange", "newValNeighbor"=>"red", "newValIsAfter"=>true}

------- End ALTER TYPE colors ADD VALUE 'orange' AFTER 'red';-------




-------ALTER TYPE colors RENAME VALUE 'purple' TO 'mauve';-------
{"RawStmt"=>{"stmt"=>{"AlterEnumStmt"=>{"typeName"=>[{"String"=>{"str"=>"colors"}}], "oldVal"=>"purple", "newVal"=>"mauve"}}, "stmt_len"=>50}}

02640fca0e9a3e47dd9d8408cb79f804d8ca4ab10d



Can't deparse: AlterEnumStmt: {"typeName"=>[{"String"=>{"str"=>"colors"}}], "oldVal"=>"purple", "newVal"=>"mauve"}

------- End ALTER TYPE colors RENAME VALUE 'purple' TO 'mauve';-------




-------UPDATE weather SET temp_lo = temp_lo+1, temp_hi = temp_lo+15, prcp = DEFAULT
  WHERE city = 'San Francisco' AND date = '2003-07-03';-------
{"RawStmt"=>{"stmt"=>{"UpdateStmt"=>{"relation"=>{"RangeVar"=>{"relname"=>"weather", "inh"=>true, "relpersistence"=>"p", "location"=>7}}, "targetList"=>[{"ResTarget"=>{"name"=>"temp_lo", "val"=>{"A_Expr"=>{"kind"=>0, "name"=>[{"String"=>{"str"=>"+"}}], "lexpr"=>{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"temp_lo"}}], "location"=>29}}, "rexpr"=>{"A_Const"=>{"val"=>{"Integer"=>{"ival"=>1}}, "location"=>37}}, "location"=>36}}, "location"=>19}}, {"ResTarget"=>{"name"=>"temp_hi", "val"=>{"A_Expr"=>{"kind"=>0, "name"=>[{"String"=>{"str"=>"+"}}], "lexpr"=>{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"temp_lo"}}], "location"=>50}}, "rexpr"=>{"A_Const"=>{"val"=>{"Integer"=>{"ival"=>15}}, "location"=>58}}, "location"=>57}}, "location"=>40}}, {"ResTarget"=>{"name"=>"prcp", "val"=>{"SetToDefault"=>{"location"=>69}}, "location"=>62}}], "whereClause"=>{"BoolExpr"=>{"boolop"=>0, "args"=>[{"A_Expr"=>{"kind"=>0, "name"=>[{"String"=>{"str"=>"="}}], "lexpr"=>{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"city"}}], "location"=>85}}, "rexpr"=>{"A_Const"=>{"val"=>{"String"=>{"str"=>"San Francisco"}}, "location"=>92}}, "location"=>90}}, {"A_Expr"=>{"kind"=>0, "name"=>[{"String"=>{"str"=>"="}}], "lexpr"=>{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"date"}}], "location"=>112}}, "rexpr"=>{"A_Const"=>{"val"=>{"String"=>{"str"=>"2003-07-03"}}, "location"=>119}}, "location"=>117}}], "location"=>108}}}}, "stmt_len"=>131}}

02172a33ed41633a39c5c9c9b2e88d8faf8e42141f



Can't deparse: SetToDefault: {"location"=>69}

------- End UPDATE weather SET temp_lo = temp_lo+1, temp_hi = temp_lo+15, prcp = DEFAULT
  WHERE city = 'San Francisco' AND date = '2003-07-03';-------




-------UPDATE weather SET temp_lo = temp_lo+1, temp_hi = temp_lo+15, prcp = DEFAULT
  WHERE city = 'San Francisco' AND date = '2003-07-03'
  RETURNING temp_lo, temp_hi, prcp;-------
{"RawStmt"=>{"stmt"=>{"UpdateStmt"=>{"relation"=>{"RangeVar"=>{"relname"=>"weather", "inh"=>true, "relpersistence"=>"p", "location"=>7}}, "targetList"=>[{"ResTarget"=>{"name"=>"temp_lo", "val"=>{"A_Expr"=>{"kind"=>0, "name"=>[{"String"=>{"str"=>"+"}}], "lexpr"=>{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"temp_lo"}}], "location"=>29}}, "rexpr"=>{"A_Const"=>{"val"=>{"Integer"=>{"ival"=>1}}, "location"=>37}}, "location"=>36}}, "location"=>19}}, {"ResTarget"=>{"name"=>"temp_hi", "val"=>{"A_Expr"=>{"kind"=>0, "name"=>[{"String"=>{"str"=>"+"}}], "lexpr"=>{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"temp_lo"}}], "location"=>50}}, "rexpr"=>{"A_Const"=>{"val"=>{"Integer"=>{"ival"=>15}}, "location"=>58}}, "location"=>57}}, "location"=>40}}, {"ResTarget"=>{"name"=>"prcp", "val"=>{"SetToDefault"=>{"location"=>69}}, "location"=>62}}], "whereClause"=>{"BoolExpr"=>{"boolop"=>0, "args"=>[{"A_Expr"=>{"kind"=>0, "name"=>[{"String"=>{"str"=>"="}}], "lexpr"=>{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"city"}}], "location"=>85}}, "rexpr"=>{"A_Const"=>{"val"=>{"String"=>{"str"=>"San Francisco"}}, "location"=>92}}, "location"=>90}}, {"A_Expr"=>{"kind"=>0, "name"=>[{"String"=>{"str"=>"="}}], "lexpr"=>{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"date"}}], "location"=>112}}, "rexpr"=>{"A_Const"=>{"val"=>{"String"=>{"str"=>"2003-07-03"}}, "location"=>119}}, "location"=>117}}], "location"=>108}}, "returningList"=>[{"ResTarget"=>{"val"=>{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"temp_lo"}}], "location"=>144}}, "location"=>144}}, {"ResTarget"=>{"val"=>{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"temp_hi"}}], "location"=>153}}, "location"=>153}}, {"ResTarget"=>{"val"=>{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"prcp"}}], "location"=>162}}, "location"=>162}}]}}, "stmt_len"=>166}}

02e54b57295ded6500377b45295fbfa09d405cda08



Can't deparse: SetToDefault: {"location"=>69}

------- End UPDATE weather SET temp_lo = temp_lo+1, temp_hi = temp_lo+15, prcp = DEFAULT
  WHERE city = 'San Francisco' AND date = '2003-07-03'
  RETURNING temp_lo, temp_hi, prcp;-------




-------UPDATE weather SET (temp_lo, temp_hi, prcp) = (temp_lo+1, temp_lo+15, DEFAULT)
  WHERE city = 'San Francisco' AND date = '2003-07-03';-------
{"RawStmt"=>{"stmt"=>{"UpdateStmt"=>{"relation"=>{"RangeVar"=>{"relname"=>"weather", "inh"=>true, "relpersistence"=>"p", "location"=>7}}, "targetList"=>[{"ResTarget"=>{"name"=>"temp_lo", "val"=>{"MultiAssignRef"=>{"source"=>{"RowExpr"=>{"args"=>[{"A_Expr"=>{"kind"=>0, "name"=>[{"String"=>{"str"=>"+"}}], "lexpr"=>{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"temp_lo"}}], "location"=>47}}, "rexpr"=>{"A_Const"=>{"val"=>{"Integer"=>{"ival"=>1}}, "location"=>55}}, "location"=>54}}, {"A_Expr"=>{"kind"=>0, "name"=>[{"String"=>{"str"=>"+"}}], "lexpr"=>{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"temp_lo"}}], "location"=>58}}, "rexpr"=>{"A_Const"=>{"val"=>{"Integer"=>{"ival"=>15}}, "location"=>66}}, "location"=>65}}, {"SetToDefault"=>{"location"=>70}}], "row_format"=>2, "location"=>46}}, "colno"=>1, "ncolumns"=>3}}, "location"=>20}}, {"ResTarget"=>{"name"=>"temp_hi", "val"=>{"MultiAssignRef"=>{"source"=>{"RowExpr"=>{"args"=>[{"A_Expr"=>{"kind"=>0, "name"=>[{"String"=>{"str"=>"+"}}], "lexpr"=>{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"temp_lo"}}], "location"=>47}}, "rexpr"=>{"A_Const"=>{"val"=>{"Integer"=>{"ival"=>1}}, "location"=>55}}, "location"=>54}}, {"A_Expr"=>{"kind"=>0, "name"=>[{"String"=>{"str"=>"+"}}], "lexpr"=>{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"temp_lo"}}], "location"=>58}}, "rexpr"=>{"A_Const"=>{"val"=>{"Integer"=>{"ival"=>15}}, "location"=>66}}, "location"=>65}}, {"SetToDefault"=>{"location"=>70}}], "row_format"=>2, "location"=>46}}, "colno"=>2, "ncolumns"=>3}}, "location"=>29}}, {"ResTarget"=>{"name"=>"prcp", "val"=>{"MultiAssignRef"=>{"source"=>{"RowExpr"=>{"args"=>[{"A_Expr"=>{"kind"=>0, "name"=>[{"String"=>{"str"=>"+"}}], "lexpr"=>{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"temp_lo"}}], "location"=>47}}, "rexpr"=>{"A_Const"=>{"val"=>{"Integer"=>{"ival"=>1}}, "location"=>55}}, "location"=>54}}, {"A_Expr"=>{"kind"=>0, "name"=>[{"String"=>{"str"=>"+"}}], "lexpr"=>{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"temp_lo"}}], "location"=>58}}, "rexpr"=>{"A_Const"=>{"val"=>{"Integer"=>{"ival"=>15}}, "location"=>66}}, "location"=>65}}, {"SetToDefault"=>{"location"=>70}}], "row_format"=>2, "location"=>46}}, "colno"=>3, "ncolumns"=>3}}, "location"=>38}}], "whereClause"=>{"BoolExpr"=>{"boolop"=>0, "args"=>[{"A_Expr"=>{"kind"=>0, "name"=>[{"String"=>{"str"=>"="}}], "lexpr"=>{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"city"}}], "location"=>87}}, "rexpr"=>{"A_Const"=>{"val"=>{"String"=>{"str"=>"San Francisco"}}, "location"=>94}}, "location"=>92}}, {"A_Expr"=>{"kind"=>0, "name"=>[{"String"=>{"str"=>"="}}], "lexpr"=>{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"date"}}], "location"=>114}}, "rexpr"=>{"A_Const"=>{"val"=>{"String"=>{"str"=>"2003-07-03"}}, "location"=>121}}, "location"=>119}}], "location"=>110}}}}, "stmt_len"=>133}}

025391d0a1f7b549c49fbaf7b1a0de16c897fe1943



Can't deparse: MultiAssignRef: {"source"=>{"RowExpr"=>{"args"=>[{"A_Expr"=>{"kind"=>0, "name"=>[{"String"=>{"str"=>"+"}}], "lexpr"=>{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"temp_lo"}}], "location"=>47}}, "rexpr"=>{"A_Const"=>{"val"=>{"Integer"=>{"ival"=>1}}, "location"=>55}}, "location"=>54}}, {"A_Expr"=>{"kind"=>0, "name"=>[{"String"=>{"str"=>"+"}}], "lexpr"=>{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"temp_lo"}}], "location"=>58}}, "rexpr"=>{"A_Const"=>{"val"=>{"Integer"=>{"ival"=>15}}, "location"=>66}}, "location"=>65}}, {"SetToDefault"=>{"location"=>70}}], "row_format"=>2, "location"=>46}}, "colno"=>1, "ncolumns"=>3}

------- End UPDATE weather SET (temp_lo, temp_hi, prcp) = (temp_lo+1, temp_lo+15, DEFAULT)
  WHERE city = 'San Francisco' AND date = '2003-07-03';-------




-------UPDATE accounts SET (contact_first_name, contact_last_name) =
    (SELECT first_name, last_name FROM salesmen
     WHERE salesmen.id = accounts.sales_id);-------
{"RawStmt"=>{"stmt"=>{"UpdateStmt"=>{"relation"=>{"RangeVar"=>{"relname"=>"accounts", "inh"=>true, "relpersistence"=>"p", "location"=>7}}, "targetList"=>[{"ResTarget"=>{"name"=>"contact_first_name", "val"=>{"MultiAssignRef"=>{"source"=>{"SubLink"=>{"subLinkType"=>4, "subselect"=>{"SelectStmt"=>{"targetList"=>[{"ResTarget"=>{"val"=>{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"first_name"}}], "location"=>74}}, "location"=>74}}, {"ResTarget"=>{"val"=>{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"last_name"}}], "location"=>86}}, "location"=>86}}], "fromClause"=>[{"RangeVar"=>{"relname"=>"salesmen", "inh"=>true, "relpersistence"=>"p", "location"=>101}}], "whereClause"=>{"A_Expr"=>{"kind"=>0, "name"=>[{"String"=>{"str"=>"="}}], "lexpr"=>{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"salesmen"}}, {"String"=>{"str"=>"id"}}], "location"=>121}}, "rexpr"=>{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"accounts"}}, {"String"=>{"str"=>"sales_id"}}], "location"=>135}}, "location"=>133}}, "op"=>0}}, "location"=>66}}, "colno"=>1, "ncolumns"=>2}}, "location"=>21}}, {"ResTarget"=>{"name"=>"contact_last_name", "val"=>{"MultiAssignRef"=>{"source"=>{"SubLink"=>{"subLinkType"=>4, "subselect"=>{"SelectStmt"=>{"targetList"=>[{"ResTarget"=>{"val"=>{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"first_name"}}], "location"=>74}}, "location"=>74}}, {"ResTarget"=>{"val"=>{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"last_name"}}], "location"=>86}}, "location"=>86}}], "fromClause"=>[{"RangeVar"=>{"relname"=>"salesmen", "inh"=>true, "relpersistence"=>"p", "location"=>101}}], "whereClause"=>{"A_Expr"=>{"kind"=>0, "name"=>[{"String"=>{"str"=>"="}}], "lexpr"=>{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"salesmen"}}, {"String"=>{"str"=>"id"}}], "location"=>121}}, "rexpr"=>{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"accounts"}}, {"String"=>{"str"=>"sales_id"}}], "location"=>135}}, "location"=>133}}, "op"=>0}}, "location"=>66}}, "colno"=>2, "ncolumns"=>2}}, "location"=>41}}]}}, "stmt_len"=>153}}

02de114e457762fa67ab0c0bbaf9d95fb26009c24b



Can't deparse: MultiAssignRef: {"source"=>{"SubLink"=>{"subLinkType"=>4, "subselect"=>{"SelectStmt"=>{"targetList"=>[{"ResTarget"=>{"val"=>{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"first_name"}}], "location"=>74}}, "location"=>74}}, {"ResTarget"=>{"val"=>{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"last_name"}}], "location"=>86}}, "location"=>86}}], "fromClause"=>[{"RangeVar"=>{"relname"=>"salesmen", "inh"=>true, "relpersistence"=>"p", "location"=>101}}], "whereClause"=>{"A_Expr"=>{"kind"=>0, "name"=>[{"String"=>{"str"=>"="}}], "lexpr"=>{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"salesmen"}}, {"String"=>{"str"=>"id"}}], "location"=>121}}, "rexpr"=>{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"accounts"}}, {"String"=>{"str"=>"sales_id"}}], "location"=>135}}, "location"=>133}}, "op"=>0}}, "location"=>66}}, "colno"=>1, "ncolumns"=>2}

------- End UPDATE accounts SET (contact_first_name, contact_last_name) =
    (SELECT first_name, last_name FROM salesmen
     WHERE salesmen.id = accounts.sales_id);-------




-------UPDATE summary s SET (sum_x, sum_y, avg_x, avg_y) =
    (SELECT sum(x), sum(y), avg(x), avg(y) FROM data d
     WHERE d.group_id = s.group_id);-------
{"RawStmt"=>{"stmt"=>{"UpdateStmt"=>{"relation"=>{"RangeVar"=>{"relname"=>"summary", "inh"=>true, "relpersistence"=>"p", "alias"=>{"Alias"=>{"aliasname"=>"s"}}, "location"=>7}}, "targetList"=>[{"ResTarget"=>{"name"=>"sum_x", "val"=>{"MultiAssignRef"=>{"source"=>{"SubLink"=>{"subLinkType"=>4, "subselect"=>{"SelectStmt"=>{"targetList"=>[{"ResTarget"=>{"val"=>{"FuncCall"=>{"funcname"=>[{"String"=>{"str"=>"sum"}}], "args"=>[{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"x"}}], "location"=>68}}], "location"=>64}}, "location"=>64}}, {"ResTarget"=>{"val"=>{"FuncCall"=>{"funcname"=>[{"String"=>{"str"=>"sum"}}], "args"=>[{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"y"}}], "location"=>76}}], "location"=>72}}, "location"=>72}}, {"ResTarget"=>{"val"=>{"FuncCall"=>{"funcname"=>[{"String"=>{"str"=>"avg"}}], "args"=>[{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"x"}}], "location"=>84}}], "location"=>80}}, "location"=>80}}, {"ResTarget"=>{"val"=>{"FuncCall"=>{"funcname"=>[{"String"=>{"str"=>"avg"}}], "args"=>[{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"y"}}], "location"=>92}}], "location"=>88}}, "location"=>88}}], "fromClause"=>[{"RangeVar"=>{"relname"=>"data", "inh"=>true, "relpersistence"=>"p", "alias"=>{"Alias"=>{"aliasname"=>"d"}}, "location"=>100}}], "whereClause"=>{"A_Expr"=>{"kind"=>0, "name"=>[{"String"=>{"str"=>"="}}], "lexpr"=>{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"d"}}, {"String"=>{"str"=>"group_id"}}], "location"=>118}}, "rexpr"=>{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"s"}}, {"String"=>{"str"=>"group_id"}}], "location"=>131}}, "location"=>129}}, "op"=>0}}, "location"=>56}}, "colno"=>1, "ncolumns"=>4}}, "location"=>22}}, {"ResTarget"=>{"name"=>"sum_y", "val"=>{"MultiAssignRef"=>{"source"=>{"SubLink"=>{"subLinkType"=>4, "subselect"=>{"SelectStmt"=>{"targetList"=>[{"ResTarget"=>{"val"=>{"FuncCall"=>{"funcname"=>[{"String"=>{"str"=>"sum"}}], "args"=>[{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"x"}}], "location"=>68}}], "location"=>64}}, "location"=>64}}, {"ResTarget"=>{"val"=>{"FuncCall"=>{"funcname"=>[{"String"=>{"str"=>"sum"}}], "args"=>[{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"y"}}], "location"=>76}}], "location"=>72}}, "location"=>72}}, {"ResTarget"=>{"val"=>{"FuncCall"=>{"funcname"=>[{"String"=>{"str"=>"avg"}}], "args"=>[{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"x"}}], "location"=>84}}], "location"=>80}}, "location"=>80}}, {"ResTarget"=>{"val"=>{"FuncCall"=>{"funcname"=>[{"String"=>{"str"=>"avg"}}], "args"=>[{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"y"}}], "location"=>92}}], "location"=>88}}, "location"=>88}}], "fromClause"=>[{"RangeVar"=>{"relname"=>"data", "inh"=>true, "relpersistence"=>"p", "alias"=>{"Alias"=>{"aliasname"=>"d"}}, "location"=>100}}], "whereClause"=>{"A_Expr"=>{"kind"=>0, "name"=>[{"String"=>{"str"=>"="}}], "lexpr"=>{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"d"}}, {"String"=>{"str"=>"group_id"}}], "location"=>118}}, "rexpr"=>{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"s"}}, {"String"=>{"str"=>"group_id"}}], "location"=>131}}, "location"=>129}}, "op"=>0}}, "location"=>56}}, "colno"=>2, "ncolumns"=>4}}, "location"=>29}}, {"ResTarget"=>{"name"=>"avg_x", "val"=>{"MultiAssignRef"=>{"source"=>{"SubLink"=>{"subLinkType"=>4, "subselect"=>{"SelectStmt"=>{"targetList"=>[{"ResTarget"=>{"val"=>{"FuncCall"=>{"funcname"=>[{"String"=>{"str"=>"sum"}}], "args"=>[{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"x"}}], "location"=>68}}], "location"=>64}}, "location"=>64}}, {"ResTarget"=>{"val"=>{"FuncCall"=>{"funcname"=>[{"String"=>{"str"=>"sum"}}], "args"=>[{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"y"}}], "location"=>76}}], "location"=>72}}, "location"=>72}}, {"ResTarget"=>{"val"=>{"FuncCall"=>{"funcname"=>[{"String"=>{"str"=>"avg"}}], "args"=>[{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"x"}}], "location"=>84}}], "location"=>80}}, "location"=>80}}, {"ResTarget"=>{"val"=>{"FuncCall"=>{"funcname"=>[{"String"=>{"str"=>"avg"}}], "args"=>[{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"y"}}], "location"=>92}}], "location"=>88}}, "location"=>88}}], "fromClause"=>[{"RangeVar"=>{"relname"=>"data", "inh"=>true, "relpersistence"=>"p", "alias"=>{"Alias"=>{"aliasname"=>"d"}}, "location"=>100}}], "whereClause"=>{"A_Expr"=>{"kind"=>0, "name"=>[{"String"=>{"str"=>"="}}], "lexpr"=>{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"d"}}, {"String"=>{"str"=>"group_id"}}], "location"=>118}}, "rexpr"=>{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"s"}}, {"String"=>{"str"=>"group_id"}}], "location"=>131}}, "location"=>129}}, "op"=>0}}, "location"=>56}}, "colno"=>3, "ncolumns"=>4}}, "location"=>36}}, {"ResTarget"=>{"name"=>"avg_y", "val"=>{"MultiAssignRef"=>{"source"=>{"SubLink"=>{"subLinkType"=>4, "subselect"=>{"SelectStmt"=>{"targetList"=>[{"ResTarget"=>{"val"=>{"FuncCall"=>{"funcname"=>[{"String"=>{"str"=>"sum"}}], "args"=>[{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"x"}}], "location"=>68}}], "location"=>64}}, "location"=>64}}, {"ResTarget"=>{"val"=>{"FuncCall"=>{"funcname"=>[{"String"=>{"str"=>"sum"}}], "args"=>[{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"y"}}], "location"=>76}}], "location"=>72}}, "location"=>72}}, {"ResTarget"=>{"val"=>{"FuncCall"=>{"funcname"=>[{"String"=>{"str"=>"avg"}}], "args"=>[{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"x"}}], "location"=>84}}], "location"=>80}}, "location"=>80}}, {"ResTarget"=>{"val"=>{"FuncCall"=>{"funcname"=>[{"String"=>{"str"=>"avg"}}], "args"=>[{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"y"}}], "location"=>92}}], "location"=>88}}, "location"=>88}}], "fromClause"=>[{"RangeVar"=>{"relname"=>"data", "inh"=>true, "relpersistence"=>"p", "alias"=>{"Alias"=>{"aliasname"=>"d"}}, "location"=>100}}], "whereClause"=>{"A_Expr"=>{"kind"=>0, "name"=>[{"String"=>{"str"=>"="}}], "lexpr"=>{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"d"}}, {"String"=>{"str"=>"group_id"}}], "location"=>118}}, "rexpr"=>{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"s"}}, {"String"=>{"str"=>"group_id"}}], "location"=>131}}, "location"=>129}}, "op"=>0}}, "location"=>56}}, "colno"=>4, "ncolumns"=>4}}, "location"=>43}}]}}, "stmt_len"=>142}}

0259106a8c169ad7ee3416ad319ec403fc7ecd7051



Can't deparse: MultiAssignRef: {"source"=>{"SubLink"=>{"subLinkType"=>4, "subselect"=>{"SelectStmt"=>{"targetList"=>[{"ResTarget"=>{"val"=>{"FuncCall"=>{"funcname"=>[{"String"=>{"str"=>"sum"}}], "args"=>[{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"x"}}], "location"=>68}}], "location"=>64}}, "location"=>64}}, {"ResTarget"=>{"val"=>{"FuncCall"=>{"funcname"=>[{"String"=>{"str"=>"sum"}}], "args"=>[{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"y"}}], "location"=>76}}], "location"=>72}}, "location"=>72}}, {"ResTarget"=>{"val"=>{"FuncCall"=>{"funcname"=>[{"String"=>{"str"=>"avg"}}], "args"=>[{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"x"}}], "location"=>84}}], "location"=>80}}, "location"=>80}}, {"ResTarget"=>{"val"=>{"FuncCall"=>{"funcname"=>[{"String"=>{"str"=>"avg"}}], "args"=>[{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"y"}}], "location"=>92}}], "location"=>88}}, "location"=>88}}], "fromClause"=>[{"RangeVar"=>{"relname"=>"data", "inh"=>true, "relpersistence"=>"p", "alias"=>{"Alias"=>{"aliasname"=>"d"}}, "location"=>100}}], "whereClause"=>{"A_Expr"=>{"kind"=>0, "name"=>[{"String"=>{"str"=>"="}}], "lexpr"=>{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"d"}}, {"String"=>{"str"=>"group_id"}}], "location"=>118}}, "rexpr"=>{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"s"}}, {"String"=>{"str"=>"group_id"}}], "location"=>131}}, "location"=>129}}, "op"=>0}}, "location"=>56}}, "colno"=>1, "ncolumns"=>4}

------- End UPDATE summary s SET (sum_x, sum_y, avg_x, avg_y) =
    (SELECT sum(x), sum(y), avg(x), avg(y) FROM data d
     WHERE d.group_id = s.group_id);-------




-------UPDATE films SET kind = 'Dramatic' WHERE CURRENT OF c_films;-------
{"RawStmt"=>{"stmt"=>{"UpdateStmt"=>{"relation"=>{"RangeVar"=>{"relname"=>"films", "inh"=>true, "relpersistence"=>"p", "location"=>7}}, "targetList"=>[{"ResTarget"=>{"name"=>"kind", "val"=>{"A_Const"=>{"val"=>{"String"=>{"str"=>"Dramatic"}}, "location"=>24}}, "location"=>17}}], "whereClause"=>{"CurrentOfExpr"=>{"cursor_name"=>"c_films"}}}}, "stmt_len"=>59}}

02519d0f236eea8d7ea0b8eb14674c404c89d9a9fc



Can't deparse: CurrentOfExpr: {"cursor_name"=>"c_films"}

------- End UPDATE films SET kind = 'Dramatic' WHERE CURRENT OF c_films;-------




-------ALTER PROCEDURE insert_data(integer, integer) RENAME TO insert_record;-------






syntax error at or near "PROCEDURE" (scan.l:1121)

------- End ALTER PROCEDURE insert_data(integer, integer) RENAME TO insert_record;-------




-------ALTER PROCEDURE insert_data(integer, integer) OWNER TO joe;-------






syntax error at or near "PROCEDURE" (scan.l:1121)

------- End ALTER PROCEDURE insert_data(integer, integer) OWNER TO joe;-------




-------ALTER PROCEDURE insert_data(integer, integer) SET SCHEMA accounting;-------






syntax error at or near "PROCEDURE" (scan.l:1121)

------- End ALTER PROCEDURE insert_data(integer, integer) SET SCHEMA accounting;-------




-------ALTER PROCEDURE insert_data(integer, integer) DEPENDS ON EXTENSION myext;-------






syntax error at or near "PROCEDURE" (scan.l:1121)

------- End ALTER PROCEDURE insert_data(integer, integer) DEPENDS ON EXTENSION myext;-------




-------ALTER PROCEDURE check_password(text) SET search_path = admin, pg_temp;-------






syntax error at or near "PROCEDURE" (scan.l:1121)

------- End ALTER PROCEDURE check_password(text) SET search_path = admin, pg_temp;-------




-------ALTER PROCEDURE check_password(text) RESET search_path;-------






syntax error at or near "PROCEDURE" (scan.l:1121)

------- End ALTER PROCEDURE check_password(text) RESET search_path;-------




-------SECURITY LABEL FOR selinux ON TABLE mytable IS 'system_u:object_r:sepgsql_table_t:s0';-------
{"RawStmt"=>{"stmt"=>{"SecLabelStmt"=>{"objtype"=>37, "object"=>[{"String"=>{"str"=>"mytable"}}], "provider"=>"selinux", "label"=>"system_u:object_r:sepgsql_table_t:s0"}}, "stmt_len"=>85}}

028d3c775c9a9cef3dd2f33cb136d48cef59a00422



Can't deparse: SecLabelStmt: {"objtype"=>37, "object"=>[{"String"=>{"str"=>"mytable"}}], "provider"=>"selinux", "label"=>"system_u:object_r:sepgsql_table_t:s0"}

------- End SECURITY LABEL FOR selinux ON TABLE mytable IS 'system_u:object_r:sepgsql_table_t:s0';-------




-------GRANT INSERT ON films TO PUBLIC;-------
{"RawStmt"=>{"stmt"=>{"GrantStmt"=>{"is_grant"=>true, "targtype"=>0, "objtype"=>1, "objects"=>[{"RangeVar"=>{"relname"=>"films", "inh"=>true, "relpersistence"=>"p", "location"=>16}}], "privileges"=>[{"AccessPriv"=>{"priv_name"=>"insert"}}], "grantees"=>[{"RoleSpec"=>{"roletype"=>3, "location"=>25}}], "behavior"=>0}}, "stmt_len"=>31}}

02a561db638cd042e891c4111d0cd2031b7c86fcbb



Can't deparse: GrantStmt: {"is_grant"=>true, "targtype"=>0, "objtype"=>1, "objects"=>[{"RangeVar"=>{"relname"=>"films", "inh"=>true, "relpersistence"=>"p", "location"=>16}}], "privileges"=>[{"AccessPriv"=>{"priv_name"=>"insert"}}], "grantees"=>[{"RoleSpec"=>{"roletype"=>3, "location"=>25}}], "behavior"=>0}

------- End GRANT INSERT ON films TO PUBLIC;-------




-------GRANT ALL PRIVILEGES ON kinds TO manuel;-------
{"RawStmt"=>{"stmt"=>{"GrantStmt"=>{"is_grant"=>true, "targtype"=>0, "objtype"=>1, "objects"=>[{"RangeVar"=>{"relname"=>"kinds", "inh"=>true, "relpersistence"=>"p", "location"=>24}}], "grantees"=>[{"RoleSpec"=>{"roletype"=>0, "rolename"=>"manuel", "location"=>33}}], "behavior"=>0}}, "stmt_len"=>39}}

02762d6c32679cebcc830885385de7009b6d1be082



Can't deparse: GrantStmt: {"is_grant"=>true, "targtype"=>0, "objtype"=>1, "objects"=>[{"RangeVar"=>{"relname"=>"kinds", "inh"=>true, "relpersistence"=>"p", "location"=>24}}], "grantees"=>[{"RoleSpec"=>{"roletype"=>0, "rolename"=>"manuel", "location"=>33}}], "behavior"=>0}

------- End GRANT ALL PRIVILEGES ON kinds TO manuel;-------




-------GRANT admins TO joe;-------
{"RawStmt"=>{"stmt"=>{"GrantRoleStmt"=>{"granted_roles"=>[{"AccessPriv"=>{"priv_name"=>"admins"}}], "grantee_roles"=>[{"RoleSpec"=>{"roletype"=>0, "rolename"=>"joe", "location"=>16}}], "is_grant"=>true, "behavior"=>0}}, "stmt_len"=>19}}

02bcdfc4d708ccf0e21da33e36b3d80de14c5e1b3c



Can't deparse: GrantRoleStmt: {"granted_roles"=>[{"AccessPriv"=>{"priv_name"=>"admins"}}], "grantee_roles"=>[{"RoleSpec"=>{"roletype"=>0, "rolename"=>"joe", "location"=>16}}], "is_grant"=>true, "behavior"=>0}

------- End GRANT admins TO joe;-------




-------SHOW DateStyle;
 DateStyle
-----------
 ISO, MDY
(1 row)-------






syntax error at or near "DateStyle" (scan.l:1121)

------- End SHOW DateStyle;
 DateStyle
-----------
 ISO, MDY
(1 row)-------




-------SHOW geqo;
 geqo
------
 on
(1 row)-------






syntax error at or near "geqo" (scan.l:1121)

------- End SHOW geqo;
 geqo
------
 on
(1 row)-------




-------SHOW ALL;
            name         | setting |                description                                                          
-------------------------+---------+-------------------------------------------------
 allow_system_table_mods | off     | Allows modifications of the structure of ...
    .
    .
    .
 xmloption               | content | Sets whether XML data in implicit parsing ...
 zero_damaged_pages      | off     | Continues processing past damaged page headers.
(196 rows)-------






syntax error at or near "name" (scan.l:1121)

------- End SHOW ALL;
            name         | setting |                description                                                          
-------------------------+---------+-------------------------------------------------
 allow_system_table_mods | off     | Allows modifications of the structure of ...
    .
    .
    .
 xmloption               | content | Sets whether XML data in implicit parsing ...
 zero_damaged_pages      | off     | Continues processing past damaged page headers.
(196 rows)-------




-------eval ./configure `pg_config --configure`-------






syntax error at or near "eval" (scan.l:1121)

------- End eval ./configure `pg_config --configure`-------




-------REVOKE INSERT ON films FROM PUBLIC;-------
{"RawStmt"=>{"stmt"=>{"GrantStmt"=>{"targtype"=>0, "objtype"=>1, "objects"=>[{"RangeVar"=>{"relname"=>"films", "inh"=>true, "relpersistence"=>"p", "location"=>17}}], "privileges"=>[{"AccessPriv"=>{"priv_name"=>"insert"}}], "grantees"=>[{"RoleSpec"=>{"roletype"=>3, "location"=>28}}], "behavior"=>0}}, "stmt_len"=>34}}

02249e39e35603af6b1e8f9186d29284d64da6b94f



Can't deparse: GrantStmt: {"targtype"=>0, "objtype"=>1, "objects"=>[{"RangeVar"=>{"relname"=>"films", "inh"=>true, "relpersistence"=>"p", "location"=>17}}], "privileges"=>[{"AccessPriv"=>{"priv_name"=>"insert"}}], "grantees"=>[{"RoleSpec"=>{"roletype"=>3, "location"=>28}}], "behavior"=>0}

------- End REVOKE INSERT ON films FROM PUBLIC;-------




-------REVOKE ALL PRIVILEGES ON kinds FROM manuel;-------
{"RawStmt"=>{"stmt"=>{"GrantStmt"=>{"targtype"=>0, "objtype"=>1, "objects"=>[{"RangeVar"=>{"relname"=>"kinds", "inh"=>true, "relpersistence"=>"p", "location"=>25}}], "grantees"=>[{"RoleSpec"=>{"roletype"=>0, "rolename"=>"manuel", "location"=>36}}], "behavior"=>0}}, "stmt_len"=>42}}

02b254a591140b6b3ed96f97eabe8429eb95c204af



Can't deparse: GrantStmt: {"targtype"=>0, "objtype"=>1, "objects"=>[{"RangeVar"=>{"relname"=>"kinds", "inh"=>true, "relpersistence"=>"p", "location"=>25}}], "grantees"=>[{"RoleSpec"=>{"roletype"=>0, "rolename"=>"manuel", "location"=>36}}], "behavior"=>0}

------- End REVOKE ALL PRIVILEGES ON kinds FROM manuel;-------




-------REVOKE admins FROM joe;-------
{"RawStmt"=>{"stmt"=>{"GrantRoleStmt"=>{"granted_roles"=>[{"AccessPriv"=>{"priv_name"=>"admins"}}], "grantee_roles"=>[{"RoleSpec"=>{"roletype"=>0, "rolename"=>"joe", "location"=>19}}], "behavior"=>0}}, "stmt_len"=>22}}

02d1997e7a88ca2c539f0d0d6c54824977c4d4ee14



Can't deparse: GrantRoleStmt: {"granted_roles"=>[{"AccessPriv"=>{"priv_name"=>"admins"}}], "grantee_roles"=>[{"RoleSpec"=>{"roletype"=>0, "rolename"=>"joe", "location"=>19}}], "behavior"=>0}

------- End REVOKE admins FROM joe;-------




-------CREATE TEXT SEARCH DICTIONARY my_russian (
    template = snowball,
    language = russian,
    stopwords = myrussian
);-------
{"RawStmt"=>{"stmt"=>{"DefineStmt"=>{"kind"=>42, "defnames"=>[{"String"=>{"str"=>"my_russian"}}], "definition"=>[{"DefElem"=>{"defname"=>"template", "arg"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"snowball"}}], "typemod"=>-1, "location"=>58}}, "defaction"=>0, "location"=>47}}, {"DefElem"=>{"defname"=>"language", "arg"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"russian"}}], "typemod"=>-1, "location"=>83}}, "defaction"=>0, "location"=>72}}, {"DefElem"=>{"defname"=>"stopwords", "arg"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"myrussian"}}], "typemod"=>-1, "location"=>108}}, "defaction"=>0, "location"=>96}}]}}, "stmt_len"=>119}}

02610ba72e614c935c23a0ac7ea65a984e091eabcf



Can't deparse: DefineStmt: {"kind"=>42, "defnames"=>[{"String"=>{"str"=>"my_russian"}}], "definition"=>[{"DefElem"=>{"defname"=>"template", "arg"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"snowball"}}], "typemod"=>-1, "location"=>58}}, "defaction"=>0, "location"=>47}}, {"DefElem"=>{"defname"=>"language", "arg"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"russian"}}], "typemod"=>-1, "location"=>83}}, "defaction"=>0, "location"=>72}}, {"DefElem"=>{"defname"=>"stopwords", "arg"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"myrussian"}}], "typemod"=>-1, "location"=>108}}, "defaction"=>0, "location"=>96}}]}

------- End CREATE TEXT SEARCH DICTIONARY my_russian (
    template = snowball,
    language = russian,
    stopwords = myrussian
);-------




-------DROP EVENT TRIGGER snitch;-------
{"RawStmt"=>{"stmt"=>{"DropStmt"=>{"objects"=>[{"String"=>{"str"=>"snitch"}}], "removeType"=>14, "behavior"=>0}}, "stmt_len"=>25}}

02396ad0680b0af63cdec538922dff52ad671630ac



undefined method `keys' for ["String", {"str"=>"snitch"}]:Array

------- End DROP EVENT TRIGGER snitch;-------




-------ALTER MATERIALIZED VIEW foo RENAME TO bar;-------
{"RawStmt"=>{"stmt"=>{"RenameStmt"=>{"renameType"=>23, "relationType"=>0, "relation"=>{"RangeVar"=>{"relname"=>"foo", "inh"=>true, "relpersistence"=>"p", "location"=>24}}, "newname"=>"bar", "behavior"=>0}}, "stmt_len"=>41}}

02e7d8e39e5bb1c33ba22f4de74dee9af8d7501ce0



Can't deparse: {"renameType"=>23, "relationType"=>0, "relation"=>{"RangeVar"=>{"relname"=>"foo", "inh"=>true, "relpersistence"=>"p", "location"=>24}}, "newname"=>"bar", "behavior"=>0}

------- End ALTER MATERIALIZED VIEW foo RENAME TO bar;-------




-------CREATE ACCESS METHOD heptree TYPE INDEX HANDLER heptree_handler;-------
{"RawStmt"=>{"stmt"=>{"CreateAmStmt"=>{"amname"=>"heptree", "handler_name"=>[{"String"=>{"str"=>"heptree_handler"}}], "amtype"=>"i"}}, "stmt_len"=>63}}

0297414d86a8a7481a2134c8c4e240bb3654cfe5e7



Can't deparse: CreateAmStmt: {"amname"=>"heptree", "handler_name"=>[{"String"=>{"str"=>"heptree_handler"}}], "amtype"=>"i"}

------- End CREATE ACCESS METHOD heptree TYPE INDEX HANDLER heptree_handler;-------




-------ALTER TRIGGER emp_stamp ON emp RENAME TO emp_track_chgs;-------
{"RawStmt"=>{"stmt"=>{"RenameStmt"=>{"renameType"=>40, "relationType"=>0, "relation"=>{"RangeVar"=>{"relname"=>"emp", "inh"=>true, "relpersistence"=>"p", "location"=>27}}, "subname"=>"emp_stamp", "newname"=>"emp_track_chgs", "behavior"=>0}}, "stmt_len"=>55}}

0230f433e2a48e39ccfe61ef656d16a1e91c98fac7



Can't deparse: {"renameType"=>40, "relationType"=>0, "relation"=>{"RangeVar"=>{"relname"=>"emp", "inh"=>true, "relpersistence"=>"p", "location"=>27}}, "subname"=>"emp_stamp", "newname"=>"emp_track_chgs", "behavior"=>0}

------- End ALTER TRIGGER emp_stamp ON emp RENAME TO emp_track_chgs;-------




-------ALTER TRIGGER emp_stamp ON emp DEPENDS ON EXTENSION emplib;-------
{"RawStmt"=>{"stmt"=>{"AlterObjectDependsStmt"=>{"objectType"=>40, "relation"=>{"RangeVar"=>{"relname"=>"emp", "inh"=>true, "relpersistence"=>"p", "location"=>27}}, "object"=>[{"String"=>{"str"=>"emp_stamp"}}], "extname"=>{"String"=>{"str"=>"emplib"}}}}, "stmt_len"=>58}}

020667dd4358a6219c92eaaf3d0aee0d2c40bc9f9d



Can't deparse: AlterObjectDependsStmt: {"objectType"=>40, "relation"=>{"RangeVar"=>{"relname"=>"emp", "inh"=>true, "relpersistence"=>"p", "location"=>27}}, "object"=>[{"String"=>{"str"=>"emp_stamp"}}], "extname"=>{"String"=>{"str"=>"emplib"}}}

------- End ALTER TRIGGER emp_stamp ON emp DEPENDS ON EXTENSION emplib;-------




-------CREATE COLLATION french (locale = 'fr_FR.utf8');-------
{"RawStmt"=>{"stmt"=>{"DefineStmt"=>{"kind"=>7, "defnames"=>[{"String"=>{"str"=>"french"}}], "definition"=>[{"DefElem"=>{"defname"=>"locale", "arg"=>{"String"=>{"str"=>"fr_FR.utf8"}}, "defaction"=>0, "location"=>25}}]}}, "stmt_len"=>47}}

0217dc14e38dfacd2f5c129048eee9ca4dd1007528



Can't deparse: DefineStmt: {"kind"=>7, "defnames"=>[{"String"=>{"str"=>"french"}}], "definition"=>[{"DefElem"=>{"defname"=>"locale", "arg"=>{"String"=>{"str"=>"fr_FR.utf8"}}, "defaction"=>0, "location"=>25}}]}

------- End CREATE COLLATION french (locale = 'fr_FR.utf8');-------




-------CREATE COLLATION german_phonebook (provider = icu, locale = 'de-u-co-phonebk');-------
{"RawStmt"=>{"stmt"=>{"DefineStmt"=>{"kind"=>7, "defnames"=>[{"String"=>{"str"=>"german_phonebook"}}], "definition"=>[{"DefElem"=>{"defname"=>"provider", "arg"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"icu"}}], "typemod"=>-1, "location"=>46}}, "defaction"=>0, "location"=>35}}, {"DefElem"=>{"defname"=>"locale", "arg"=>{"String"=>{"str"=>"de-u-co-phonebk"}}, "defaction"=>0, "location"=>51}}]}}, "stmt_len"=>78}}

02d489ea4743ec82966bf6b6e88237f432c6200def



Can't deparse: DefineStmt: {"kind"=>7, "defnames"=>[{"String"=>{"str"=>"german_phonebook"}}], "definition"=>[{"DefElem"=>{"defname"=>"provider", "arg"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"icu"}}], "typemod"=>-1, "location"=>46}}, "defaction"=>0, "location"=>35}}, {"DefElem"=>{"defname"=>"locale", "arg"=>{"String"=>{"str"=>"de-u-co-phonebk"}}, "defaction"=>0, "location"=>51}}]}

------- End CREATE COLLATION german_phonebook (provider = icu, locale = 'de-u-co-phonebk');-------




-------CREATE COLLATION german FROM "de_DE";-------
{"RawStmt"=>{"stmt"=>{"DefineStmt"=>{"kind"=>7, "defnames"=>[{"String"=>{"str"=>"german"}}], "definition"=>[{"DefElem"=>{"defname"=>"from", "arg"=>[{"String"=>{"str"=>"de_DE"}}], "defaction"=>0, "location"=>29}}]}}, "stmt_len"=>36}}

02aa5c9948bc23b424bee5e8d37f0d50bd8bbcb238



Can't deparse: DefineStmt: {"kind"=>7, "defnames"=>[{"String"=>{"str"=>"german"}}], "definition"=>[{"DefElem"=>{"defname"=>"from", "arg"=>[{"String"=>{"str"=>"de_DE"}}], "defaction"=>0, "location"=>29}}]}

------- End CREATE COLLATION german FROM "de_DE";-------




-------ALTER COLLATION "de_DE" RENAME TO german;-------
{"RawStmt"=>{"stmt"=>{"RenameStmt"=>{"renameType"=>7, "relationType"=>0, "object"=>[{"String"=>{"str"=>"de_DE"}}], "newname"=>"german", "behavior"=>0}}, "stmt_len"=>40}}

02776b4c0a0b4c21e8c408326e76bd19e946ca4ff7



Can't deparse: {"renameType"=>7, "relationType"=>0, "object"=>[{"String"=>{"str"=>"de_DE"}}], "newname"=>"german", "behavior"=>0}

------- End ALTER COLLATION "de_DE" RENAME TO german;-------




-------ALTER COLLATION "en_US" OWNER TO joe;-------
{"RawStmt"=>{"stmt"=>{"AlterOwnerStmt"=>{"objectType"=>7, "object"=>[{"String"=>{"str"=>"en_US"}}], "newowner"=>{"RoleSpec"=>{"roletype"=>0, "rolename"=>"joe", "location"=>33}}}}, "stmt_len"=>36}}

02b62a5422e0e8d5be5d82e1347991d93c35b8360f



Can't deparse: AlterOwnerStmt: {"objectType"=>7, "object"=>[{"String"=>{"str"=>"en_US"}}], "newowner"=>{"RoleSpec"=>{"roletype"=>0, "rolename"=>"joe", "location"=>33}}}

------- End ALTER COLLATION "en_US" OWNER TO joe;-------




-------CREATE SEQUENCE serial START 101;-------
{"RawStmt"=>{"stmt"=>{"CreateSeqStmt"=>{"sequence"=>{"RangeVar"=>{"relname"=>"serial", "inh"=>true, "relpersistence"=>"p", "location"=>16}}, "options"=>[{"DefElem"=>{"defname"=>"start", "arg"=>{"Integer"=>{"ival"=>101}}, "defaction"=>0, "location"=>23}}]}}, "stmt_len"=>32}}

022c3c8e5249f377cfc387cf753e6bd4bca8bced8d



Can't deparse: CreateSeqStmt: {"sequence"=>{"RangeVar"=>{"relname"=>"serial", "inh"=>true, "relpersistence"=>"p", "location"=>16}}, "options"=>[{"DefElem"=>{"defname"=>"start", "arg"=>{"Integer"=>{"ival"=>101}}, "defaction"=>0, "location"=>23}}]}

------- End CREATE SEQUENCE serial START 101;-------




-------SELECT nextval('serial');

 nextval
---------
     101-------






syntax error at or near "nextval" (scan.l:1121)

------- End SELECT nextval('serial');

 nextval
---------
     101-------




-------SELECT nextval('serial');

 nextval
---------
     102-------






syntax error at or near "nextval" (scan.l:1121)

------- End SELECT nextval('serial');

 nextval
---------
     102-------




-------ALTER DATABASE test SET enable_indexscan TO off;-------
{"RawStmt"=>{"stmt"=>{"AlterDatabaseSetStmt"=>{"dbname"=>"test", "setstmt"=>{"VariableSetStmt"=>{"kind"=>0, "name"=>"enable_indexscan", "args"=>[{"A_Const"=>{"val"=>{"String"=>{"str"=>"off"}}, "location"=>44}}]}}}}, "stmt_len"=>47}}

02ec2fd56c8e850ff23e8537097104ed3ddb3a6a95



Can't deparse: AlterDatabaseSetStmt: {"dbname"=>"test", "setstmt"=>{"VariableSetStmt"=>{"kind"=>0, "name"=>"enable_indexscan", "args"=>[{"A_Const"=>{"val"=>{"String"=>{"str"=>"off"}}, "location"=>44}}]}}}

------- End ALTER DATABASE test SET enable_indexscan TO off;-------




-------PREPARE fooplan (int, text, bool, numeric) AS
    INSERT INTO foo VALUES($1, $2, $3, $4);
EXECUTE fooplan(1, 'Hunter Valley', 't', 200.00);-------
{"RawStmt"=>{"stmt"=>{"PrepareStmt"=>{"name"=>"fooplan", "argtypes"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"pg_catalog"}}, {"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>17}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"text"}}], "typemod"=>-1, "location"=>22}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"bool"}}], "typemod"=>-1, "location"=>28}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"pg_catalog"}}, {"String"=>{"str"=>"numeric"}}], "typemod"=>-1, "location"=>34}}], "query"=>{"InsertStmt"=>{"relation"=>{"RangeVar"=>{"relname"=>"foo", "inh"=>true, "relpersistence"=>"p", "location"=>62}}, "selectStmt"=>{"SelectStmt"=>{"valuesLists"=>[[{"ParamRef"=>{"number"=>1, "location"=>73}}, {"ParamRef"=>{"number"=>2, "location"=>77}}, {"ParamRef"=>{"number"=>3, "location"=>81}}, {"ParamRef"=>{"number"=>4, "location"=>85}}]], "op"=>0}}, "override"=>0}}}}, "stmt_len"=>88}}
{"RawStmt"=>{"stmt"=>{"ExecuteStmt"=>{"name"=>"fooplan", "params"=>[{"A_Const"=>{"val"=>{"Integer"=>{"ival"=>1}}, "location"=>106}}, {"A_Const"=>{"val"=>{"String"=>{"str"=>"Hunter Valley"}}, "location"=>109}}, {"A_Const"=>{"val"=>{"String"=>{"str"=>"t"}}, "location"=>126}}, {"A_Const"=>{"val"=>{"Float"=>{"str"=>"200.00"}}, "location"=>131}}]}}, "stmt_location"=>89, "stmt_len"=>49}}

0236210a3e02201243dc305dc807464a43f2c95ae7



Can't deparse: PrepareStmt: {"name"=>"fooplan", "argtypes"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"pg_catalog"}}, {"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>17}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"text"}}], "typemod"=>-1, "location"=>22}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"bool"}}], "typemod"=>-1, "location"=>28}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"pg_catalog"}}, {"String"=>{"str"=>"numeric"}}], "typemod"=>-1, "location"=>34}}], "query"=>{"InsertStmt"=>{"relation"=>{"RangeVar"=>{"relname"=>"foo", "inh"=>true, "relpersistence"=>"p", "location"=>62}}, "selectStmt"=>{"SelectStmt"=>{"valuesLists"=>[[{"ParamRef"=>{"number"=>1, "location"=>73}}, {"ParamRef"=>{"number"=>2, "location"=>77}}, {"ParamRef"=>{"number"=>3, "location"=>81}}, {"ParamRef"=>{"number"=>4, "location"=>85}}]], "op"=>0}}, "override"=>0}}}

------- End PREPARE fooplan (int, text, bool, numeric) AS
    INSERT INTO foo VALUES($1, $2, $3, $4);
EXECUTE fooplan(1, 'Hunter Valley', 't', 200.00);-------




-------PREPARE usrrptplan (int) AS
    SELECT * FROM users u, logs l WHERE u.usrid=$1 AND u.usrid=l.usrid
    AND l.date = $2;
EXECUTE usrrptplan(1, current_date);-------
{"RawStmt"=>{"stmt"=>{"PrepareStmt"=>{"name"=>"usrrptplan", "argtypes"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"pg_catalog"}}, {"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>20}}], "query"=>{"SelectStmt"=>{"targetList"=>[{"ResTarget"=>{"val"=>{"ColumnRef"=>{"fields"=>[{"A_Star"=>{}}], "location"=>39}}, "location"=>39}}], "fromClause"=>[{"RangeVar"=>{"relname"=>"users", "inh"=>true, "relpersistence"=>"p", "alias"=>{"Alias"=>{"aliasname"=>"u"}}, "location"=>46}}, {"RangeVar"=>{"relname"=>"logs", "inh"=>true, "relpersistence"=>"p", "alias"=>{"Alias"=>{"aliasname"=>"l"}}, "location"=>55}}], "whereClause"=>{"BoolExpr"=>{"boolop"=>0, "args"=>[{"A_Expr"=>{"kind"=>0, "name"=>[{"String"=>{"str"=>"="}}], "lexpr"=>{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"u"}}, {"String"=>{"str"=>"usrid"}}], "location"=>68}}, "rexpr"=>{"ParamRef"=>{"number"=>1, "location"=>76}}, "location"=>75}}, {"A_Expr"=>{"kind"=>0, "name"=>[{"String"=>{"str"=>"="}}], "lexpr"=>{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"u"}}, {"String"=>{"str"=>"usrid"}}], "location"=>83}}, "rexpr"=>{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"l"}}, {"String"=>{"str"=>"usrid"}}], "location"=>91}}, "location"=>90}}, {"A_Expr"=>{"kind"=>0, "name"=>[{"String"=>{"str"=>"="}}], "lexpr"=>{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"l"}}, {"String"=>{"str"=>"date"}}], "location"=>107}}, "rexpr"=>{"ParamRef"=>{"number"=>2, "location"=>116}}, "location"=>114}}], "location"=>79}}, "op"=>0}}}}, "stmt_len"=>118}}
{"RawStmt"=>{"stmt"=>{"ExecuteStmt"=>{"name"=>"usrrptplan", "params"=>[{"A_Const"=>{"val"=>{"Integer"=>{"ival"=>1}}, "location"=>139}}, {"SQLValueFunction"=>{"op"=>0, "typmod"=>-1, "location"=>142}}]}}, "stmt_location"=>119, "stmt_len"=>36}}

02c9dc0f883268e7c6a910d1a9dc2cdbc64303c4f6



Can't deparse: PrepareStmt: {"name"=>"usrrptplan", "argtypes"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"pg_catalog"}}, {"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>20}}], "query"=>{"SelectStmt"=>{"targetList"=>[{"ResTarget"=>{"val"=>{"ColumnRef"=>{"fields"=>[{"A_Star"=>{}}], "location"=>39}}, "location"=>39}}], "fromClause"=>[{"RangeVar"=>{"relname"=>"users", "inh"=>true, "relpersistence"=>"p", "alias"=>{"Alias"=>{"aliasname"=>"u"}}, "location"=>46}}, {"RangeVar"=>{"relname"=>"logs", "inh"=>true, "relpersistence"=>"p", "alias"=>{"Alias"=>{"aliasname"=>"l"}}, "location"=>55}}], "whereClause"=>{"BoolExpr"=>{"boolop"=>0, "args"=>[{"A_Expr"=>{"kind"=>0, "name"=>[{"String"=>{"str"=>"="}}], "lexpr"=>{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"u"}}, {"String"=>{"str"=>"usrid"}}], "location"=>68}}, "rexpr"=>{"ParamRef"=>{"number"=>1, "location"=>76}}, "location"=>75}}, {"A_Expr"=>{"kind"=>0, "name"=>[{"String"=>{"str"=>"="}}], "lexpr"=>{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"u"}}, {"String"=>{"str"=>"usrid"}}], "location"=>83}}, "rexpr"=>{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"l"}}, {"String"=>{"str"=>"usrid"}}], "location"=>91}}, "location"=>90}}, {"A_Expr"=>{"kind"=>0, "name"=>[{"String"=>{"str"=>"="}}], "lexpr"=>{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"l"}}, {"String"=>{"str"=>"date"}}], "location"=>107}}, "rexpr"=>{"ParamRef"=>{"number"=>2, "location"=>116}}, "location"=>114}}], "location"=>79}}, "op"=>0}}}

------- End PREPARE usrrptplan (int) AS
    SELECT * FROM users u, logs l WHERE u.usrid=$1 AND u.usrid=l.usrid
    AND l.date = $2;
EXECUTE usrrptplan(1, current_date);-------




-------BEGIN WORK;
DECLARE liahona CURSOR FOR SELECT * FROM films;

-- Skip the first 5 rows:
MOVE FORWARD 5 IN liahona;
MOVE 5

-- Fetch the 6th row from the cursor liahona:
FETCH 1 FROM liahona;
 code  | title  | did | date_prod  |  kind  |  len
-------+--------+-----+------------+--------+-------
 P_303 | 48 Hrs | 103 | 1982-10-22 | Action | 01:37
(1 row)

-- Close the cursor liahona and end the transaction:
CLOSE liahona;
COMMIT WORK;-------






syntax error at or near "FETCH" (scan.l:1121)

------- End BEGIN WORK;
DECLARE liahona CURSOR FOR SELECT * FROM films;

-- Skip the first 5 rows:
MOVE FORWARD 5 IN liahona;
MOVE 5

-- Fetch the 6th row from the cursor liahona:
FETCH 1 FROM liahona;
 code  | title  | did | date_prod  |  kind  |  len
-------+--------+-----+------------+--------+-------
 P_303 | 48 Hrs | 103 | 1982-10-22 | Action | 01:37
(1 row)

-- Close the cursor liahona and end the transaction:
CLOSE liahona;
COMMIT WORK;-------




-------CREATE USER rewind_user LOGIN;
GRANT EXECUTE ON function pg_catalog.pg_ls_dir(text, boolean, boolean) TO rewind_user;
GRANT EXECUTE ON function pg_catalog.pg_stat_file(text, boolean) TO rewind_user;
GRANT EXECUTE ON function pg_catalog.pg_read_binary_file(text) TO rewind_user;
GRANT EXECUTE ON function pg_catalog.pg_read_binary_file(text, bigint, bigint, boolean) TO rewind_user;-------
{"RawStmt"=>{"stmt"=>{"CreateRoleStmt"=>{"stmt_type"=>1, "role"=>"rewind_user", "options"=>[{"DefElem"=>{"defname"=>"canlogin", "arg"=>{"Integer"=>{"ival"=>1}}, "defaction"=>0, "location"=>24}}]}}, "stmt_len"=>29}}
{"RawStmt"=>{"stmt"=>{"GrantStmt"=>{"is_grant"=>true, "targtype"=>0, "objtype"=>7, "objects"=>[{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"pg_catalog"}}, {"String"=>{"str"=>"pg_ls_dir"}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"text"}}], "typemod"=>-1, "location"=>78}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"pg_catalog"}}, {"String"=>{"str"=>"bool"}}], "typemod"=>-1, "location"=>84}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"pg_catalog"}}, {"String"=>{"str"=>"bool"}}], "typemod"=>-1, "location"=>93}}]}}], "privileges"=>[{"AccessPriv"=>{"priv_name"=>"execute"}}], "grantees"=>[{"RoleSpec"=>{"roletype"=>0, "rolename"=>"rewind_user", "location"=>105}}], "behavior"=>0}}, "stmt_location"=>30, "stmt_len"=>86}}
{"RawStmt"=>{"stmt"=>{"GrantStmt"=>{"is_grant"=>true, "targtype"=>0, "objtype"=>7, "objects"=>[{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"pg_catalog"}}, {"String"=>{"str"=>"pg_stat_file"}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"text"}}], "typemod"=>-1, "location"=>168}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"pg_catalog"}}, {"String"=>{"str"=>"bool"}}], "typemod"=>-1, "location"=>174}}]}}], "privileges"=>[{"AccessPriv"=>{"priv_name"=>"execute"}}], "grantees"=>[{"RoleSpec"=>{"roletype"=>0, "rolename"=>"rewind_user", "location"=>186}}], "behavior"=>0}}, "stmt_location"=>117, "stmt_len"=>80}}
{"RawStmt"=>{"stmt"=>{"GrantStmt"=>{"is_grant"=>true, "targtype"=>0, "objtype"=>7, "objects"=>[{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"pg_catalog"}}, {"String"=>{"str"=>"pg_read_binary_file"}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"text"}}], "typemod"=>-1, "location"=>256}}]}}], "privileges"=>[{"AccessPriv"=>{"priv_name"=>"execute"}}], "grantees"=>[{"RoleSpec"=>{"roletype"=>0, "rolename"=>"rewind_user", "location"=>265}}], "behavior"=>0}}, "stmt_location"=>198, "stmt_len"=>78}}
{"RawStmt"=>{"stmt"=>{"GrantStmt"=>{"is_grant"=>true, "targtype"=>0, "objtype"=>7, "objects"=>[{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"pg_catalog"}}, {"String"=>{"str"=>"pg_read_binary_file"}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"text"}}], "typemod"=>-1, "location"=>335}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"pg_catalog"}}, {"String"=>{"str"=>"int8"}}], "typemod"=>-1, "location"=>341}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"pg_catalog"}}, {"String"=>{"str"=>"int8"}}], "typemod"=>-1, "location"=>349}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"pg_catalog"}}, {"String"=>{"str"=>"bool"}}], "typemod"=>-1, "location"=>357}}]}}], "privileges"=>[{"AccessPriv"=>{"priv_name"=>"execute"}}], "grantees"=>[{"RoleSpec"=>{"roletype"=>0, "rolename"=>"rewind_user", "location"=>369}}], "behavior"=>0}}, "stmt_location"=>277, "stmt_len"=>103}}

02653b45c65a5353c71370770580585e1d53c5cca0



Can't deparse: CreateRoleStmt: {"stmt_type"=>1, "role"=>"rewind_user", "options"=>[{"DefElem"=>{"defname"=>"canlogin", "arg"=>{"Integer"=>{"ival"=>1}}, "defaction"=>0, "location"=>24}}]}

------- End CREATE USER rewind_user LOGIN;
GRANT EXECUTE ON function pg_catalog.pg_ls_dir(text, boolean, boolean) TO rewind_user;
GRANT EXECUTE ON function pg_catalog.pg_stat_file(text, boolean) TO rewind_user;
GRANT EXECUTE ON function pg_catalog.pg_read_binary_file(text) TO rewind_user;
GRANT EXECUTE ON function pg_catalog.pg_read_binary_file(text, bigint, bigint, boolean) TO rewind_user;-------




-------psql -c '\x' -c 'SELECT * FROM foo;'-------






syntax error at or near "psql" (scan.l:1121)

------- End psql -c '\x' -c 'SELECT * FROM foo;'-------




-------echo '\x \\ SELECT * FROM foo;' | psql-------






syntax error at or near "echo" (scan.l:1121)

------- End echo '\x \\ SELECT * FROM foo;' | psql-------




-------psql <<EOF
\x
SELECT * FROM foo;
EOF-------






syntax error at or near "psql" (scan.l:1121)

------- End psql <<EOF
\x
SELECT * FROM foo;
EOF-------




-------$ psql "service=myservice sslmode=require"
$ psql postgresql://dbmaster:5433/mydb?sslmode=require-------






syntax error at or near "$" (scan.l:1121)

------- End $ psql "service=myservice sslmode=require"
$ psql postgresql://dbmaster:5433/mydb?sslmode=require-------




-------$ psql testdb
psql ()
Type "help" for help.

testdb=-------






syntax error at or near "$" (scan.l:1121)

------- End $ psql testdb
psql ()
Type "help" for help.

testdb=-------




-------= \c mydb myuser host.dom 6432
= \c service=foo
= \c "host=localhost port=5432 dbname=mydb connect_timeout=10 sslmode=disable"
= \c postgresql://tom@localhost/mydb?application_name=myapp-------






syntax error at or near "=" (scan.l:1121)

------- End = \c mydb myuser host.dom 6432
= \c service=foo
= \c "host=localhost port=5432 dbname=mydb connect_timeout=10 sslmode=disable"
= \c postgresql://tom@localhost/mydb?application_name=myapp-------




-------= \echo `date`
Tue Oct 26 21:40:57 CEST 1999-------






syntax error at or near "=" (scan.l:1121)

------- End = \echo `date`
Tue Oct 26 21:40:57 CEST 1999-------




-------= SELECT format('create index on my_table(%I)', attname)
- FROM pg_attribute
- WHERE attrelid = 'my_table'::regclass AND attnum  0
- ORDER BY attnum
- \gexec
CREATE INDEX
CREATE INDEX
CREATE INDEX
CREATE INDEX-------






syntax error at or near "=" (scan.l:1121)

------- End = SELECT format('create index on my_table(%I)', attname)
- FROM pg_attribute
- WHERE attrelid = 'my_table'::regclass AND attnum  0
- ORDER BY attnum
- \gexec
CREATE INDEX
CREATE INDEX
CREATE INDEX
CREATE INDEX-------




-------= SELECT 'hello' AS var1, 10 AS var2
- \gset
= \echo :var1 :var2
hello 10-------






syntax error at or near "=" (scan.l:1121)

------- End = SELECT 'hello' AS var1, 10 AS var2
- \gset
= \echo :var1 :var2
hello 10-------




-------= SELECT 'hello' AS var1, 10 AS var2
- \gset result_
= \echo :result_var1 :result_var2
hello 10-------






syntax error at or near "=" (scan.l:1121)

------- End = SELECT 'hello' AS var1, 10 AS var2
- \gset result_
= \echo :result_var1 :result_var2
hello 10-------




--------- check for the existence of two separate records in the database and store
-- the results in separate psql variables
SELECT
    EXISTS(SELECT 1 FROM customer WHERE customer_id = 123) as is_customer,
    EXISTS(SELECT 1 FROM employee WHERE employee_id = 456) as is_employee
\gset
\if :is_customer
    SELECT * FROM customer WHERE customer_id = 123;
\elif :is_employee
    \echo 'is not a customer but is an employee'
    SELECT * FROM employee WHERE employee_id = 456;
\else
    \if yes
        \echo 'not a customer or employee'
    \else
        \echo 'this will never print'
    \endif
\endif-------






syntax error at or near "\" (scan.l:1121)

------- End -- check for the existence of two separate records in the database and store
-- the results in separate psql variables
SELECT
    EXISTS(SELECT 1 FROM customer WHERE customer_id = 123) as is_customer,
    EXISTS(SELECT 1 FROM employee WHERE employee_id = 456) as is_employee
\gset
\if :is_customer
    SELECT * FROM customer WHERE customer_id = 123;
\elif :is_employee
    \echo 'is not a customer but is an employee'
    SELECT * FROM employee WHERE employee_id = 456;
\else
    \if yes
        \echo 'not a customer or employee'
    \else
        \echo 'this will never print'
    \endif
\endif-------




-------foo= \lo_import '/home/peter/pictures/photo.xcf' 'a picture of me'
lo_import 152801-------






syntax error at or near "foo" (scan.l:1121)

------- End foo= \lo_import '/home/peter/pictures/photo.xcf' 'a picture of me'
lo_import 152801-------




-------testdb= \setenv PAGER less
testdb= \setenv LESS -imx4F-------






syntax error at or near "testdb" (scan.l:1121)

------- End testdb= \setenv PAGER less
testdb= \setenv LESS -imx4F-------




-------select 1\; select 2\; select 3;-------






syntax error at or near "\" (scan.l:1121)

------- End select 1\; select 2\; select 3;-------




-------testdb= \set foo bar-------






syntax error at or near "testdb" (scan.l:1121)

------- End testdb= \set foo bar-------




-------testdb= \echo :foo
bar-------






syntax error at or near "testdb" (scan.l:1121)

------- End testdb= \echo :foo
bar-------




-------\set HISTFILE ~/.psql_history- :DBNAME-------






syntax error at or near "\" (scan.l:1121)

------- End \set HISTFILE ~/.psql_history- :DBNAME-------




-------testdb= \set foo 'my_table'
testdb= SELECT * FROM :foo;-------






syntax error at or near "testdb" (scan.l:1121)

------- End testdb= \set foo 'my_table'
testdb= SELECT * FROM :foo;-------




-------testdb= \set foo 'my_table'
testdb= SELECT * FROM :"foo";-------






syntax error at or near "testdb" (scan.l:1121)

------- End testdb= \set foo 'my_table'
testdb= SELECT * FROM :"foo";-------




-------testdb= \set content `cat my_file.txt`
testdb= INSERT INTO my_table VALUES (:'content');-------






syntax error at or near "testdb" (scan.l:1121)

------- End testdb= \set content `cat my_file.txt`
testdb= INSERT INTO my_table VALUES (:'content');-------




-------testdb= \set PROMPT1 '%[%033[1;33;40m%]%n@%/%R%[%033[0m%]%# '-------






syntax error at or near "testdb" (scan.l:1121)

------- End testdb= \set PROMPT1 '%[%033[1;33;40m%]%n@%/%R%[%033[0m%]%# '-------




-------$if psql
set disable-completion on
$endif-------






syntax error at or near "$" (scan.l:1121)

------- End $if psql
set disable-completion on
$endif-------




-------PSQL_EDITOR_LINENUMBER_ARG='+'
PSQL_EDITOR_LINENUMBER_ARG='--line '-------






syntax error at or near "PSQL_EDITOR_LINENUMBER_ARG" (scan.l:1121)

------- End PSQL_EDITOR_LINENUMBER_ARG='+'
PSQL_EDITOR_LINENUMBER_ARG='--line '-------




-------testdb= CREATE TABLE my_table (
testdb(  first integer not null default 0,
testdb(  second text)
testdb- ;
CREATE TABLE-------






syntax error at or near "testdb" (scan.l:1121)

------- End testdb= CREATE TABLE my_table (
testdb(  first integer not null default 0,
testdb(  second text)
testdb- ;
CREATE TABLE-------




-------testdb= \d my_table
              Table "public.my_table"
 Column |  Type   | Collation | Nullable | Default
--------+---------+-----------+----------+---------
 first  | integer |           | not null | 0
 second | text    |           |          |-------






syntax error at or near "testdb" (scan.l:1121)

------- End testdb= \d my_table
              Table "public.my_table"
 Column |  Type   | Collation | Nullable | Default
--------+---------+-----------+----------+---------
 first  | integer |           | not null | 0
 second | text    |           |          |-------




-------testdb= \set PROMPT1 '%n@%m %~%R%# '
peter@localhost testdb=-------






syntax error at or near "testdb" (scan.l:1121)

------- End testdb= \set PROMPT1 '%n@%m %~%R%# '
peter@localhost testdb=-------




-------peter@localhost testdb= SELECT * FROM my_table;
 first | second
-------+--------
     1 | one
     2 | two
     3 | three
     4 | four
(4 rows)-------






syntax error at or near "peter" (scan.l:1121)

------- End peter@localhost testdb= SELECT * FROM my_table;
 first | second
-------+--------
     1 | one
     2 | two
     3 | three
     4 | four
(4 rows)-------




-------peter@localhost testdb= \pset border 2
Border style is 2.
peter@localhost testdb= SELECT * FROM my_table;
+-------+--------+
| first | second |
+-------+--------+
|     1 | one    |
|     2 | two    |
|     3 | three  |
|     4 | four   |
+-------+--------+
(4 rows)

peter@localhost testdb= \pset border 0
Border style is 0.
peter@localhost testdb= SELECT * FROM my_table;
first second
----- ------
    1 one
    2 two
    3 three
    4 four
(4 rows)

peter@localhost testdb= \pset border 1
Border style is 1.
peter@localhost testdb= \pset format csv
Output format is csv.
peter@localhost testdb= \pset tuples_only
Tuples only is on.
peter@localhost testdb= SELECT second, first FROM my_table;
one,1
two,2
three,3
four,4
peter@localhost testdb= \pset format unaligned
Output format is unaligned.
peter@localhost testdb= \pset fieldsep '\t'
Field separator is "    ".
peter@localhost testdb= SELECT second, first FROM my_table;
one     1
two     2
three   3
four    4-------






syntax error at or near "peter" (scan.l:1121)

------- End peter@localhost testdb= \pset border 2
Border style is 2.
peter@localhost testdb= SELECT * FROM my_table;
+-------+--------+
| first | second |
+-------+--------+
|     1 | one    |
|     2 | two    |
|     3 | three  |
|     4 | four   |
+-------+--------+
(4 rows)

peter@localhost testdb= \pset border 0
Border style is 0.
peter@localhost testdb= SELECT * FROM my_table;
first second
----- ------
    1 one
    2 two
    3 three
    4 four
(4 rows)

peter@localhost testdb= \pset border 1
Border style is 1.
peter@localhost testdb= \pset format csv
Output format is csv.
peter@localhost testdb= \pset tuples_only
Tuples only is on.
peter@localhost testdb= SELECT second, first FROM my_table;
one,1
two,2
three,3
four,4
peter@localhost testdb= \pset format unaligned
Output format is unaligned.
peter@localhost testdb= \pset fieldsep '\t'
Field separator is "    ".
peter@localhost testdb= SELECT second, first FROM my_table;
one     1
two     2
three   3
four    4-------




-------peter@localhost testdb= \a \t \x
Output format is aligned.
Tuples only is off.
Expanded display is on.
peter@localhost testdb= SELECT * FROM my_table;
-[ RECORD 1 ]-
first  | 1
second | one
-[ RECORD 2 ]-
first  | 2
second | two
-[ RECORD 3 ]-
first  | 3
second | three
-[ RECORD 4 ]-
first  | 4
second | four-------






syntax error at or near "peter" (scan.l:1121)

------- End peter@localhost testdb= \a \t \x
Output format is aligned.
Tuples only is off.
Expanded display is on.
peter@localhost testdb= SELECT * FROM my_table;
-[ RECORD 1 ]-
first  | 1
second | one
-[ RECORD 2 ]-
first  | 2
second | two
-[ RECORD 3 ]-
first  | 3
second | three
-[ RECORD 4 ]-
first  | 4
second | four-------




-------testdb= SELECT first, second, first  2 AS gt2 FROM my_table;
 first | second | gt2 
-------+--------+-----
     1 | one    | f
     2 | two    | f
     3 | three  | t
     4 | four   | t
(4 rows)

testdb= \crosstabview first second
 first | one | two | three | four 
-------+-----+-----+-------+------
     1 | f   |     |       | 
     2 |     | f   |       | 
     3 |     |     | t     | 
     4 |     |     |       | t
(4 rows)-------






syntax error at or near "testdb" (scan.l:1121)

------- End testdb= SELECT first, second, first  2 AS gt2 FROM my_table;
 first | second | gt2 
-------+--------+-----
     1 | one    | f
     2 | two    | f
     3 | three  | t
     4 | four   | t
(4 rows)

testdb= \crosstabview first second
 first | one | two | three | four 
-------+-----+-----+-------+------
     1 | f   |     |       | 
     2 |     | f   |       | 
     3 |     |     | t     | 
     4 |     |     |       | t
(4 rows)-------




-------testdb= SELECT t1.first as "A", t2.first+100 AS "B", t1.first*(t2.first+100) as "AxB",
testdb( row_number() over(order by t2.first) AS ord
testdb( FROM my_table t1 CROSS JOIN my_table t2 ORDER BY 1 DESC
testdb( \crosstabview "A" "B" "AxB" ord
 A | 101 | 102 | 103 | 104 
---+-----+-----+-----+-----
 4 | 404 | 408 | 412 | 416
 3 | 303 | 306 | 309 | 312
 2 | 202 | 204 | 206 | 208
 1 | 101 | 102 | 103 | 104
(4 rows)-------






syntax error at or near "testdb" (scan.l:1121)

------- End testdb= SELECT t1.first as "A", t2.first+100 AS "B", t1.first*(t2.first+100) as "AxB",
testdb( row_number() over(order by t2.first) AS ord
testdb( FROM my_table t1 CROSS JOIN my_table t2 ORDER BY 1 DESC
testdb( \crosstabview "A" "B" "AxB" ord
 A | 101 | 102 | 103 | 104 
---+-----+-----+-----+-----
 4 | 404 | 408 | 412 | 416
 3 | 303 | 306 | 309 | 312
 2 | 202 | 204 | 206 | 208
 1 | 101 | 102 | 103 | 104
(4 rows)-------




-------ecpg prog1.pgc
cc -I/usr/local/pgsql/include -c prog1.c
cc -o prog1 prog1.o -L/usr/local/pgsql/lib -lecpg-------






syntax error at or near "ecpg" (scan.l:1121)

------- End ecpg prog1.pgc
cc -I/usr/local/pgsql/include -c prog1.c
cc -o prog1 prog1.o -L/usr/local/pgsql/lib -lecpg-------




-------CLOSE liahona;-------
{"RawStmt"=>{"stmt"=>{"ClosePortalStmt"=>{"portalname"=>"liahona"}}, "stmt_len"=>13}}

02746b7bf7ec5d162462a8851f28c527553260e6c0



Can't deparse: ClosePortalStmt: {"portalname"=>"liahona"}

------- End CLOSE liahona;-------




-------CREATE TYPE hstore ...;

CREATE EXTENSION plpythonu;-------






syntax error at or near ".." (scan.l:1121)

------- End CREATE TYPE hstore ...;

CREATE EXTENSION plpythonu;-------




-------CREATE FUNCTION hstore_to_plpython(val internal) RETURNS internal
LANGUAGE C STRICT IMMUTABLE
AS ...;

CREATE FUNCTION plpython_to_hstore(val internal) RETURNS hstore
LANGUAGE C STRICT IMMUTABLE
AS ...;-------






syntax error at or near ".." (scan.l:1121)

------- End CREATE FUNCTION hstore_to_plpython(val internal) RETURNS internal
LANGUAGE C STRICT IMMUTABLE
AS ...;

CREATE FUNCTION plpython_to_hstore(val internal) RETURNS hstore
LANGUAGE C STRICT IMMUTABLE
AS ...;-------




-------CREATE TRANSFORM FOR hstore LANGUAGE plpythonu (
    FROM SQL WITH FUNCTION hstore_to_plpython(internal),
    TO SQL WITH FUNCTION plpython_to_hstore(internal)
);-------
{"RawStmt"=>{"stmt"=>{"CreateTransformStmt"=>{"type_name"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"hstore"}}], "typemod"=>-1, "location"=>21}}, "lang"=>"plpythonu", "fromsql"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"hstore_to_plpython"}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"internal"}}], "typemod"=>-1, "location"=>95}}]}}, "tosql"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"plpython_to_hstore"}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"internal"}}], "typemod"=>-1, "location"=>150}}]}}}}, "stmt_len"=>161}}

02c08620b1642260d3bebb305f8435429ff7319493



Can't deparse: CreateTransformStmt: {"type_name"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"hstore"}}], "typemod"=>-1, "location"=>21}}, "lang"=>"plpythonu", "fromsql"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"hstore_to_plpython"}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"internal"}}], "typemod"=>-1, "location"=>95}}]}}, "tosql"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"plpython_to_hstore"}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"internal"}}], "typemod"=>-1, "location"=>150}}]}}}

------- End CREATE TRANSFORM FOR hstore LANGUAGE plpythonu (
    FROM SQL WITH FUNCTION hstore_to_plpython(internal),
    TO SQL WITH FUNCTION plpython_to_hstore(internal)
);-------




-------CREATE ROLE jonathan LOGIN;-------
{"RawStmt"=>{"stmt"=>{"CreateRoleStmt"=>{"stmt_type"=>0, "role"=>"jonathan", "options"=>[{"DefElem"=>{"defname"=>"canlogin", "arg"=>{"Integer"=>{"ival"=>1}}, "defaction"=>0, "location"=>21}}]}}, "stmt_len"=>26}}

02e824ce7da9c7d9c3650e03fafd5f41febdcc4327



Can't deparse: CreateRoleStmt: {"stmt_type"=>0, "role"=>"jonathan", "options"=>[{"DefElem"=>{"defname"=>"canlogin", "arg"=>{"Integer"=>{"ival"=>1}}, "defaction"=>0, "location"=>21}}]}

------- End CREATE ROLE jonathan LOGIN;-------




-------CREATE USER davide WITH PASSWORD 'jw8s0F4';-------
{"RawStmt"=>{"stmt"=>{"CreateRoleStmt"=>{"stmt_type"=>1, "role"=>"davide", "options"=>[{"DefElem"=>{"defname"=>"password", "arg"=>{"A_Const"=>{"val"=>{"String"=>{"str"=>"jw8s0F4"}}, "location"=>33}}, "defaction"=>0, "location"=>24}}]}}, "stmt_len"=>42}}

02b4128fee53d0f18cb5d0e1a8626bfe0e801ac068



Can't deparse: CreateRoleStmt: {"stmt_type"=>1, "role"=>"davide", "options"=>[{"DefElem"=>{"defname"=>"password", "arg"=>{"A_Const"=>{"val"=>{"String"=>{"str"=>"jw8s0F4"}}, "location"=>33}}, "defaction"=>0, "location"=>24}}]}

------- End CREATE USER davide WITH PASSWORD 'jw8s0F4';-------




-------CREATE ROLE miriam WITH LOGIN PASSWORD 'jw8s0F4' VALID UNTIL '2005-01-01';-------
{"RawStmt"=>{"stmt"=>{"CreateRoleStmt"=>{"stmt_type"=>0, "role"=>"miriam", "options"=>[{"DefElem"=>{"defname"=>"canlogin", "arg"=>{"Integer"=>{"ival"=>1}}, "defaction"=>0, "location"=>24}}, {"DefElem"=>{"defname"=>"password", "arg"=>{"A_Const"=>{"val"=>{"String"=>{"str"=>"jw8s0F4"}}, "location"=>39}}, "defaction"=>0, "location"=>30}}, {"DefElem"=>{"defname"=>"validUntil", "arg"=>{"String"=>{"str"=>"2005-01-01"}}, "defaction"=>0, "location"=>49}}]}}, "stmt_len"=>73}}

0257bfb82658ebe44fb040743fb2bf9b8022c0e2ac



Can't deparse: CreateRoleStmt: {"stmt_type"=>0, "role"=>"miriam", "options"=>[{"DefElem"=>{"defname"=>"canlogin", "arg"=>{"Integer"=>{"ival"=>1}}, "defaction"=>0, "location"=>24}}, {"DefElem"=>{"defname"=>"password", "arg"=>{"A_Const"=>{"val"=>{"String"=>{"str"=>"jw8s0F4"}}, "location"=>39}}, "defaction"=>0, "location"=>30}}, {"DefElem"=>{"defname"=>"validUntil", "arg"=>{"String"=>{"str"=>"2005-01-01"}}, "defaction"=>0, "location"=>49}}]}

------- End CREATE ROLE miriam WITH LOGIN PASSWORD 'jw8s0F4' VALID UNTIL '2005-01-01';-------




-------CREATE ROLE admin WITH CREATEDB CREATEROLE;-------
{"RawStmt"=>{"stmt"=>{"CreateRoleStmt"=>{"stmt_type"=>0, "role"=>"admin", "options"=>[{"DefElem"=>{"defname"=>"createdb", "arg"=>{"Integer"=>{"ival"=>1}}, "defaction"=>0, "location"=>23}}, {"DefElem"=>{"defname"=>"createrole", "arg"=>{"Integer"=>{"ival"=>1}}, "defaction"=>0, "location"=>32}}]}}, "stmt_len"=>42}}

0247950ce97b4b18828a8739a635b0ffd2b6fc5bdb



Can't deparse: CreateRoleStmt: {"stmt_type"=>0, "role"=>"admin", "options"=>[{"DefElem"=>{"defname"=>"createdb", "arg"=>{"Integer"=>{"ival"=>1}}, "defaction"=>0, "location"=>23}}, {"DefElem"=>{"defname"=>"createrole", "arg"=>{"Integer"=>{"ival"=>1}}, "defaction"=>0, "location"=>32}}]}

------- End CREATE ROLE admin WITH CREATEDB CREATEROLE;-------




-------BEGIN;
SELECT * FROM mytable WHERE key = 1 FOR UPDATE;
SAVEPOINT s;
UPDATE mytable SET ... WHERE key = 1;
ROLLBACK TO s;-------






syntax error at or near ".." (scan.l:1121)

------- End BEGIN;
SELECT * FROM mytable WHERE key = 1 FOR UPDATE;
SAVEPOINT s;
UPDATE mytable SET ... WHERE key = 1;
ROLLBACK TO s;-------




-------SELECT f.title, f.did, d.name, f.date_prod, f.kind
    FROM distributors d, films f
    WHERE f.did = d.did

       title       | did |     name     | date_prod  |   kind
-------------------+-----+--------------+------------+----------
 The Third Man     | 101 | British Lion | 1949-12-23 | Drama
 The African Queen | 101 | British Lion | 1951-08-11 | Romantic
 ...-------






syntax error at or near "title" (scan.l:1121)

------- End SELECT f.title, f.did, d.name, f.date_prod, f.kind
    FROM distributors d, films f
    WHERE f.did = d.did

       title       | did |     name     | date_prod  |   kind
-------------------+-----+--------------+------------+----------
 The Third Man     | 101 | British Lion | 1949-12-23 | Drama
 The African Queen | 101 | British Lion | 1951-08-11 | Romantic
 ...-------




-------SELECT kind, sum(len) AS total FROM films GROUP BY kind;

   kind   | total
----------+-------
 Action   | 07:34
 Comedy   | 02:58
 Drama    | 14:28
 Musical  | 06:42
 Romantic | 04:38-------






syntax error at or near "kind" (scan.l:1121)

------- End SELECT kind, sum(len) AS total FROM films GROUP BY kind;

   kind   | total
----------+-------
 Action   | 07:34
 Comedy   | 02:58
 Drama    | 14:28
 Musical  | 06:42
 Romantic | 04:38-------




-------SELECT kind, sum(len) AS total
    FROM films
    GROUP BY kind
    HAVING sum(len)  interval '5 hours';

   kind   | total
----------+-------
 Comedy   | 02:58
 Romantic | 04:38-------






syntax error at or near "interval" (scan.l:1121)

------- End SELECT kind, sum(len) AS total
    FROM films
    GROUP BY kind
    HAVING sum(len)  interval '5 hours';

   kind   | total
----------+-------
 Comedy   | 02:58
 Romantic | 04:38-------




-------SELECT * FROM distributors ORDER BY name;
SELECT * FROM distributors ORDER BY 2;

 did |       name
-----+------------------
 109 | 20th Century Fox
 110 | Bavaria Atelier
 101 | British Lion
 107 | Columbia
 102 | Jean Luc Godard
 113 | Luso films
 104 | Mosfilm
 103 | Paramount
 106 | Toho
 105 | United Artists
 111 | Walt Disney
 112 | Warner Bros.
 108 | Westward-------






syntax error at or near "did" (scan.l:1121)

------- End SELECT * FROM distributors ORDER BY name;
SELECT * FROM distributors ORDER BY 2;

 did |       name
-----+------------------
 109 | 20th Century Fox
 110 | Bavaria Atelier
 101 | British Lion
 107 | Columbia
 102 | Jean Luc Godard
 113 | Luso films
 104 | Mosfilm
 103 | Paramount
 106 | Toho
 105 | United Artists
 111 | Walt Disney
 112 | Warner Bros.
 108 | Westward-------




-------distributors:               actors:
 did |     name              id |     name
-----+--------------        ----+----------------
 108 | Westward               1 | Woody Allen
 111 | Walt Disney            2 | Warren Beatty
 112 | Warner Bros.           3 | Walter Matthau
 ...                         ...

SELECT distributors.name
    FROM distributors
    WHERE distributors.name LIKE 'W%'
UNION
SELECT actors.name
    FROM actors
    WHERE actors.name LIKE 'W%';

      name
----------------
 Walt Disney
 Walter Matthau
 Warner Bros.
 Warren Beatty
 Westward
 Woody Allen-------






syntax error at or near "distributors" (scan.l:1121)

------- End distributors:               actors:
 did |     name              id |     name
-----+--------------        ----+----------------
 108 | Westward               1 | Woody Allen
 111 | Walt Disney            2 | Warren Beatty
 112 | Warner Bros.           3 | Walter Matthau
 ...                         ...

SELECT distributors.name
    FROM distributors
    WHERE distributors.name LIKE 'W%'
UNION
SELECT actors.name
    FROM actors
    WHERE actors.name LIKE 'W%';

      name
----------------
 Walt Disney
 Walter Matthau
 Warner Bros.
 Warren Beatty
 Westward
 Woody Allen-------




-------CREATE FUNCTION distributors(int) RETURNS SETOF distributors AS $$
    SELECT * FROM distributors WHERE did = $1;
$$ LANGUAGE SQL;

SELECT * FROM distributors(111);
 did |    name
-----+-------------
 111 | Walt Disney

CREATE FUNCTION distributors_2(int) RETURNS SETOF record AS $$
    SELECT * FROM distributors WHERE did = $1;
$$ LANGUAGE SQL;

SELECT * FROM distributors_2(111) AS (f1 int, f2 text);
 f1  |     f2
-----+-------------
 111 | Walt Disney-------






syntax error at or near "did" (scan.l:1121)

------- End CREATE FUNCTION distributors(int) RETURNS SETOF distributors AS $$
    SELECT * FROM distributors WHERE did = $1;
$$ LANGUAGE SQL;

SELECT * FROM distributors(111);
 did |    name
-----+-------------
 111 | Walt Disney

CREATE FUNCTION distributors_2(int) RETURNS SETOF record AS $$
    SELECT * FROM distributors WHERE did = $1;
$$ LANGUAGE SQL;

SELECT * FROM distributors_2(111) AS (f1 int, f2 text);
 f1  |     f2
-----+-------------
 111 | Walt Disney-------




-------SELECT * FROM unnest(ARRAY['a','b','c','d','e','f']) WITH ORDINALITY;
 unnest | ordinality
--------+----------
 a      |        1
 b      |        2
 c      |        3
 d      |        4
 e      |        5
 f      |        6
(6 rows)-------






syntax error at or near "unnest" (scan.l:1121)

------- End SELECT * FROM unnest(ARRAY['a','b','c','d','e','f']) WITH ORDINALITY;
 unnest | ordinality
--------+----------
 a      |        1
 b      |        2
 c      |        3
 d      |        4
 e      |        5
 f      |        6
(6 rows)-------




-------WITH t AS (
    SELECT random() as x FROM generate_series(1, 3)
  )
SELECT * FROM t
UNION ALL
SELECT * FROM t

         x          
--------------------
  0.534150459803641
  0.520092216785997
 0.0735620250925422
  0.534150459803641
  0.520092216785997
 0.0735620250925422-------






syntax error at or near "0.534150459803641" (scan.l:1121)

------- End WITH t AS (
    SELECT random() as x FROM generate_series(1, 3)
  )
SELECT * FROM t
UNION ALL
SELECT * FROM t

         x          
--------------------
  0.534150459803641
  0.520092216785997
 0.0735620250925422
  0.534150459803641
  0.520092216785997
 0.0735620250925422-------




-------SELECT 2+2;

 ?column?
----------
        4-------






syntax error at or near "?" (scan.l:1121)

------- End SELECT 2+2;

 ?column?
----------
        4-------




-------ALTER TABLE distributors RENAME COLUMN address TO city;-------
{"RawStmt"=>{"stmt"=>{"RenameStmt"=>{"renameType"=>6, "relationType"=>37, "relation"=>{"RangeVar"=>{"relname"=>"distributors", "inh"=>true, "relpersistence"=>"p", "location"=>12}}, "subname"=>"address", "newname"=>"city", "behavior"=>0}}, "stmt_len"=>54}}

0257b0f1735194c8575a6a0364f4ff16c8e387e32c



Can't deparse: {"renameType"=>6, "relationType"=>37, "relation"=>{"RangeVar"=>{"relname"=>"distributors", "inh"=>true, "relpersistence"=>"p", "location"=>12}}, "subname"=>"address", "newname"=>"city", "behavior"=>0}

------- End ALTER TABLE distributors RENAME COLUMN address TO city;-------




-------ALTER TABLE distributors RENAME CONSTRAINT zipchk TO zip_check;-------
{"RawStmt"=>{"stmt"=>{"RenameStmt"=>{"renameType"=>36, "relationType"=>0, "relation"=>{"RangeVar"=>{"relname"=>"distributors", "inh"=>true, "relpersistence"=>"p", "location"=>12}}, "subname"=>"zipchk", "newname"=>"zip_check", "behavior"=>0}}, "stmt_len"=>62}}

026d3a62b0325f1cbcf1adde6064a73d85452b6ed4



Can't deparse: {"renameType"=>36, "relationType"=>0, "relation"=>{"RangeVar"=>{"relname"=>"distributors", "inh"=>true, "relpersistence"=>"p", "location"=>12}}, "subname"=>"zipchk", "newname"=>"zip_check", "behavior"=>0}

------- End ALTER TABLE distributors RENAME CONSTRAINT zipchk TO zip_check;-------




-------ALTER TABLE distributors SET TABLESPACE fasttablespace;-------
{"RawStmt"=>{"stmt"=>{"AlterTableStmt"=>{"relation"=>{"RangeVar"=>{"relname"=>"distributors", "inh"=>true, "relpersistence"=>"p", "location"=>12}}, "cmds"=>[{"AlterTableCmd"=>{"subtype"=>35, "name"=>"fasttablespace", "behavior"=>0}}], "relkind"=>37}}, "stmt_len"=>54}}

0238eda382cbb259f596218e6c7525871955021460



Can't deparse: {"subtype"=>35, "name"=>"fasttablespace", "behavior"=>0}

------- End ALTER TABLE distributors SET TABLESPACE fasttablespace;-------




-------ALTER TABLE myschema.distributors SET SCHEMA yourschema;-------
{"RawStmt"=>{"stmt"=>{"AlterObjectSchemaStmt"=>{"objectType"=>37, "relation"=>{"RangeVar"=>{"schemaname"=>"myschema", "relname"=>"distributors", "inh"=>true, "relpersistence"=>"p", "location"=>12}}, "newschema"=>"yourschema"}}, "stmt_len"=>55}}

0287e8a21b58f2a307f34b1dbdd1d54f54a291ab0d



Can't deparse: AlterObjectSchemaStmt: {"objectType"=>37, "relation"=>{"RangeVar"=>{"schemaname"=>"myschema", "relname"=>"distributors", "inh"=>true, "relpersistence"=>"p", "location"=>12}}, "newschema"=>"yourschema"}

------- End ALTER TABLE myschema.distributors SET SCHEMA yourschema;-------




-------CREATE UNIQUE INDEX CONCURRENTLY dist_id_temp_idx ON distributors (dist_id);
ALTER TABLE distributors DROP CONSTRAINT distributors_pkey,
    ADD CONSTRAINT distributors_pkey PRIMARY KEY USING INDEX dist_id_temp_idx;-------
{"RawStmt"=>{"stmt"=>{"IndexStmt"=>{"idxname"=>"dist_id_temp_idx", "relation"=>{"RangeVar"=>{"relname"=>"distributors", "inh"=>true, "relpersistence"=>"p", "location"=>53}}, "accessMethod"=>"btree", "indexParams"=>[{"IndexElem"=>{"name"=>"dist_id", "ordering"=>0, "nulls_ordering"=>0}}], "unique"=>true, "concurrent"=>true}}, "stmt_len"=>75}}
{"RawStmt"=>{"stmt"=>{"AlterTableStmt"=>{"relation"=>{"RangeVar"=>{"relname"=>"distributors", "inh"=>true, "relpersistence"=>"p", "location"=>89}}, "cmds"=>[{"AlterTableCmd"=>{"subtype"=>22, "name"=>"distributors_pkey", "behavior"=>0}}, {"AlterTableCmd"=>{"subtype"=>14, "def"=>{"Constraint"=>{"contype"=>5, "conname"=>"distributors_pkey", "location"=>145, "indexname"=>"dist_id_temp_idx"}}, "behavior"=>0}}], "relkind"=>37}}, "stmt_location"=>76, "stmt_len"=>138}}

02dcde90c55d8645b9c6e10dcb1b6023dcc76bbc62



Can't deparse: IndexStmt: {"idxname"=>"dist_id_temp_idx", "relation"=>{"RangeVar"=>{"relname"=>"distributors", "inh"=>true, "relpersistence"=>"p", "location"=>53}}, "accessMethod"=>"btree", "indexParams"=>[{"IndexElem"=>{"name"=>"dist_id", "ordering"=>0, "nulls_ordering"=>0}}], "unique"=>true, "concurrent"=>true}

------- End CREATE UNIQUE INDEX CONCURRENTLY dist_id_temp_idx ON distributors (dist_id);
ALTER TABLE distributors DROP CONSTRAINT distributors_pkey,
    ADD CONSTRAINT distributors_pkey PRIMARY KEY USING INDEX dist_id_temp_idx;-------




-------ALTER TABLE measurement
    ATTACH PARTITION measurement_y2016m07 FOR VALUES FROM ('2016-07-01') TO ('2016-08-01');-------
{"RawStmt"=>{"stmt"=>{"AlterTableStmt"=>{"relation"=>{"RangeVar"=>{"relname"=>"measurement", "inh"=>true, "relpersistence"=>"p", "location"=>12}}, "cmds"=>[{"AlterTableCmd"=>{"subtype"=>61, "def"=>{"PartitionCmd"=>{"name"=>{"RangeVar"=>{"relname"=>"measurement_y2016m07", "inh"=>true, "relpersistence"=>"p", "location"=>45}}, "bound"=>{"PartitionBoundSpec"=>{"strategy"=>"r", "lowerdatums"=>[{"PartitionRangeDatum"=>{"kind"=>0, "value"=>{"A_Const"=>{"val"=>{"String"=>{"str"=>"2016-07-01"}}, "location"=>83}}, "location"=>83}}], "upperdatums"=>[{"PartitionRangeDatum"=>{"kind"=>0, "value"=>{"A_Const"=>{"val"=>{"String"=>{"str"=>"2016-08-01"}}, "location"=>101}}, "location"=>101}}], "location"=>77}}}}, "behavior"=>0}}], "relkind"=>37}}, "stmt_len"=>114}}

02229b45ba9ae8656c8f7e86a7bc032fd5b41d1fd0



Can't deparse: {"subtype"=>61, "def"=>{"PartitionCmd"=>{"name"=>{"RangeVar"=>{"relname"=>"measurement_y2016m07", "inh"=>true, "relpersistence"=>"p", "location"=>45}}, "bound"=>{"PartitionBoundSpec"=>{"strategy"=>"r", "lowerdatums"=>[{"PartitionRangeDatum"=>{"kind"=>0, "value"=>{"A_Const"=>{"val"=>{"String"=>{"str"=>"2016-07-01"}}, "location"=>83}}, "location"=>83}}], "upperdatums"=>[{"PartitionRangeDatum"=>{"kind"=>0, "value"=>{"A_Const"=>{"val"=>{"String"=>{"str"=>"2016-08-01"}}, "location"=>101}}, "location"=>101}}], "location"=>77}}}}, "behavior"=>0}

------- End ALTER TABLE measurement
    ATTACH PARTITION measurement_y2016m07 FOR VALUES FROM ('2016-07-01') TO ('2016-08-01');-------




-------ALTER TABLE cities
    ATTACH PARTITION cities_ab FOR VALUES IN ('a', 'b');-------
{"RawStmt"=>{"stmt"=>{"AlterTableStmt"=>{"relation"=>{"RangeVar"=>{"relname"=>"cities", "inh"=>true, "relpersistence"=>"p", "location"=>12}}, "cmds"=>[{"AlterTableCmd"=>{"subtype"=>61, "def"=>{"PartitionCmd"=>{"name"=>{"RangeVar"=>{"relname"=>"cities_ab", "inh"=>true, "relpersistence"=>"p", "location"=>40}}, "bound"=>{"PartitionBoundSpec"=>{"strategy"=>"l", "listdatums"=>[{"A_Const"=>{"val"=>{"String"=>{"str"=>"a"}}, "location"=>65}}, {"A_Const"=>{"val"=>{"String"=>{"str"=>"b"}}, "location"=>70}}], "location"=>61}}}}, "behavior"=>0}}], "relkind"=>37}}, "stmt_len"=>74}}

024940acd39946484ffa31dc492a0c1b90cc3bdbfd



Can't deparse: {"subtype"=>61, "def"=>{"PartitionCmd"=>{"name"=>{"RangeVar"=>{"relname"=>"cities_ab", "inh"=>true, "relpersistence"=>"p", "location"=>40}}, "bound"=>{"PartitionBoundSpec"=>{"strategy"=>"l", "listdatums"=>[{"A_Const"=>{"val"=>{"String"=>{"str"=>"a"}}, "location"=>65}}, {"A_Const"=>{"val"=>{"String"=>{"str"=>"b"}}, "location"=>70}}], "location"=>61}}}}, "behavior"=>0}

------- End ALTER TABLE cities
    ATTACH PARTITION cities_ab FOR VALUES IN ('a', 'b');-------




-------ALTER TABLE orders
    ATTACH PARTITION orders_p4 FOR VALUES WITH (MODULUS 4, REMAINDER 3);-------






syntax error at or near "WITH" (scan.l:1121)

------- End ALTER TABLE orders
    ATTACH PARTITION orders_p4 FOR VALUES WITH (MODULUS 4, REMAINDER 3);-------




-------ALTER TABLE cities
    ATTACH PARTITION cities_partdef DEFAULT;-------






syntax error at or near "DEFAULT" (scan.l:1121)

------- End ALTER TABLE cities
    ATTACH PARTITION cities_partdef DEFAULT;-------




-------ALTER TABLE measurement
    DETACH PARTITION measurement_y2015m12;-------
{"RawStmt"=>{"stmt"=>{"AlterTableStmt"=>{"relation"=>{"RangeVar"=>{"relname"=>"measurement", "inh"=>true, "relpersistence"=>"p", "location"=>12}}, "cmds"=>[{"AlterTableCmd"=>{"subtype"=>62, "def"=>{"PartitionCmd"=>{"name"=>{"RangeVar"=>{"relname"=>"measurement_y2015m12", "inh"=>true, "relpersistence"=>"p", "location"=>45}}}}, "behavior"=>0}}], "relkind"=>37}}, "stmt_len"=>65}}

02464fba9e5aa6583bc68f8c89f3f5976c7c926480



Can't deparse: {"subtype"=>62, "def"=>{"PartitionCmd"=>{"name"=>{"RangeVar"=>{"relname"=>"measurement_y2015m12", "inh"=>true, "relpersistence"=>"p", "location"=>45}}}}, "behavior"=>0}

------- End ALTER TABLE measurement
    DETACH PARTITION measurement_y2015m12;-------




-------LISTEN virtual;
NOTIFY virtual;
Asynchronous notification "virtual" received from server process with PID 8448.-------






syntax error at or near "Asynchronous" (scan.l:1121)

------- End LISTEN virtual;
NOTIFY virtual;
Asynchronous notification "virtual" received from server process with PID 8448.-------




-------ALTER OPERATOR @@ (text, text) OWNER TO joe;-------
{"RawStmt"=>{"stmt"=>{"AlterOwnerStmt"=>{"objectType"=>25, "object"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"@@"}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"text"}}], "typemod"=>-1, "location"=>19}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"text"}}], "typemod"=>-1, "location"=>25}}]}}, "newowner"=>{"RoleSpec"=>{"roletype"=>0, "rolename"=>"joe", "location"=>40}}}}, "stmt_len"=>43}}

02cfa8989a43405cce4f86b9a009100baa68637cb9



Can't deparse: AlterOwnerStmt: {"objectType"=>25, "object"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"@@"}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"text"}}], "typemod"=>-1, "location"=>19}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"text"}}], "typemod"=>-1, "location"=>25}}]}}, "newowner"=>{"RoleSpec"=>{"roletype"=>0, "rolename"=>"joe", "location"=>40}}}

------- End ALTER OPERATOR @@ (text, text) OWNER TO joe;-------




-------ALTER OPERATOR && (_int4, _int4) SET (RESTRICT = _int_contsel, JOIN = _int_contjoinsel);-------
{"RawStmt"=>{"stmt"=>{"AlterOperatorStmt"=>{"opername"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"&&"}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"_int4"}}], "typemod"=>-1, "location"=>19}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"_int4"}}], "typemod"=>-1, "location"=>26}}]}}, "options"=>[{"DefElem"=>{"defname"=>"restrict", "arg"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"_int_contsel"}}], "typemod"=>-1, "location"=>49}}, "defaction"=>0, "location"=>38}}, {"DefElem"=>{"defname"=>"join", "arg"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"_int_contjoinsel"}}], "typemod"=>-1, "location"=>70}}, "defaction"=>0, "location"=>63}}]}}, "stmt_len"=>87}}

0272e4c6b440aa81c4c66bd9b87563922f4ce53c11



Can't deparse: AlterOperatorStmt: {"opername"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"&&"}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"_int4"}}], "typemod"=>-1, "location"=>19}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"_int4"}}], "typemod"=>-1, "location"=>26}}]}}, "options"=>[{"DefElem"=>{"defname"=>"restrict", "arg"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"_int_contsel"}}], "typemod"=>-1, "location"=>49}}, "defaction"=>0, "location"=>38}}, {"DefElem"=>{"defname"=>"join", "arg"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"_int_contjoinsel"}}], "typemod"=>-1, "location"=>70}}, "defaction"=>0, "location"=>63}}]}

------- End ALTER OPERATOR && (_int4, _int4) SET (RESTRICT = _int_contsel, JOIN = _int_contjoinsel);-------




-------CREATE LANGUAGE plperl;-------
{"RawStmt"=>{"stmt"=>{"CreatePLangStmt"=>{"plname"=>"plperl"}}, "stmt_len"=>22}}

0287bce2cb596a5adb33aba2eb7cf2acdb66c8c81d



Can't deparse: CreatePLangStmt: {"plname"=>"plperl"}

------- End CREATE LANGUAGE plperl;-------




-------CREATE FUNCTION plsample_call_handler() RETURNS language_handler
    AS '$libdir/plsample'
    LANGUAGE C;
CREATE LANGUAGE plsample
    HANDLER plsample_call_handler;-------
{"RawStmt"=>{"stmt"=>{"CreateFunctionStmt"=>{"funcname"=>[{"String"=>{"str"=>"plsample_call_handler"}}], "returnType"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"language_handler"}}], "typemod"=>-1, "location"=>48}}, "options"=>[{"DefElem"=>{"defname"=>"as", "arg"=>[{"String"=>{"str"=>"$libdir/plsample"}}], "defaction"=>0, "location"=>69}}, {"DefElem"=>{"defname"=>"language", "arg"=>{"String"=>{"str"=>"c"}}, "defaction"=>0, "location"=>95}}]}}, "stmt_len"=>105}}
{"RawStmt"=>{"stmt"=>{"CreatePLangStmt"=>{"plname"=>"plsample", "plhandler"=>[{"String"=>{"str"=>"plsample_call_handler"}}]}}, "stmt_location"=>106, "stmt_len"=>59}}

0260bed0a4e651729b235b87ec90d3bca28d0cd8b9



undefined method `map' for nil:NilClass

------- End CREATE FUNCTION plsample_call_handler() RETURNS language_handler
    AS '$libdir/plsample'
    LANGUAGE C;
CREATE LANGUAGE plsample
    HANDLER plsample_call_handler;-------




-------archive_cleanup_command = 'pg_archivecleanup archivelocation %r'-------






syntax error at or near "archive_cleanup_command" (scan.l:1121)

------- End archive_cleanup_command = 'pg_archivecleanup archivelocation %r'-------




-------pg_archivecleanup -d archive 000000010000003700000010.00000020.backup

pg_archivecleanup:  keep WAL file "archive/000000010000003700000010" and later
pg_archivecleanup:  removing file "archive/00000001000000370000000F"
pg_archivecleanup:  removing file "archive/00000001000000370000000E"-------






syntax error at or near "pg_archivecleanup" (scan.l:1121)

------- End pg_archivecleanup -d archive 000000010000003700000010.00000020.backup

pg_archivecleanup:  keep WAL file "archive/000000010000003700000010" and later
pg_archivecleanup:  removing file "archive/00000001000000370000000F"
pg_archivecleanup:  removing file "archive/00000001000000370000000E"-------




-------archive_cleanup_command = 'pg_archivecleanup -d /mnt/standby/archive %r 2>>cleanup.log'-------






syntax error at or near "archive_cleanup_command" (scan.l:1121)

------- End archive_cleanup_command = 'pg_archivecleanup -d /mnt/standby/archive %r 2>>cleanup.log'-------




-------ALTER AGGREGATE myavg(integer) RENAME TO my_average;-------
{"RawStmt"=>{"stmt"=>{"RenameStmt"=>{"renameType"=>1, "relationType"=>0, "object"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"myavg"}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"pg_catalog"}}, {"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>22}}]}}, "newname"=>"my_average", "behavior"=>0}}, "stmt_len"=>51}}

025635e4ffdb0ea151e0ae898c12d56eaf107ab886



Can't deparse: {"renameType"=>1, "relationType"=>0, "object"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"myavg"}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"pg_catalog"}}, {"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>22}}]}}, "newname"=>"my_average", "behavior"=>0}

------- End ALTER AGGREGATE myavg(integer) RENAME TO my_average;-------




-------ALTER AGGREGATE myavg(integer) OWNER TO joe;-------
{"RawStmt"=>{"stmt"=>{"AlterOwnerStmt"=>{"objectType"=>1, "object"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"myavg"}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"pg_catalog"}}, {"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>22}}]}}, "newowner"=>{"RoleSpec"=>{"roletype"=>0, "rolename"=>"joe", "location"=>40}}}}, "stmt_len"=>43}}

025b37029b103b6aed8952daea9d511d6334e8468c



Can't deparse: AlterOwnerStmt: {"objectType"=>1, "object"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"myavg"}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"pg_catalog"}}, {"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>22}}]}}, "newowner"=>{"RoleSpec"=>{"roletype"=>0, "rolename"=>"joe", "location"=>40}}}

------- End ALTER AGGREGATE myavg(integer) OWNER TO joe;-------




-------ALTER AGGREGATE mypercentile(float8 ORDER BY integer) SET SCHEMA myschema;-------
{"RawStmt"=>{"stmt"=>{"AlterObjectSchemaStmt"=>{"objectType"=>1, "object"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"mypercentile"}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"float8"}}], "typemod"=>-1, "location"=>29}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"pg_catalog"}}, {"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>45}}]}}, "newschema"=>"myschema"}}, "stmt_len"=>73}}

0242373ca425c6503fa6606b5a541ae9d8a9a3e106



Can't deparse: AlterObjectSchemaStmt: {"objectType"=>1, "object"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"mypercentile"}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"float8"}}], "typemod"=>-1, "location"=>29}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"pg_catalog"}}, {"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>45}}]}}, "newschema"=>"myschema"}

------- End ALTER AGGREGATE mypercentile(float8 ORDER BY integer) SET SCHEMA myschema;-------




-------ALTER AGGREGATE mypercentile(float8, integer) SET SCHEMA myschema;-------
{"RawStmt"=>{"stmt"=>{"AlterObjectSchemaStmt"=>{"objectType"=>1, "object"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"mypercentile"}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"float8"}}], "typemod"=>-1, "location"=>29}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"pg_catalog"}}, {"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>37}}]}}, "newschema"=>"myschema"}}, "stmt_len"=>65}}

0242373ca425c6503fa6606b5a541ae9d8a9a3e106



Can't deparse: AlterObjectSchemaStmt: {"objectType"=>1, "object"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"mypercentile"}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"float8"}}], "typemod"=>-1, "location"=>29}}, {"TypeName"=>{"names"=>[{"String"=>{"str"=>"pg_catalog"}}, {"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>37}}]}}, "newschema"=>"myschema"}

------- End ALTER AGGREGATE mypercentile(float8, integer) SET SCHEMA myschema;-------




-------ALTER SYSTEM SET wal_level = replica;-------
{"RawStmt"=>{"stmt"=>{"AlterSystemStmt"=>{"setstmt"=>{"VariableSetStmt"=>{"kind"=>0, "name"=>"wal_level", "args"=>[{"A_Const"=>{"val"=>{"String"=>{"str"=>"replica"}}, "location"=>29}}]}}}}, "stmt_len"=>36}}

022c4973d5ece48e9d917f5de7d65a28726d8dbbee



Can't deparse: AlterSystemStmt: {"setstmt"=>{"VariableSetStmt"=>{"kind"=>0, "name"=>"wal_level", "args"=>[{"A_Const"=>{"val"=>{"String"=>{"str"=>"replica"}}, "location"=>29}}]}}}

------- End ALTER SYSTEM SET wal_level = replica;-------




-------ALTER SYSTEM RESET wal_level;-------
{"RawStmt"=>{"stmt"=>{"AlterSystemStmt"=>{"setstmt"=>{"VariableSetStmt"=>{"kind"=>4, "name"=>"wal_level"}}}}, "stmt_len"=>28}}

026eafd42651405ed46c0b6c2f3dcd7b594dc6562b



Can't deparse: AlterSystemStmt: {"setstmt"=>{"VariableSetStmt"=>{"kind"=>4, "name"=>"wal_level"}}}

------- End ALTER SYSTEM RESET wal_level;-------




-------DECLARE liahona CURSOR FOR SELECT * FROM films;-------
{"RawStmt"=>{"stmt"=>{"DeclareCursorStmt"=>{"portalname"=>"liahona", "options"=>32, "query"=>{"SelectStmt"=>{"targetList"=>[{"ResTarget"=>{"val"=>{"ColumnRef"=>{"fields"=>[{"A_Star"=>{}}], "location"=>34}}, "location"=>34}}], "fromClause"=>[{"RangeVar"=>{"relname"=>"films", "inh"=>true, "relpersistence"=>"p", "location"=>41}}], "op"=>0}}}}, "stmt_len"=>46}}

027f2810802e82a373c866f6ec8931b8cb2a2132cf



Can't deparse: DeclareCursorStmt: {"portalname"=>"liahona", "options"=>32, "query"=>{"SelectStmt"=>{"targetList"=>[{"ResTarget"=>{"val"=>{"ColumnRef"=>{"fields"=>[{"A_Star"=>{}}], "location"=>34}}, "location"=>34}}], "fromClause"=>[{"RangeVar"=>{"relname"=>"films", "inh"=>true, "relpersistence"=>"p", "location"=>41}}], "op"=>0}}}

------- End DECLARE liahona CURSOR FOR SELECT * FROM films;-------




-------INSERT INTO films VALUES
    ('UA502', 'Bananas', 105, DEFAULT, 'Comedy', '82 minutes');
INSERT INTO films (code, title, did, date_prod, kind)
    VALUES ('T_601', 'Yojimbo', 106, DEFAULT, 'Drama');-------
{"RawStmt"=>{"stmt"=>{"InsertStmt"=>{"relation"=>{"RangeVar"=>{"relname"=>"films", "inh"=>true, "relpersistence"=>"p", "location"=>12}}, "selectStmt"=>{"SelectStmt"=>{"valuesLists"=>[[{"A_Const"=>{"val"=>{"String"=>{"str"=>"UA502"}}, "location"=>30}}, {"A_Const"=>{"val"=>{"String"=>{"str"=>"Bananas"}}, "location"=>39}}, {"A_Const"=>{"val"=>{"Integer"=>{"ival"=>105}}, "location"=>50}}, {"SetToDefault"=>{"location"=>55}}, {"A_Const"=>{"val"=>{"String"=>{"str"=>"Comedy"}}, "location"=>64}}, {"A_Const"=>{"val"=>{"String"=>{"str"=>"82 minutes"}}, "location"=>74}}]], "op"=>0}}, "override"=>0}}, "stmt_len"=>87}}
{"RawStmt"=>{"stmt"=>{"InsertStmt"=>{"relation"=>{"RangeVar"=>{"relname"=>"films", "inh"=>true, "relpersistence"=>"p", "location"=>101}}, "cols"=>[{"ResTarget"=>{"name"=>"code", "location"=>108}}, {"ResTarget"=>{"name"=>"title", "location"=>114}}, {"ResTarget"=>{"name"=>"did", "location"=>121}}, {"ResTarget"=>{"name"=>"date_prod", "location"=>126}}, {"ResTarget"=>{"name"=>"kind", "location"=>137}}], "selectStmt"=>{"SelectStmt"=>{"valuesLists"=>[[{"A_Const"=>{"val"=>{"String"=>{"str"=>"T_601"}}, "location"=>155}}, {"A_Const"=>{"val"=>{"String"=>{"str"=>"Yojimbo"}}, "location"=>164}}, {"A_Const"=>{"val"=>{"Integer"=>{"ival"=>106}}, "location"=>175}}, {"SetToDefault"=>{"location"=>180}}, {"A_Const"=>{"val"=>{"String"=>{"str"=>"Drama"}}, "location"=>189}}]], "op"=>0}}, "override"=>0}}, "stmt_location"=>88, "stmt_len"=>109}}

020e76e6d4df769b56b09696ee61c13212bece1b44



Can't deparse: SetToDefault: {"location"=>55}

------- End INSERT INTO films VALUES
    ('UA502', 'Bananas', 105, DEFAULT, 'Comedy', '82 minutes');
INSERT INTO films (code, title, did, date_prod, kind)
    VALUES ('T_601', 'Yojimbo', 106, DEFAULT, 'Drama');-------




-------INSERT INTO films (code, title, did, date_prod, kind) VALUES
    ('B6717', 'Tampopo', 110, '1985-02-10', 'Comedy'),
    ('HG120', 'The Dinner Game', 140, DEFAULT, 'Comedy');-------
{"RawStmt"=>{"stmt"=>{"InsertStmt"=>{"relation"=>{"RangeVar"=>{"relname"=>"films", "inh"=>true, "relpersistence"=>"p", "location"=>12}}, "cols"=>[{"ResTarget"=>{"name"=>"code", "location"=>19}}, {"ResTarget"=>{"name"=>"title", "location"=>25}}, {"ResTarget"=>{"name"=>"did", "location"=>32}}, {"ResTarget"=>{"name"=>"date_prod", "location"=>37}}, {"ResTarget"=>{"name"=>"kind", "location"=>48}}], "selectStmt"=>{"SelectStmt"=>{"valuesLists"=>[[{"A_Const"=>{"val"=>{"String"=>{"str"=>"B6717"}}, "location"=>66}}, {"A_Const"=>{"val"=>{"String"=>{"str"=>"Tampopo"}}, "location"=>75}}, {"A_Const"=>{"val"=>{"Integer"=>{"ival"=>110}}, "location"=>86}}, {"A_Const"=>{"val"=>{"String"=>{"str"=>"1985-02-10"}}, "location"=>91}}, {"A_Const"=>{"val"=>{"String"=>{"str"=>"Comedy"}}, "location"=>105}}], [{"A_Const"=>{"val"=>{"String"=>{"str"=>"HG120"}}, "location"=>121}}, {"A_Const"=>{"val"=>{"String"=>{"str"=>"The Dinner Game"}}, "location"=>130}}, {"A_Const"=>{"val"=>{"Integer"=>{"ival"=>140}}, "location"=>149}}, {"SetToDefault"=>{"location"=>154}}, {"A_Const"=>{"val"=>{"String"=>{"str"=>"Comedy"}}, "location"=>163}}]], "op"=>0}}, "override"=>0}}, "stmt_len"=>172}}

024ce759186ea44388df4f3b859d7025f7fc7e3147



Can't deparse: SetToDefault: {"location"=>154}

------- End INSERT INTO films (code, title, did, date_prod, kind) VALUES
    ('B6717', 'Tampopo', 110, '1985-02-10', 'Comedy'),
    ('HG120', 'The Dinner Game', 140, DEFAULT, 'Comedy');-------




-------INSERT INTO distributors (did, dname) VALUES (DEFAULT, 'XYZ Widgets')
   RETURNING did;-------
{"RawStmt"=>{"stmt"=>{"InsertStmt"=>{"relation"=>{"RangeVar"=>{"relname"=>"distributors", "inh"=>true, "relpersistence"=>"p", "location"=>12}}, "cols"=>[{"ResTarget"=>{"name"=>"did", "location"=>26}}, {"ResTarget"=>{"name"=>"dname", "location"=>31}}], "selectStmt"=>{"SelectStmt"=>{"valuesLists"=>[[{"SetToDefault"=>{"location"=>46}}, {"A_Const"=>{"val"=>{"String"=>{"str"=>"XYZ Widgets"}}, "location"=>55}}]], "op"=>0}}, "returningList"=>[{"ResTarget"=>{"val"=>{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"did"}}], "location"=>83}}, "location"=>83}}], "override"=>0}}, "stmt_len"=>86}}

020d11cdf7e432e9793b0f67f6c67201eb0e077ae7



Can't deparse: SetToDefault: {"location"=>46}

------- End INSERT INTO distributors (did, dname) VALUES (DEFAULT, 'XYZ Widgets')
   RETURNING did;-------




-------DROP SUBSCRIPTION mysub;-------
{"RawStmt"=>{"stmt"=>{"DropSubscriptionStmt"=>{"subname"=>"mysub", "behavior"=>0}}, "stmt_len"=>23}}

02b25ec4214bfc1e787d8ee4f4f0e99bc32c2b9d0d



Can't deparse: DropSubscriptionStmt: {"subname"=>"mysub", "behavior"=>0}

------- End DROP SUBSCRIPTION mysub;-------




-------COMMUTATOR = OPERATOR(myschema.===) ,-------






syntax error at or near "COMMUTATOR" (scan.l:1121)

------- End COMMUTATOR = OPERATOR(myschema.===) ,-------




-------CREATE OPERATOR === (
    LEFTARG = box,
    RIGHTARG = box,
    FUNCTION = area_equal_function,
    COMMUTATOR = ===,
    NEGATOR = !==,
    RESTRICT = area_restriction_function,
    JOIN = area_join_function,
    HASHES, MERGES
);-------
{"RawStmt"=>{"stmt"=>{"DefineStmt"=>{"kind"=>25, "defnames"=>[{"String"=>{"str"=>"==="}}], "definition"=>[{"DefElem"=>{"defname"=>"leftarg", "arg"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"box"}}], "typemod"=>-1, "location"=>36}}, "defaction"=>0, "location"=>26}}, {"DefElem"=>{"defname"=>"rightarg", "arg"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"box"}}], "typemod"=>-1, "location"=>56}}, "defaction"=>0, "location"=>45}}, {"DefElem"=>{"defname"=>"function", "arg"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"area_equal_function"}}], "typemod"=>-1, "location"=>76}}, "defaction"=>0, "location"=>65}}, {"DefElem"=>{"defname"=>"commutator", "arg"=>[{"String"=>{"str"=>"==="}}], "defaction"=>0, "location"=>101}}, {"DefElem"=>{"defname"=>"negator", "arg"=>[{"String"=>{"str"=>"!=="}}], "defaction"=>0, "location"=>123}}, {"DefElem"=>{"defname"=>"restrict", "arg"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"area_restriction_function"}}], "typemod"=>-1, "location"=>153}}, "defaction"=>0, "location"=>142}}, {"DefElem"=>{"defname"=>"join", "arg"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"area_join_function"}}], "typemod"=>-1, "location"=>191}}, "defaction"=>0, "location"=>184}}, {"DefElem"=>{"defname"=>"hashes", "defaction"=>0, "location"=>215}}, {"DefElem"=>{"defname"=>"merges", "defaction"=>0, "location"=>223}}]}}, "stmt_len"=>231}}

0226efbddf8943252103cfd62b12d0248871af1166



Can't deparse: DefineStmt: {"kind"=>25, "defnames"=>[{"String"=>{"str"=>"==="}}], "definition"=>[{"DefElem"=>{"defname"=>"leftarg", "arg"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"box"}}], "typemod"=>-1, "location"=>36}}, "defaction"=>0, "location"=>26}}, {"DefElem"=>{"defname"=>"rightarg", "arg"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"box"}}], "typemod"=>-1, "location"=>56}}, "defaction"=>0, "location"=>45}}, {"DefElem"=>{"defname"=>"function", "arg"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"area_equal_function"}}], "typemod"=>-1, "location"=>76}}, "defaction"=>0, "location"=>65}}, {"DefElem"=>{"defname"=>"commutator", "arg"=>[{"String"=>{"str"=>"==="}}], "defaction"=>0, "location"=>101}}, {"DefElem"=>{"defname"=>"negator", "arg"=>[{"String"=>{"str"=>"!=="}}], "defaction"=>0, "location"=>123}}, {"DefElem"=>{"defname"=>"restrict", "arg"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"area_restriction_function"}}], "typemod"=>-1, "location"=>153}}, "defaction"=>0, "location"=>142}}, {"DefElem"=>{"defname"=>"join", "arg"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"area_join_function"}}], "typemod"=>-1, "location"=>191}}, "defaction"=>0, "location"=>184}}, {"DefElem"=>{"defname"=>"hashes", "defaction"=>0, "location"=>215}}, {"DefElem"=>{"defname"=>"merges", "defaction"=>0, "location"=>223}}]}

------- End CREATE OPERATOR === (
    LEFTARG = box,
    RIGHTARG = box,
    FUNCTION = area_equal_function,
    COMMUTATOR = ===,
    NEGATOR = !==,
    RESTRICT = area_restriction_function,
    JOIN = area_join_function,
    HASHES, MERGES
);-------




-------DROP ACCESS METHOD heptree;-------
{"RawStmt"=>{"stmt"=>{"DropStmt"=>{"objects"=>[{"String"=>{"str"=>"heptree"}}], "removeType"=>0, "behavior"=>0}}, "stmt_len"=>26}}

02fd0aeaf5a9d782a60cb3c9fa62c7af96b4bd92e3



undefined method `keys' for ["String", {"str"=>"heptree"}]:Array

------- End DROP ACCESS METHOD heptree;-------




-------DROP DOMAIN box;-------
{"RawStmt"=>{"stmt"=>{"DropStmt"=>{"objects"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"box"}}], "typemod"=>-1, "location"=>12}}], "removeType"=>12, "behavior"=>0}}, "stmt_len"=>15}}

023cf128d23a403ae593e251d2aa80b7c581c2a92f



undefined method `keys' for #<Array:0x00005645d2fb5d88>

------- End DROP DOMAIN box;-------




-------COMMENT ON TABLE mytable IS 'This is my table.';-------
{"RawStmt"=>{"stmt"=>{"CommentStmt"=>{"objtype"=>37, "object"=>[{"String"=>{"str"=>"mytable"}}], "comment"=>"This is my table."}}, "stmt_len"=>47}}

0254ad632588e6e74155cb4fa84f5b2c9802d53342



Can't deparse: CommentStmt: {"objtype"=>37, "object"=>[{"String"=>{"str"=>"mytable"}}], "comment"=>"This is my table."}

------- End COMMENT ON TABLE mytable IS 'This is my table.';-------




-------COMMENT ON TABLE mytable IS NULL;-------
{"RawStmt"=>{"stmt"=>{"CommentStmt"=>{"objtype"=>37, "object"=>[{"String"=>{"str"=>"mytable"}}]}}, "stmt_len"=>32}}

029adab299f8d729a9bf2c6bb6280ea4a383afb639



Can't deparse: CommentStmt: {"objtype"=>37, "object"=>[{"String"=>{"str"=>"mytable"}}]}

------- End COMMENT ON TABLE mytable IS NULL;-------




-------COMMENT ON ACCESS METHOD rtree IS 'R-Tree access method';
COMMENT ON AGGREGATE my_aggregate (double precision) IS 'Computes sample variance';
COMMENT ON CAST (text AS int4) IS 'Allow casts from text to int4';
COMMENT ON COLLATION "fr_CA" IS 'Canadian French';
COMMENT ON COLUMN my_table.my_column IS 'Employee ID number';
COMMENT ON CONVERSION my_conv IS 'Conversion to UTF8';
COMMENT ON CONSTRAINT bar_col_cons ON bar IS 'Constrains column col';
COMMENT ON CONSTRAINT dom_col_constr ON DOMAIN dom IS 'Constrains col of domain';
COMMENT ON DATABASE my_database IS 'Development Database';
COMMENT ON DOMAIN my_domain IS 'Email Address Domain';
COMMENT ON EXTENSION hstore IS 'implements the hstore data type';
COMMENT ON FOREIGN DATA WRAPPER mywrapper IS 'my foreign data wrapper';
COMMENT ON FOREIGN TABLE my_foreign_table IS 'Employee Information in other database';
COMMENT ON FUNCTION my_function (timestamp) IS 'Returns Roman Numeral';
COMMENT ON INDEX my_index IS 'Enforces uniqueness on employee ID';
COMMENT ON LANGUAGE plpython IS 'Python support for stored procedures';
COMMENT ON LARGE OBJECT 346344 IS 'Planning document';
COMMENT ON MATERIALIZED VIEW my_matview IS 'Summary of order history';
COMMENT ON OPERATOR ^ (text, text) IS 'Performs intersection of two texts';
COMMENT ON OPERATOR - (NONE, integer) IS 'Unary minus';
COMMENT ON OPERATOR CLASS int4ops USING btree IS '4 byte integer operators for btrees';
COMMENT ON OPERATOR FAMILY integer_ops USING btree IS 'all integer operators for btrees';
COMMENT ON POLICY my_policy ON mytable IS 'Filter rows by users';
COMMENT ON PROCEDURE my_proc (integer, integer) IS 'Runs a report';
COMMENT ON ROLE my_role IS 'Administration group for finance tables';
COMMENT ON RULE my_rule ON my_table IS 'Logs updates of employee records';
COMMENT ON SCHEMA my_schema IS 'Departmental data';
COMMENT ON SEQUENCE my_sequence IS 'Used to generate primary keys';
COMMENT ON SERVER myserver IS 'my foreign server';
COMMENT ON STATISTICS my_statistics IS 'Improves planner row estimations';
COMMENT ON TABLE my_schema.my_table IS 'Employee Information';
COMMENT ON TABLESPACE my_tablespace IS 'Tablespace for indexes';
COMMENT ON TEXT SEARCH CONFIGURATION my_config IS 'Special word filtering';
COMMENT ON TEXT SEARCH DICTIONARY swedish IS 'Snowball stemmer for Swedish language';
COMMENT ON TEXT SEARCH PARSER my_parser IS 'Splits text into words';
COMMENT ON TEXT SEARCH TEMPLATE snowball IS 'Snowball stemmer';
COMMENT ON TRANSFORM FOR hstore LANGUAGE plpythonu IS 'Transform between hstore and Python dict';
COMMENT ON TRIGGER my_trigger ON my_table IS 'Used for RI';
COMMENT ON TYPE complex IS 'Complex number data type';
COMMENT ON VIEW my_view IS 'View of departmental costs';-------






syntax error at or near "PROCEDURE" (scan.l:1121)

------- End COMMENT ON ACCESS METHOD rtree IS 'R-Tree access method';
COMMENT ON AGGREGATE my_aggregate (double precision) IS 'Computes sample variance';
COMMENT ON CAST (text AS int4) IS 'Allow casts from text to int4';
COMMENT ON COLLATION "fr_CA" IS 'Canadian French';
COMMENT ON COLUMN my_table.my_column IS 'Employee ID number';
COMMENT ON CONVERSION my_conv IS 'Conversion to UTF8';
COMMENT ON CONSTRAINT bar_col_cons ON bar IS 'Constrains column col';
COMMENT ON CONSTRAINT dom_col_constr ON DOMAIN dom IS 'Constrains col of domain';
COMMENT ON DATABASE my_database IS 'Development Database';
COMMENT ON DOMAIN my_domain IS 'Email Address Domain';
COMMENT ON EXTENSION hstore IS 'implements the hstore data type';
COMMENT ON FOREIGN DATA WRAPPER mywrapper IS 'my foreign data wrapper';
COMMENT ON FOREIGN TABLE my_foreign_table IS 'Employee Information in other database';
COMMENT ON FUNCTION my_function (timestamp) IS 'Returns Roman Numeral';
COMMENT ON INDEX my_index IS 'Enforces uniqueness on employee ID';
COMMENT ON LANGUAGE plpython IS 'Python support for stored procedures';
COMMENT ON LARGE OBJECT 346344 IS 'Planning document';
COMMENT ON MATERIALIZED VIEW my_matview IS 'Summary of order history';
COMMENT ON OPERATOR ^ (text, text) IS 'Performs intersection of two texts';
COMMENT ON OPERATOR - (NONE, integer) IS 'Unary minus';
COMMENT ON OPERATOR CLASS int4ops USING btree IS '4 byte integer operators for btrees';
COMMENT ON OPERATOR FAMILY integer_ops USING btree IS 'all integer operators for btrees';
COMMENT ON POLICY my_policy ON mytable IS 'Filter rows by users';
COMMENT ON PROCEDURE my_proc (integer, integer) IS 'Runs a report';
COMMENT ON ROLE my_role IS 'Administration group for finance tables';
COMMENT ON RULE my_rule ON my_table IS 'Logs updates of employee records';
COMMENT ON SCHEMA my_schema IS 'Departmental data';
COMMENT ON SEQUENCE my_sequence IS 'Used to generate primary keys';
COMMENT ON SERVER myserver IS 'my foreign server';
COMMENT ON STATISTICS my_statistics IS 'Improves planner row estimations';
COMMENT ON TABLE my_schema.my_table IS 'Employee Information';
COMMENT ON TABLESPACE my_tablespace IS 'Tablespace for indexes';
COMMENT ON TEXT SEARCH CONFIGURATION my_config IS 'Special word filtering';
COMMENT ON TEXT SEARCH DICTIONARY swedish IS 'Snowball stemmer for Swedish language';
COMMENT ON TEXT SEARCH PARSER my_parser IS 'Splits text into words';
COMMENT ON TEXT SEARCH TEMPLATE snowball IS 'Snowball stemmer';
COMMENT ON TRANSFORM FOR hstore LANGUAGE plpythonu IS 'Transform between hstore and Python dict';
COMMENT ON TRIGGER my_trigger ON my_table IS 'Used for RI';
COMMENT ON TYPE complex IS 'Complex number data type';
COMMENT ON VIEW my_view IS 'View of departmental costs';-------




-------mv /usr/local/pgsql /usr/local/pgsql.old-------






syntax error at or near "mv" (scan.l:1121)

------- End mv /usr/local/pgsql /usr/local/pgsql.old-------




-------make prefix=/usr/local/pgsql.new install-------






syntax error at or near "make" (scan.l:1121)

------- End make prefix=/usr/local/pgsql.new install-------




-------pg_ctl -D /opt/PostgreSQL/9.6 stop
pg_ctl -D /opt/PostgreSQL/ stop-------






syntax error at or near "pg_ctl" (scan.l:1121)

------- End pg_ctl -D /opt/PostgreSQL/9.6 stop
pg_ctl -D /opt/PostgreSQL/ stop-------




-------NET STOP postgresql-9.6
NET STOP postgresql--------






syntax error at or near "NET" (scan.l:1121)

------- End NET STOP postgresql-9.6
NET STOP postgresql--------




-------RUNAS /USER:postgres "CMD.EXE"
SET PATH=%PATH%;C:\Program Files\PostgreSQL\\bin;-------






syntax error at or near "RUNAS" (scan.l:1121)

------- End RUNAS /USER:postgres "CMD.EXE"
SET PATH=%PATH%;C:\Program Files\PostgreSQL\\bin;-------




-------pg_upgrade.exe
        --old-datadir "C:/Program Files/PostgreSQL/9.6/data"
        --new-datadir "C:/Program Files/PostgreSQL//data"
        --old-bindir "C:/Program Files/PostgreSQL/9.6/bin"
        --new-bindir "C:/Program Files/PostgreSQL//bin"-------






syntax error at or near "pg_upgrade" (scan.l:1121)

------- End pg_upgrade.exe
        --old-datadir "C:/Program Files/PostgreSQL/9.6/data"
        --new-datadir "C:/Program Files/PostgreSQL//data"
        --old-bindir "C:/Program Files/PostgreSQL/9.6/bin"
        --new-bindir "C:/Program Files/PostgreSQL//bin"-------




-------rsync --archive --delete --hard-links --size-only --no-inc-recursive old_cluster new_cluster remote_dir-------






syntax error at or near "rsync" (scan.l:1121)

------- End rsync --archive --delete --hard-links --size-only --no-inc-recursive old_cluster new_cluster remote_dir-------




-------rsync --archive --delete --hard-links --size-only --no-inc-recursive /opt/PostgreSQL/9.5 \
      /opt/PostgreSQL/9.6 standby.example.com:/opt/PostgreSQL-------






syntax error at or near "rsync" (scan.l:1121)

------- End rsync --archive --delete --hard-links --size-only --no-inc-recursive /opt/PostgreSQL/9.5 \
      /opt/PostgreSQL/9.6 standby.example.com:/opt/PostgreSQL-------




-------rsync --archive --delete --hard-links --size-only --no-inc-recursive /vol1/pg_tblsp/PG_9.5_201510051 \
      /vol1/pg_tblsp/PG_9.6_201608131 standby.example.com:/vol1/pg_tblsp-------






syntax error at or near "rsync" (scan.l:1121)

------- End rsync --archive --delete --hard-links --size-only --no-inc-recursive /vol1/pg_tblsp/PG_9.5_201510051 \
      /vol1/pg_tblsp/PG_9.6_201608131 standby.example.com:/vol1/pg_tblsp-------




-------psql --username=postgres --file=script.sql postgres-------






syntax error at or near "psql" (scan.l:1121)

------- End psql --username=postgres --file=script.sql postgres-------




-------DROP PUBLICATION mypublication;-------
{"RawStmt"=>{"stmt"=>{"DropStmt"=>{"objects"=>[{"String"=>{"str"=>"mypublication"}}], "removeType"=>28, "behavior"=>0}}, "stmt_len"=>30}}

02cdb94b26297e08821fa0f6d168f304743ee92b47



undefined method `keys' for ["String", {"str"=>"mypublication"}]:Array

------- End DROP PUBLICATION mypublication;-------




-------LISTEN virtual;
NOTIFY virtual;
Asynchronous notification "virtual" received from server process with PID 8448.
NOTIFY virtual, 'This is the payload';
Asynchronous notification "virtual" with payload "This is the payload" received from server process with PID 8448.

LISTEN foo;
SELECT pg_notify('fo' || 'o', 'pay' || 'load');
Asynchronous notification "foo" with payload "payload" received from server process with PID 14728.-------






syntax error at or near "Asynchronous" (scan.l:1121)

------- End LISTEN virtual;
NOTIFY virtual;
Asynchronous notification "virtual" received from server process with PID 8448.
NOTIFY virtual, 'This is the payload';
Asynchronous notification "virtual" with payload "This is the payload" received from server process with PID 8448.

LISTEN foo;
SELECT pg_notify('fo' || 'o', 'pay' || 'load');
Asynchronous notification "foo" with payload "payload" received from server process with PID 14728.-------




-------CREATE TABLE distributors (
    did     integer CHECK (did  100),
    name    varchar(40)
);-------






syntax error at or near "100" (scan.l:1121)

------- End CREATE TABLE distributors (
    did     integer CHECK (did  100),
    name    varchar(40)
);-------




-------CREATE TABLE distributors (
    did     integer,
    name    varchar(40),
    CONSTRAINT con1 CHECK (did  100 AND name  '')
);-------






syntax error at or near "100" (scan.l:1121)

------- End CREATE TABLE distributors (
    did     integer,
    name    varchar(40),
    CONSTRAINT con1 CHECK (did  100 AND name  '')
);-------




-------CREATE TABLE circles (
    c circle,
    EXCLUDE USING gist (c WITH )
);-------






syntax error at or near ")" (scan.l:1121)

------- End CREATE TABLE circles (
    c circle,
    EXCLUDE USING gist (c WITH )
);-------




-------CREATE TYPE employee_type AS (name text, salary numeric);

CREATE TABLE employees OF employee_type (
    PRIMARY KEY (name),
    salary WITH OPTIONS DEFAULT 1000
);-------
{"RawStmt"=>{"stmt"=>{"CompositeTypeStmt"=>{"typevar"=>{"RangeVar"=>{"relname"=>"employee_type", "relpersistence"=>"p", "location"=>12}}, "coldeflist"=>[{"ColumnDef"=>{"colname"=>"name", "typeName"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"text"}}], "typemod"=>-1, "location"=>35}}, "is_local"=>true, "location"=>30}}, {"ColumnDef"=>{"colname"=>"salary", "typeName"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"pg_catalog"}}, {"String"=>{"str"=>"numeric"}}], "typemod"=>-1, "location"=>48}}, "is_local"=>true, "location"=>41}}]}}, "stmt_len"=>56}}
{"RawStmt"=>{"stmt"=>{"CreateStmt"=>{"relation"=>{"RangeVar"=>{"relname"=>"employees", "inh"=>true, "relpersistence"=>"p", "location"=>72}}, "tableElts"=>[{"Constraint"=>{"contype"=>5, "location"=>105, "keys"=>[{"String"=>{"str"=>"name"}}]}}, {"ColumnDef"=>{"colname"=>"salary", "is_local"=>true, "constraints"=>[{"Constraint"=>{"contype"=>2, "location"=>149, "raw_expr"=>{"A_Const"=>{"val"=>{"Integer"=>{"ival"=>1000}}, "location"=>157}}}}], "location"=>129}}], "ofTypename"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"employee_type"}}], "typemod"=>-1, "location"=>85}}, "oncommit"=>0}}, "stmt_location"=>57, "stmt_len"=>106}}

02bd87c19c9078dc02806f54f5e41e75d0e9d1d87d



Can't deparse: CompositeTypeStmt: {"typevar"=>{"RangeVar"=>{"relname"=>"employee_type", "relpersistence"=>"p", "location"=>12}}, "coldeflist"=>[{"ColumnDef"=>{"colname"=>"name", "typeName"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"text"}}], "typemod"=>-1, "location"=>35}}, "is_local"=>true, "location"=>30}}, {"ColumnDef"=>{"colname"=>"salary", "typeName"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"pg_catalog"}}, {"String"=>{"str"=>"numeric"}}], "typemod"=>-1, "location"=>48}}, "is_local"=>true, "location"=>41}}]}

------- End CREATE TYPE employee_type AS (name text, salary numeric);

CREATE TABLE employees OF employee_type (
    PRIMARY KEY (name),
    salary WITH OPTIONS DEFAULT 1000
);-------




-------CREATE TABLE measurement_ym_older
    PARTITION OF measurement_year_month
    FOR VALUES FROM (MINVALUE, MINVALUE) TO (2016, 11);

CREATE TABLE measurement_ym_y2016m11
    PARTITION OF measurement_year_month
    FOR VALUES FROM (2016, 11) TO (2016, 12);

CREATE TABLE measurement_ym_y2016m12
    PARTITION OF measurement_year_month
    FOR VALUES FROM (2016, 12) TO (2017, 01);

CREATE TABLE measurement_ym_y2017m01
    PARTITION OF measurement_year_month
    FOR VALUES FROM (2017, 01) TO (2017, 02);-------
{"RawStmt"=>{"stmt"=>{"CreateStmt"=>{"relation"=>{"RangeVar"=>{"relname"=>"measurement_ym_older", "inh"=>true, "relpersistence"=>"p", "location"=>13}}, "inhRelations"=>[{"RangeVar"=>{"relname"=>"measurement_year_month", "inh"=>true, "relpersistence"=>"p", "location"=>51}}], "partbound"=>{"PartitionBoundSpec"=>{"strategy"=>"r", "lowerdatums"=>[{"PartitionRangeDatum"=>{"kind"=>-1, "location"=>95}}, {"PartitionRangeDatum"=>{"kind"=>-1, "location"=>105}}], "upperdatums"=>[{"PartitionRangeDatum"=>{"kind"=>0, "value"=>{"A_Const"=>{"val"=>{"Integer"=>{"ival"=>2016}}, "location"=>119}}, "location"=>119}}, {"PartitionRangeDatum"=>{"kind"=>0, "value"=>{"A_Const"=>{"val"=>{"Integer"=>{"ival"=>11}}, "location"=>125}}, "location"=>125}}], "location"=>89}}, "oncommit"=>0}}, "stmt_len"=>128}}
{"RawStmt"=>{"stmt"=>{"CreateStmt"=>{"relation"=>{"RangeVar"=>{"relname"=>"measurement_ym_y2016m11", "inh"=>true, "relpersistence"=>"p", "location"=>144}}, "inhRelations"=>[{"RangeVar"=>{"relname"=>"measurement_year_month", "inh"=>true, "relpersistence"=>"p", "location"=>185}}], "partbound"=>{"PartitionBoundSpec"=>{"strategy"=>"r", "lowerdatums"=>[{"PartitionRangeDatum"=>{"kind"=>0, "value"=>{"A_Const"=>{"val"=>{"Integer"=>{"ival"=>2016}}, "location"=>229}}, "location"=>229}}, {"PartitionRangeDatum"=>{"kind"=>0, "value"=>{"A_Const"=>{"val"=>{"Integer"=>{"ival"=>11}}, "location"=>235}}, "location"=>235}}], "upperdatums"=>[{"PartitionRangeDatum"=>{"kind"=>0, "value"=>{"A_Const"=>{"val"=>{"Integer"=>{"ival"=>2016}}, "location"=>243}}, "location"=>243}}, {"PartitionRangeDatum"=>{"kind"=>0, "value"=>{"A_Const"=>{"val"=>{"Integer"=>{"ival"=>12}}, "location"=>249}}, "location"=>249}}], "location"=>223}}, "oncommit"=>0}}, "stmt_location"=>129, "stmt_len"=>123}}
{"RawStmt"=>{"stmt"=>{"CreateStmt"=>{"relation"=>{"RangeVar"=>{"relname"=>"measurement_ym_y2016m12", "inh"=>true, "relpersistence"=>"p", "location"=>268}}, "inhRelations"=>[{"RangeVar"=>{"relname"=>"measurement_year_month", "inh"=>true, "relpersistence"=>"p", "location"=>309}}], "partbound"=>{"PartitionBoundSpec"=>{"strategy"=>"r", "lowerdatums"=>[{"PartitionRangeDatum"=>{"kind"=>0, "value"=>{"A_Const"=>{"val"=>{"Integer"=>{"ival"=>2016}}, "location"=>353}}, "location"=>353}}, {"PartitionRangeDatum"=>{"kind"=>0, "value"=>{"A_Const"=>{"val"=>{"Integer"=>{"ival"=>12}}, "location"=>359}}, "location"=>359}}], "upperdatums"=>[{"PartitionRangeDatum"=>{"kind"=>0, "value"=>{"A_Const"=>{"val"=>{"Integer"=>{"ival"=>2017}}, "location"=>367}}, "location"=>367}}, {"PartitionRangeDatum"=>{"kind"=>0, "value"=>{"A_Const"=>{"val"=>{"Integer"=>{"ival"=>1}}, "location"=>373}}, "location"=>373}}], "location"=>347}}, "oncommit"=>0}}, "stmt_location"=>253, "stmt_len"=>123}}
{"RawStmt"=>{"stmt"=>{"CreateStmt"=>{"relation"=>{"RangeVar"=>{"relname"=>"measurement_ym_y2017m01", "inh"=>true, "relpersistence"=>"p", "location"=>392}}, "inhRelations"=>[{"RangeVar"=>{"relname"=>"measurement_year_month", "inh"=>true, "relpersistence"=>"p", "location"=>433}}], "partbound"=>{"PartitionBoundSpec"=>{"strategy"=>"r", "lowerdatums"=>[{"PartitionRangeDatum"=>{"kind"=>0, "value"=>{"A_Const"=>{"val"=>{"Integer"=>{"ival"=>2017}}, "location"=>477}}, "location"=>477}}, {"PartitionRangeDatum"=>{"kind"=>0, "value"=>{"A_Const"=>{"val"=>{"Integer"=>{"ival"=>1}}, "location"=>483}}, "location"=>483}}], "upperdatums"=>[{"PartitionRangeDatum"=>{"kind"=>0, "value"=>{"A_Const"=>{"val"=>{"Integer"=>{"ival"=>2017}}, "location"=>491}}, "location"=>491}}, {"PartitionRangeDatum"=>{"kind"=>0, "value"=>{"A_Const"=>{"val"=>{"Integer"=>{"ival"=>2}}, "location"=>497}}, "location"=>497}}], "location"=>471}}, "oncommit"=>0}}, "stmt_location"=>377, "stmt_len"=>123}}

0290743a4eccae845e11b167dfffddf1791bedcf97



undefined method `map' for nil:NilClass

------- End CREATE TABLE measurement_ym_older
    PARTITION OF measurement_year_month
    FOR VALUES FROM (MINVALUE, MINVALUE) TO (2016, 11);

CREATE TABLE measurement_ym_y2016m11
    PARTITION OF measurement_year_month
    FOR VALUES FROM (2016, 11) TO (2016, 12);

CREATE TABLE measurement_ym_y2016m12
    PARTITION OF measurement_year_month
    FOR VALUES FROM (2016, 12) TO (2017, 01);

CREATE TABLE measurement_ym_y2017m01
    PARTITION OF measurement_year_month
    FOR VALUES FROM (2017, 01) TO (2017, 02);-------




-------CREATE TABLE cities_ab
    PARTITION OF cities (
    CONSTRAINT city_id_nonzero CHECK (city_id != 0)
) FOR VALUES IN ('a', 'b') PARTITION BY RANGE (population);

CREATE TABLE cities_ab_10000_to_100000
    PARTITION OF cities_ab FOR VALUES FROM (10000) TO (100000);-------
{"RawStmt"=>{"stmt"=>{"CreateStmt"=>{"relation"=>{"RangeVar"=>{"relname"=>"cities_ab", "inh"=>true, "relpersistence"=>"p", "location"=>13}}, "tableElts"=>[{"Constraint"=>{"contype"=>4, "conname"=>"city_id_nonzero", "location"=>53, "raw_expr"=>{"A_Expr"=>{"kind"=>0, "name"=>[{"String"=>{"str"=>"<>"}}], "lexpr"=>{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"city_id"}}], "location"=>87}}, "rexpr"=>{"A_Const"=>{"val"=>{"Integer"=>{"ival"=>0}}, "location"=>98}}, "location"=>95}}, "initially_valid"=>true}}], "inhRelations"=>[{"RangeVar"=>{"relname"=>"cities", "inh"=>true, "relpersistence"=>"p", "location"=>40}}], "partbound"=>{"PartitionBoundSpec"=>{"strategy"=>"l", "listdatums"=>[{"A_Const"=>{"val"=>{"String"=>{"str"=>"a"}}, "location"=>118}}, {"A_Const"=>{"val"=>{"String"=>{"str"=>"b"}}, "location"=>123}}], "location"=>114}}, "partspec"=>{"PartitionSpec"=>{"strategy"=>"range", "partParams"=>[{"PartitionElem"=>{"name"=>"population", "location"=>148}}], "location"=>128}}, "oncommit"=>0}}, "stmt_len"=>159}}
{"RawStmt"=>{"stmt"=>{"CreateStmt"=>{"relation"=>{"RangeVar"=>{"relname"=>"cities_ab_10000_to_100000", "inh"=>true, "relpersistence"=>"p", "location"=>175}}, "inhRelations"=>[{"RangeVar"=>{"relname"=>"cities_ab", "inh"=>true, "relpersistence"=>"p", "location"=>218}}], "partbound"=>{"PartitionBoundSpec"=>{"strategy"=>"r", "lowerdatums"=>[{"PartitionRangeDatum"=>{"kind"=>0, "value"=>{"A_Const"=>{"val"=>{"Integer"=>{"ival"=>10000}}, "location"=>245}}, "location"=>245}}], "upperdatums"=>[{"PartitionRangeDatum"=>{"kind"=>0, "value"=>{"A_Const"=>{"val"=>{"Integer"=>{"ival"=>100000}}, "location"=>256}}, "location"=>256}}], "location"=>239}}, "oncommit"=>0}}, "stmt_location"=>160, "stmt_len"=>103}}

02ba7b45f544cd810502bb0cb26163af95f4015fa8



undefined method `map' for nil:NilClass

------- End CREATE TABLE cities_ab
    PARTITION OF cities (
    CONSTRAINT city_id_nonzero CHECK (city_id != 0)
) FOR VALUES IN ('a', 'b') PARTITION BY RANGE (population);

CREATE TABLE cities_ab_10000_to_100000
    PARTITION OF cities_ab FOR VALUES FROM (10000) TO (100000);-------




-------CREATE TABLE orders_p1 PARTITION OF orders
    FOR VALUES WITH (MODULUS 4, REMAINDER 0);
CREATE TABLE orders_p2 PARTITION OF orders
    FOR VALUES WITH (MODULUS 4, REMAINDER 1);
CREATE TABLE orders_p3 PARTITION OF orders
    FOR VALUES WITH (MODULUS 4, REMAINDER 2);
CREATE TABLE orders_p4 PARTITION OF orders
    FOR VALUES WITH (MODULUS 4, REMAINDER 3);-------






syntax error at or near "WITH" (scan.l:1121)

------- End CREATE TABLE orders_p1 PARTITION OF orders
    FOR VALUES WITH (MODULUS 4, REMAINDER 0);
CREATE TABLE orders_p2 PARTITION OF orders
    FOR VALUES WITH (MODULUS 4, REMAINDER 1);
CREATE TABLE orders_p3 PARTITION OF orders
    FOR VALUES WITH (MODULUS 4, REMAINDER 2);
CREATE TABLE orders_p4 PARTITION OF orders
    FOR VALUES WITH (MODULUS 4, REMAINDER 3);-------




-------CREATE TABLE cities_partdef
    PARTITION OF cities DEFAULT;-------






syntax error at or near "DEFAULT" (scan.l:1121)

------- End CREATE TABLE cities_partdef
    PARTITION OF cities DEFAULT;-------




-------ALTER CONVERSION iso_8859_1_to_utf8 RENAME TO latin1_to_unicode;-------
{"RawStmt"=>{"stmt"=>{"RenameStmt"=>{"renameType"=>8, "relationType"=>0, "object"=>[{"String"=>{"str"=>"iso_8859_1_to_utf8"}}], "newname"=>"latin1_to_unicode", "behavior"=>0}}, "stmt_len"=>63}}

0248b4ecdfb669d630e22a66afbd9b0fe512e945ef



Can't deparse: {"renameType"=>8, "relationType"=>0, "object"=>[{"String"=>{"str"=>"iso_8859_1_to_utf8"}}], "newname"=>"latin1_to_unicode", "behavior"=>0}

------- End ALTER CONVERSION iso_8859_1_to_utf8 RENAME TO latin1_to_unicode;-------




-------ALTER CONVERSION iso_8859_1_to_utf8 OWNER TO joe;-------
{"RawStmt"=>{"stmt"=>{"AlterOwnerStmt"=>{"objectType"=>8, "object"=>[{"String"=>{"str"=>"iso_8859_1_to_utf8"}}], "newowner"=>{"RoleSpec"=>{"roletype"=>0, "rolename"=>"joe", "location"=>45}}}}, "stmt_len"=>48}}

0288ead30ba984a3111f8dd42d82955c18b95f9986



Can't deparse: AlterOwnerStmt: {"objectType"=>8, "object"=>[{"String"=>{"str"=>"iso_8859_1_to_utf8"}}], "newowner"=>{"RoleSpec"=>{"roletype"=>0, "rolename"=>"joe", "location"=>45}}}

------- End ALTER CONVERSION iso_8859_1_to_utf8 OWNER TO joe;-------




-------DROP TYPE box;-------
{"RawStmt"=>{"stmt"=>{"DropStmt"=>{"objects"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"box"}}], "typemod"=>-1, "location"=>10}}], "removeType"=>45, "behavior"=>0}}, "stmt_len"=>13}}

02a171d43aed14152a47e66cc5c0b1af70f67836d8



undefined method `keys' for #<Array:0x00005645d2e19290>

------- End DROP TYPE box;-------




-------ALTER FUNCTION sqrt(integer) RENAME TO square_root;-------
{"RawStmt"=>{"stmt"=>{"RenameStmt"=>{"renameType"=>19, "relationType"=>0, "object"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"sqrt"}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"pg_catalog"}}, {"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>20}}]}}, "newname"=>"square_root", "behavior"=>0}}, "stmt_len"=>50}}

02107c83bfbc0f7006e3447fc66ef6bf5a849d4ab9



Can't deparse: {"renameType"=>19, "relationType"=>0, "object"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"sqrt"}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"pg_catalog"}}, {"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>20}}]}}, "newname"=>"square_root", "behavior"=>0}

------- End ALTER FUNCTION sqrt(integer) RENAME TO square_root;-------




-------ALTER FUNCTION sqrt(integer) OWNER TO joe;-------
{"RawStmt"=>{"stmt"=>{"AlterOwnerStmt"=>{"objectType"=>19, "object"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"sqrt"}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"pg_catalog"}}, {"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>20}}]}}, "newowner"=>{"RoleSpec"=>{"roletype"=>0, "rolename"=>"joe", "location"=>38}}}}, "stmt_len"=>41}}

026008de2da16d815a2903fad0241b511693885de6



Can't deparse: AlterOwnerStmt: {"objectType"=>19, "object"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"sqrt"}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"pg_catalog"}}, {"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>20}}]}}, "newowner"=>{"RoleSpec"=>{"roletype"=>0, "rolename"=>"joe", "location"=>38}}}

------- End ALTER FUNCTION sqrt(integer) OWNER TO joe;-------




-------ALTER FUNCTION sqrt(integer) SET SCHEMA maths;-------
{"RawStmt"=>{"stmt"=>{"AlterObjectSchemaStmt"=>{"objectType"=>19, "object"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"sqrt"}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"pg_catalog"}}, {"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>20}}]}}, "newschema"=>"maths"}}, "stmt_len"=>45}}

0244cd66ae3eb2bb1f8af1cbc041715c68685edc6a



Can't deparse: AlterObjectSchemaStmt: {"objectType"=>19, "object"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"sqrt"}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"pg_catalog"}}, {"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>20}}]}}, "newschema"=>"maths"}

------- End ALTER FUNCTION sqrt(integer) SET SCHEMA maths;-------




-------ALTER FUNCTION sqrt(integer) DEPENDS ON EXTENSION mathlib;-------
{"RawStmt"=>{"stmt"=>{"AlterObjectDependsStmt"=>{"objectType"=>19, "object"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"sqrt"}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"pg_catalog"}}, {"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>20}}]}}, "extname"=>{"String"=>{"str"=>"mathlib"}}}}, "stmt_len"=>57}}

02be6660055efc1edd25bb287201021d0c09621ab7



Can't deparse: AlterObjectDependsStmt: {"objectType"=>19, "object"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"sqrt"}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"pg_catalog"}}, {"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>20}}]}}, "extname"=>{"String"=>{"str"=>"mathlib"}}}

------- End ALTER FUNCTION sqrt(integer) DEPENDS ON EXTENSION mathlib;-------




-------ALTER FUNCTION check_password(text) SET search_path = admin, pg_temp;-------
{"RawStmt"=>{"stmt"=>{"AlterFunctionStmt"=>{"func"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"check_password"}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"text"}}], "typemod"=>-1, "location"=>30}}]}}, "actions"=>[{"DefElem"=>{"defname"=>"set", "arg"=>{"VariableSetStmt"=>{"kind"=>0, "name"=>"search_path", "args"=>[{"A_Const"=>{"val"=>{"String"=>{"str"=>"admin"}}, "location"=>54}}, {"A_Const"=>{"val"=>{"String"=>{"str"=>"pg_temp"}}, "location"=>61}}]}}, "defaction"=>0, "location"=>36}}]}}, "stmt_len"=>68}}

02d24f2587af8823f5cb9cae48d8c4fa3f44bc81fd



Can't deparse: AlterFunctionStmt: {"func"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"check_password"}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"text"}}], "typemod"=>-1, "location"=>30}}]}}, "actions"=>[{"DefElem"=>{"defname"=>"set", "arg"=>{"VariableSetStmt"=>{"kind"=>0, "name"=>"search_path", "args"=>[{"A_Const"=>{"val"=>{"String"=>{"str"=>"admin"}}, "location"=>54}}, {"A_Const"=>{"val"=>{"String"=>{"str"=>"pg_temp"}}, "location"=>61}}]}}, "defaction"=>0, "location"=>36}}]}

------- End ALTER FUNCTION check_password(text) SET search_path = admin, pg_temp;-------




-------ALTER FUNCTION check_password(text) RESET search_path;-------
{"RawStmt"=>{"stmt"=>{"AlterFunctionStmt"=>{"func"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"check_password"}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"text"}}], "typemod"=>-1, "location"=>30}}]}}, "actions"=>[{"DefElem"=>{"defname"=>"set", "arg"=>{"VariableSetStmt"=>{"kind"=>4, "name"=>"search_path"}}, "defaction"=>0, "location"=>36}}]}}, "stmt_len"=>53}}

024b5b569fc826dd51e2c1f7771510f38767e472a1



Can't deparse: AlterFunctionStmt: {"func"=>{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"check_password"}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"text"}}], "typemod"=>-1, "location"=>30}}]}}, "actions"=>[{"DefElem"=>{"defname"=>"set", "arg"=>{"VariableSetStmt"=>{"kind"=>4, "name"=>"search_path"}}, "defaction"=>0, "location"=>36}}]}

------- End ALTER FUNCTION check_password(text) RESET search_path;-------




-------PREPARE recentfilms(date) AS
  SELECT * FROM films WHERE date_prod > $1;
CREATE TEMP TABLE films_recent ON COMMIT DROP AS
  EXECUTE recentfilms('2002-01-01');-------
{"RawStmt"=>{"stmt"=>{"PrepareStmt"=>{"name"=>"recentfilms", "argtypes"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"date"}}], "typemod"=>-1, "location"=>20}}], "query"=>{"SelectStmt"=>{"targetList"=>[{"ResTarget"=>{"val"=>{"ColumnRef"=>{"fields"=>[{"A_Star"=>{}}], "location"=>38}}, "location"=>38}}], "fromClause"=>[{"RangeVar"=>{"relname"=>"films", "inh"=>true, "relpersistence"=>"p", "location"=>45}}], "whereClause"=>{"A_Expr"=>{"kind"=>0, "name"=>[{"String"=>{"str"=>">"}}], "lexpr"=>{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"date_prod"}}], "location"=>57}}, "rexpr"=>{"ParamRef"=>{"number"=>1, "location"=>69}}, "location"=>67}}, "op"=>0}}}}, "stmt_len"=>71}}
{"RawStmt"=>{"stmt"=>{"CreateTableAsStmt"=>{"query"=>{"ExecuteStmt"=>{"name"=>"recentfilms", "params"=>[{"A_Const"=>{"val"=>{"String"=>{"str"=>"2002-01-01"}}, "location"=>144}}]}}, "into"=>{"IntoClause"=>{"rel"=>{"RangeVar"=>{"relname"=>"films_recent", "inh"=>true, "relpersistence"=>"t", "location"=>91}}, "onCommit"=>3}}, "relkind"=>37}}, "stmt_location"=>72, "stmt_len"=>85}}

027805a12e530fefc2948e1ebaf1a9adc6807f31b8



Can't deparse: PrepareStmt: {"name"=>"recentfilms", "argtypes"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"date"}}], "typemod"=>-1, "location"=>20}}], "query"=>{"SelectStmt"=>{"targetList"=>[{"ResTarget"=>{"val"=>{"ColumnRef"=>{"fields"=>[{"A_Star"=>{}}], "location"=>38}}, "location"=>38}}], "fromClause"=>[{"RangeVar"=>{"relname"=>"films", "inh"=>true, "relpersistence"=>"p", "location"=>45}}], "whereClause"=>{"A_Expr"=>{"kind"=>0, "name"=>[{"String"=>{"str"=>">"}}], "lexpr"=>{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"date_prod"}}], "location"=>57}}, "rexpr"=>{"ParamRef"=>{"number"=>1, "location"=>69}}, "location"=>67}}, "op"=>0}}}

------- End PREPARE recentfilms(date) AS
  SELECT * FROM films WHERE date_prod > $1;
CREATE TEMP TABLE films_recent ON COMMIT DROP AS
  EXECUTE recentfilms('2002-01-01');-------




-------DROP EXTENSION hstore;-------
{"RawStmt"=>{"stmt"=>{"DropStmt"=>{"objects"=>[{"String"=>{"str"=>"hstore"}}], "removeType"=>15, "behavior"=>0}}, "stmt_len"=>21}}

02f85123ed9cb2ecf36ee8582610bd22860246a60b



undefined method `keys' for ["String", {"str"=>"hstore"}]:Array

------- End DROP EXTENSION hstore;-------




-------CREATE SUBSCRIPTION mysub
         CONNECTION 'host=192.168.1.50 port=5432 user=foo dbname=foodb'
        PUBLICATION mypublication, insert_only;-------
{"RawStmt"=>{"stmt"=>{"CreateSubscriptionStmt"=>{"subname"=>"mysub", "conninfo"=>"host=192.168.1.50 port=5432 user=foo dbname=foodb", "publication"=>[{"String"=>{"str"=>"mypublication"}}, {"String"=>{"str"=>"insert_only"}}]}}, "stmt_len"=>144}}

02a027954037137abfa4ac95abd4eaa529d1c7778a



Can't deparse: CreateSubscriptionStmt: {"subname"=>"mysub", "conninfo"=>"host=192.168.1.50 port=5432 user=foo dbname=foodb", "publication"=>[{"String"=>{"str"=>"mypublication"}}, {"String"=>{"str"=>"insert_only"}}]}

------- End CREATE SUBSCRIPTION mysub
         CONNECTION 'host=192.168.1.50 port=5432 user=foo dbname=foodb'
        PUBLICATION mypublication, insert_only;-------




-------CREATE SUBSCRIPTION mysub
         CONNECTION 'host=192.168.1.50 port=5432 user=foo dbname=foodb'
        PUBLICATION insert_only
               WITH (enabled = false);-------
{"RawStmt"=>{"stmt"=>{"CreateSubscriptionStmt"=>{"subname"=>"mysub", "conninfo"=>"host=192.168.1.50 port=5432 user=foo dbname=foodb", "publication"=>[{"String"=>{"str"=>"insert_only"}}], "options"=>[{"DefElem"=>{"defname"=>"enabled", "arg"=>{"String"=>{"str"=>"false"}}, "defaction"=>0, "location"=>151}}]}}, "stmt_len"=>167}}

029dfd9ec157865ce4b37c401969849a1ede653abf



Can't deparse: CreateSubscriptionStmt: {"subname"=>"mysub", "conninfo"=>"host=192.168.1.50 port=5432 user=foo dbname=foodb", "publication"=>[{"String"=>{"str"=>"insert_only"}}], "options"=>[{"DefElem"=>{"defname"=>"enabled", "arg"=>{"String"=>{"str"=>"false"}}, "defaction"=>0, "location"=>151}}]}

------- End CREATE SUBSCRIPTION mysub
         CONNECTION 'host=192.168.1.50 port=5432 user=foo dbname=foodb'
        PUBLICATION insert_only
               WITH (enabled = false);-------




-------DROP FUNCTION sqrt(integer);-------
{"RawStmt"=>{"stmt"=>{"DropStmt"=>{"objects"=>[{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"sqrt"}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"pg_catalog"}}, {"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>19}}]}}], "removeType"=>19, "behavior"=>0}}, "stmt_len"=>27}}

0206602924801229253fd29741d49c06dce14eec86



undefined method `keys' for #<Array:0x00005645d2998a40>

------- End DROP FUNCTION sqrt(integer);-------




-------DROP FUNCTION sqrt(integer), sqrt(bigint);-------
{"RawStmt"=>{"stmt"=>{"DropStmt"=>{"objects"=>[{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"sqrt"}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"pg_catalog"}}, {"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>19}}]}}, {"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"sqrt"}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"pg_catalog"}}, {"String"=>{"str"=>"int8"}}], "typemod"=>-1, "location"=>34}}]}}], "removeType"=>19, "behavior"=>0}}, "stmt_len"=>41}}

02148e89232ea016024d8eaa0c68044ad5e097fe0b



undefined method `keys' for #<Array:0x00005645d2fde490>

------- End DROP FUNCTION sqrt(integer), sqrt(bigint);-------




-------DROP FUNCTION update_employee_salaries;-------
{"RawStmt"=>{"stmt"=>{"DropStmt"=>{"objects"=>[{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"update_employee_salaries"}}], "args_unspecified"=>true}}], "removeType"=>19, "behavior"=>0}}, "stmt_len"=>38}}

02d77c33a0cbc4125118acf4851cdc9650b631f709



undefined method `keys' for #<Array:0x00005645d2fc9b30>

------- End DROP FUNCTION update_employee_salaries;-------




-------DROP FUNCTION update_employee_salaries();-------
{"RawStmt"=>{"stmt"=>{"DropStmt"=>{"objects"=>[{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"update_employee_salaries"}}]}}], "removeType"=>19, "behavior"=>0}}, "stmt_len"=>40}}

02f02cfb91c0210090d9a9231beca1d7b052418e44



undefined method `keys' for #<Array:0x00005645d2fa34f8>

------- End DROP FUNCTION update_employee_salaries();-------




-------ALTER USER MAPPING FOR bob SERVER foo OPTIONS (SET password 'public');-------
{"RawStmt"=>{"stmt"=>{"AlterUserMappingStmt"=>{"user"=>{"RoleSpec"=>{"roletype"=>0, "rolename"=>"bob", "location"=>23}}, "servername"=>"foo", "options"=>[{"DefElem"=>{"defname"=>"password", "arg"=>{"String"=>{"str"=>"public"}}, "defaction"=>1, "location"=>51}}]}}, "stmt_len"=>69}}

02c12506486dcadd05f5653b5ffc4afbfaf66a595f



Can't deparse: AlterUserMappingStmt: {"user"=>{"RoleSpec"=>{"roletype"=>0, "rolename"=>"bob", "location"=>23}}, "servername"=>"foo", "options"=>[{"DefElem"=>{"defname"=>"password", "arg"=>{"String"=>{"str"=>"public"}}, "defaction"=>1, "location"=>51}}]}

------- End ALTER USER MAPPING FOR bob SERVER foo OPTIONS (SET password 'public');-------




-------DROP SCHEMA mystuff CASCADE;-------
{"RawStmt"=>{"stmt"=>{"DropStmt"=>{"objects"=>[{"String"=>{"str"=>"mystuff"}}], "removeType"=>32, "behavior"=>1}}, "stmt_len"=>27}}

0246257640fc5fa0607d4b1759e0b24d4df5ff74ca



undefined method `keys' for ["String", {"str"=>"mystuff"}]:Array

------- End DROP SCHEMA mystuff CASCADE;-------




-------CREATE FUNCTION foo(int) ...
CREATE FUNCTION foo(int, out text) ...-------






syntax error at or near ".." (scan.l:1121)

------- End CREATE FUNCTION foo(int) ...
CREATE FUNCTION foo(int, out text) ...-------




-------CREATE FUNCTION foo(int) ...
CREATE FUNCTION foo(int, int default 42) ...-------






syntax error at or near ".." (scan.l:1121)

------- End CREATE FUNCTION foo(int) ...
CREATE FUNCTION foo(int, int default 42) ...-------




-------CREATE TYPE dup_result AS (f1 int, f2 text);

CREATE FUNCTION dup(int) RETURNS dup_result
    AS $$ SELECT $1, CAST($1 AS text) || ' is text' $$
    LANGUAGE SQL;

SELECT * FROM dup(42);-------
{"RawStmt"=>{"stmt"=>{"CompositeTypeStmt"=>{"typevar"=>{"RangeVar"=>{"relname"=>"dup_result", "relpersistence"=>"p", "location"=>12}}, "coldeflist"=>[{"ColumnDef"=>{"colname"=>"f1", "typeName"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"pg_catalog"}}, {"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>30}}, "is_local"=>true, "location"=>27}}, {"ColumnDef"=>{"colname"=>"f2", "typeName"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"text"}}], "typemod"=>-1, "location"=>38}}, "is_local"=>true, "location"=>35}}]}}, "stmt_len"=>43}}
{"RawStmt"=>{"stmt"=>{"CreateFunctionStmt"=>{"funcname"=>[{"String"=>{"str"=>"dup"}}], "parameters"=>[{"FunctionParameter"=>{"argType"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"pg_catalog"}}, {"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>66}}, "mode"=>105}}], "returnType"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"dup_result"}}], "typemod"=>-1, "location"=>79}}, "options"=>[{"DefElem"=>{"defname"=>"as", "arg"=>[{"String"=>{"str"=>" SELECT $1, CAST($1 AS text) || ' is text' "}}], "defaction"=>0, "location"=>94}}, {"DefElem"=>{"defname"=>"language", "arg"=>{"String"=>{"str"=>"sql"}}, "defaction"=>0, "location"=>149}}]}}, "stmt_location"=>44, "stmt_len"=>117}}
{"RawStmt"=>{"stmt"=>{"SelectStmt"=>{"targetList"=>[{"ResTarget"=>{"val"=>{"ColumnRef"=>{"fields"=>[{"A_Star"=>{}}], "location"=>171}}, "location"=>171}}], "fromClause"=>[{"RangeFunction"=>{"functions"=>[[{"FuncCall"=>{"funcname"=>[{"String"=>{"str"=>"dup"}}], "args"=>[{"A_Const"=>{"val"=>{"Integer"=>{"ival"=>42}}, "location"=>182}}], "location"=>178}}, nil]]}}], "op"=>0}}, "stmt_location"=>162, "stmt_len"=>23}}

021c11f0afc8d8cb7a65622f230258d2f21cd46abc



Can't deparse: CompositeTypeStmt: {"typevar"=>{"RangeVar"=>{"relname"=>"dup_result", "relpersistence"=>"p", "location"=>12}}, "coldeflist"=>[{"ColumnDef"=>{"colname"=>"f1", "typeName"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"pg_catalog"}}, {"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>30}}, "is_local"=>true, "location"=>27}}, {"ColumnDef"=>{"colname"=>"f2", "typeName"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"text"}}], "typemod"=>-1, "location"=>38}}, "is_local"=>true, "location"=>35}}]}

------- End CREATE TYPE dup_result AS (f1 int, f2 text);

CREATE FUNCTION dup(int) RETURNS dup_result
    AS $$ SELECT $1, CAST($1 AS text) || ' is text' $$
    LANGUAGE SQL;

SELECT * FROM dup(42);-------




-------CREATE FUNCTION dup(int) RETURNS TABLE(f1 int, f2 text)
    AS $$ SELECT $1, CAST($1 AS text) || ' is text' $$
    LANGUAGE SQL;

SELECT * FROM dup(42);-------
{"RawStmt"=>{"stmt"=>{"CreateFunctionStmt"=>{"funcname"=>[{"String"=>{"str"=>"dup"}}], "parameters"=>[{"FunctionParameter"=>{"argType"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"pg_catalog"}}, {"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>20}}, "mode"=>105}}, {"FunctionParameter"=>{"name"=>"f1", "argType"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"pg_catalog"}}, {"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>42}}, "mode"=>116}}, {"FunctionParameter"=>{"name"=>"f2", "argType"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"text"}}], "typemod"=>-1, "location"=>50}}, "mode"=>116}}], "returnType"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"pg_catalog"}}, {"String"=>{"str"=>"record"}}], "setof"=>true, "typemod"=>-1, "location"=>33}}, "options"=>[{"DefElem"=>{"defname"=>"as", "arg"=>[{"String"=>{"str"=>" SELECT $1, CAST($1 AS text) || ' is text' "}}], "defaction"=>0, "location"=>60}}, {"DefElem"=>{"defname"=>"language", "arg"=>{"String"=>{"str"=>"sql"}}, "defaction"=>0, "location"=>115}}]}}, "stmt_len"=>127}}
{"RawStmt"=>{"stmt"=>{"SelectStmt"=>{"targetList"=>[{"ResTarget"=>{"val"=>{"ColumnRef"=>{"fields"=>[{"A_Star"=>{}}], "location"=>137}}, "location"=>137}}], "fromClause"=>[{"RangeFunction"=>{"functions"=>[[{"FuncCall"=>{"funcname"=>[{"String"=>{"str"=>"dup"}}], "args"=>[{"A_Const"=>{"val"=>{"Integer"=>{"ival"=>42}}, "location"=>148}}], "location"=>144}}, nil]]}}], "op"=>0}}, "stmt_location"=>128, "stmt_len"=>23}}

02bcdad4b265fb73e21aa345395ab7a98ad7d70add



Can't deparse type: record

------- End CREATE FUNCTION dup(int) RETURNS TABLE(f1 int, f2 text)
    AS $$ SELECT $1, CAST($1 AS text) || ' is text' $$
    LANGUAGE SQL;

SELECT * FROM dup(42);-------




-------BEGIN;
CREATE FUNCTION check_password(uname TEXT, pass TEXT) ... SECURITY DEFINER;
REVOKE ALL ON FUNCTION check_password(uname TEXT, pass TEXT) FROM PUBLIC;
GRANT EXECUTE ON FUNCTION check_password(uname TEXT, pass TEXT) TO admins;
COMMIT;-------






syntax error at or near ".." (scan.l:1121)

------- End BEGIN;
CREATE FUNCTION check_password(uname TEXT, pass TEXT) ... SECURITY DEFINER;
REVOKE ALL ON FUNCTION check_password(uname TEXT, pass TEXT) FROM PUBLIC;
GRANT EXECUTE ON FUNCTION check_password(uname TEXT, pass TEXT) TO admins;
COMMIT;-------




-------ALTER TEXT SEARCH CONFIGURATION my_config
  ALTER MAPPING REPLACE english WITH swedish;-------
{"RawStmt"=>{"stmt"=>{"AlterTSConfigurationStmt"=>{"kind"=>2, "cfgname"=>[{"String"=>{"str"=>"my_config"}}], "dicts"=>[[{"String"=>{"str"=>"english"}}], [{"String"=>{"str"=>"swedish"}}]], "replace"=>true}}, "stmt_len"=>86}}

025aa0f47affb2f1940cfcb62071218190be74caa5



Can't deparse: AlterTSConfigurationStmt: {"kind"=>2, "cfgname"=>[{"String"=>{"str"=>"my_config"}}], "dicts"=>[[{"String"=>{"str"=>"english"}}], [{"String"=>{"str"=>"swedish"}}]], "replace"=>true}

------- End ALTER TEXT SEARCH CONFIGURATION my_config
  ALTER MAPPING REPLACE english WITH swedish;-------




-------DROP TABLESPACE mystuff;-------
{"RawStmt"=>{"stmt"=>{"DropTableSpaceStmt"=>{"tablespacename"=>"mystuff"}}, "stmt_len"=>23}}

0222fe29bc4e2eb7e1787338f507fece3136e48204



Can't deparse: DropTableSpaceStmt: {"tablespacename"=>"mystuff"}

------- End DROP TABLESPACE mystuff;-------




-------BEGIN;
EXPLAIN ANALYZE ...;
ROLLBACK;-------






syntax error at or near ".." (scan.l:1121)

------- End BEGIN;
EXPLAIN ANALYZE ...;
ROLLBACK;-------




-------EXPLAIN SELECT * FROM foo;

                       QUERY PLAN
---------------------------------------------------------
 Seq Scan on foo  (cost=0.00..155.00 rows=10000 width=4)
(1 row)-------






syntax error at or near "QUERY" (scan.l:1121)

------- End EXPLAIN SELECT * FROM foo;

                       QUERY PLAN
---------------------------------------------------------
 Seq Scan on foo  (cost=0.00..155.00 rows=10000 width=4)
(1 row)-------




-------EXPLAIN (FORMAT JSON) SELECT * FROM foo;
           QUERY PLAN
--------------------------------
 [                             +
   {                           +
     "Plan": {                 +
       "Node Type": "Seq Scan",+
       "Relation Name": "foo", +
       "Alias": "foo",         +
       "Startup Cost": 0.00,   +
       "Total Cost": 155.00,   +
       "Plan Rows": 10000,     +
       "Plan Width": 4         +
     }                         +
   }                           +
 ]
(1 row)-------






syntax error at or near "QUERY" (scan.l:1121)

------- End EXPLAIN (FORMAT JSON) SELECT * FROM foo;
           QUERY PLAN
--------------------------------
 [                             +
   {                           +
     "Plan": {                 +
       "Node Type": "Seq Scan",+
       "Relation Name": "foo", +
       "Alias": "foo",         +
       "Startup Cost": 0.00,   +
       "Total Cost": 155.00,   +
       "Plan Rows": 10000,     +
       "Plan Width": 4         +
     }                         +
   }                           +
 ]
(1 row)-------




-------EXPLAIN SELECT * FROM foo WHERE i = 4;

                         QUERY PLAN
--------------------------------------------------------------
 Index Scan using fi on foo  (cost=0.00..5.98 rows=1 width=4)
   Index Cond: (i = 4)
(2 rows)-------






syntax error at or near "QUERY" (scan.l:1121)

------- End EXPLAIN SELECT * FROM foo WHERE i = 4;

                         QUERY PLAN
--------------------------------------------------------------
 Index Scan using fi on foo  (cost=0.00..5.98 rows=1 width=4)
   Index Cond: (i = 4)
(2 rows)-------




-------EXPLAIN (FORMAT YAML) SELECT * FROM foo WHERE i='4';
          QUERY PLAN
-------------------------------
 - Plan:                      +
     Node Type: "Index Scan"  +
     Scan Direction: "Forward"+
     Index Name: "fi"         +
     Relation Name: "foo"     +
     Alias: "foo"             +
     Startup Cost: 0.00       +
     Total Cost: 5.98         +
     Plan Rows: 1             +
     Plan Width: 4            +
     Index Cond: "(i = 4)"    
(1 row)-------






syntax error at or near "QUERY" (scan.l:1121)

------- End EXPLAIN (FORMAT YAML) SELECT * FROM foo WHERE i='4';
          QUERY PLAN
-------------------------------
 - Plan:                      +
     Node Type: "Index Scan"  +
     Scan Direction: "Forward"+
     Index Name: "fi"         +
     Relation Name: "foo"     +
     Alias: "foo"             +
     Startup Cost: 0.00       +
     Total Cost: 5.98         +
     Plan Rows: 1             +
     Plan Width: 4            +
     Index Cond: "(i = 4)"    
(1 row)-------




-------EXPLAIN (COSTS FALSE) SELECT * FROM foo WHERE i = 4;

        QUERY PLAN
----------------------------
 Index Scan using fi on foo
   Index Cond: (i = 4)
(2 rows)-------






syntax error at or near "QUERY" (scan.l:1121)

------- End EXPLAIN (COSTS FALSE) SELECT * FROM foo WHERE i = 4;

        QUERY PLAN
----------------------------
 Index Scan using fi on foo
   Index Cond: (i = 4)
(2 rows)-------




-------EXPLAIN SELECT sum(i) FROM foo WHERE i  10;

                             QUERY PLAN
---------------------------------------------------------------------
 Aggregate  (cost=23.93..23.93 rows=1 width=4)
   -  Index Scan using fi on foo  (cost=0.00..23.92 rows=6 width=4)
         Index Cond: (i  10)
(3 rows)-------






syntax error at or near "10" (scan.l:1121)

------- End EXPLAIN SELECT sum(i) FROM foo WHERE i  10;

                             QUERY PLAN
---------------------------------------------------------------------
 Aggregate  (cost=23.93..23.93 rows=1 width=4)
   -  Index Scan using fi on foo  (cost=0.00..23.92 rows=6 width=4)
         Index Cond: (i  10)
(3 rows)-------




-------PREPARE query(int, int) AS SELECT sum(bar) FROM test
    WHERE id  $1 AND id  $2
    GROUP BY foo;

EXPLAIN ANALYZE EXECUTE query(100, 200);

                                                       QUERY PLAN                                                       
------------------------------------------------------------------------------------------------------------------------
 HashAggregate  (cost=9.54..9.54 rows=1 width=8) (actual time=0.156..0.161 rows=11 loops=1)
   Group Key: foo
   -  Index Scan using test_pkey on test  (cost=0.29..9.29 rows=50 width=8) (actual time=0.039..0.091 rows=99 loops=1)
         Index Cond: ((id  $1) AND (id  $2))
 Planning time: 0.197 ms
 Execution time: 0.225 ms
(6 rows)-------






syntax error at or near "$1" (scan.l:1121)

------- End PREPARE query(int, int) AS SELECT sum(bar) FROM test
    WHERE id  $1 AND id  $2
    GROUP BY foo;

EXPLAIN ANALYZE EXECUTE query(100, 200);

                                                       QUERY PLAN                                                       
------------------------------------------------------------------------------------------------------------------------
 HashAggregate  (cost=9.54..9.54 rows=1 width=8) (actual time=0.156..0.161 rows=11 loops=1)
   Group Key: foo
   -  Index Scan using test_pkey on test  (cost=0.29..9.29 rows=50 width=8) (actual time=0.039..0.091 rows=99 loops=1)
         Index Cond: ((id  $1) AND (id  $2))
 Planning time: 0.197 ms
 Execution time: 0.225 ms
(6 rows)-------




-------DROP AGGREGATE myavg(integer);-------
{"RawStmt"=>{"stmt"=>{"DropStmt"=>{"objects"=>[{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"myavg"}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"pg_catalog"}}, {"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>21}}]}}], "removeType"=>1, "behavior"=>0}}, "stmt_len"=>29}}

02d86850b52beb64632a2c2fb4480682a9287bc7be



undefined method `keys' for #<Array:0x00005645d2da2be0>

------- End DROP AGGREGATE myavg(integer);-------




-------DROP AGGREGATE myrank(VARIADIC "any" ORDER BY VARIADIC "any");-------
{"RawStmt"=>{"stmt"=>{"DropStmt"=>{"objects"=>[{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"myrank"}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"any"}}], "typemod"=>-1, "location"=>31}}]}}], "removeType"=>1, "behavior"=>0}}, "stmt_len"=>61}}

02a7ec591cd6b1cc7c02a50d87e7e274df2579d8df



undefined method `keys' for #<Array:0x00005645d2d67630>

------- End DROP AGGREGATE myrank(VARIADIC "any" ORDER BY VARIADIC "any");-------




-------DROP AGGREGATE myavg(integer), myavg(bigint);-------
{"RawStmt"=>{"stmt"=>{"DropStmt"=>{"objects"=>[{"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"myavg"}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"pg_catalog"}}, {"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>21}}]}}, {"ObjectWithArgs"=>{"objname"=>[{"String"=>{"str"=>"myavg"}}], "objargs"=>[{"TypeName"=>{"names"=>[{"String"=>{"str"=>"pg_catalog"}}, {"String"=>{"str"=>"int8"}}], "typemod"=>-1, "location"=>37}}]}}], "removeType"=>1, "behavior"=>0}}, "stmt_len"=>44}}

0231154feab37055134c958ad02b0bc833dafd632b



undefined method `keys' for #<Array:0x00005645d2994148>

------- End DROP AGGREGATE myavg(integer), myavg(bigint);-------




-------CREATE DATABASE lusiadas;-------
{"RawStmt"=>{"stmt"=>{"CreatedbStmt"=>{"dbname"=>"lusiadas"}}, "stmt_len"=>24}}

0266e75dc418398d40914a203d4de8599654282536



Can't deparse: CreatedbStmt: {"dbname"=>"lusiadas"}

------- End CREATE DATABASE lusiadas;-------




-------CREATE DATABASE sales OWNER salesapp TABLESPACE salesspace;-------
{"RawStmt"=>{"stmt"=>{"CreatedbStmt"=>{"dbname"=>"sales", "options"=>[{"DefElem"=>{"defname"=>"owner", "arg"=>{"String"=>{"str"=>"salesapp"}}, "defaction"=>0, "location"=>22}}, {"DefElem"=>{"defname"=>"tablespace", "arg"=>{"String"=>{"str"=>"salesspace"}}, "defaction"=>0, "location"=>37}}]}}, "stmt_len"=>58}}

02828d3900f187497ec263e945e8a8eff2794886cc



Can't deparse: CreatedbStmt: {"dbname"=>"sales", "options"=>[{"DefElem"=>{"defname"=>"owner", "arg"=>{"String"=>{"str"=>"salesapp"}}, "defaction"=>0, "location"=>22}}, {"DefElem"=>{"defname"=>"tablespace", "arg"=>{"String"=>{"str"=>"salesspace"}}, "defaction"=>0, "location"=>37}}]}

------- End CREATE DATABASE sales OWNER salesapp TABLESPACE salesspace;-------




-------CREATE DATABASE music
    LC_COLLATE 'sv_SE.utf8' LC_CTYPE 'sv_SE.utf8'
    TEMPLATE template0;-------
{"RawStmt"=>{"stmt"=>{"CreatedbStmt"=>{"dbname"=>"music", "options"=>[{"DefElem"=>{"defname"=>"lc_collate", "arg"=>{"String"=>{"str"=>"sv_SE.utf8"}}, "defaction"=>0, "location"=>26}}, {"DefElem"=>{"defname"=>"lc_ctype", "arg"=>{"String"=>{"str"=>"sv_SE.utf8"}}, "defaction"=>0, "location"=>50}}, {"DefElem"=>{"defname"=>"template", "arg"=>{"String"=>{"str"=>"template0"}}, "defaction"=>0, "location"=>76}}]}}, "stmt_len"=>94}}

022a017130bf84f601ca16b4458f267252efb13f97



Can't deparse: CreatedbStmt: {"dbname"=>"music", "options"=>[{"DefElem"=>{"defname"=>"lc_collate", "arg"=>{"String"=>{"str"=>"sv_SE.utf8"}}, "defaction"=>0, "location"=>26}}, {"DefElem"=>{"defname"=>"lc_ctype", "arg"=>{"String"=>{"str"=>"sv_SE.utf8"}}, "defaction"=>0, "location"=>50}}, {"DefElem"=>{"defname"=>"template", "arg"=>{"String"=>{"str"=>"template0"}}, "defaction"=>0, "location"=>76}}]}

------- End CREATE DATABASE music
    LC_COLLATE 'sv_SE.utf8' LC_CTYPE 'sv_SE.utf8'
    TEMPLATE template0;-------




-------CREATE DATABASE music2
    LC_COLLATE 'sv_SE.iso885915' LC_CTYPE 'sv_SE.iso885915'
    ENCODING LATIN9
    TEMPLATE template0;-------
{"RawStmt"=>{"stmt"=>{"CreatedbStmt"=>{"dbname"=>"music2", "options"=>[{"DefElem"=>{"defname"=>"lc_collate", "arg"=>{"String"=>{"str"=>"sv_SE.iso885915"}}, "defaction"=>0, "location"=>27}}, {"DefElem"=>{"defname"=>"lc_ctype", "arg"=>{"String"=>{"str"=>"sv_SE.iso885915"}}, "defaction"=>0, "location"=>56}}, {"DefElem"=>{"defname"=>"encoding", "arg"=>{"String"=>{"str"=>"latin9"}}, "defaction"=>0, "location"=>87}}, {"DefElem"=>{"defname"=>"template", "arg"=>{"String"=>{"str"=>"template0"}}, "defaction"=>0, "location"=>107}}]}}, "stmt_len"=>125}}

02862f7048cd0df0865215e8c9f5a4a4f7f5a4cc5b



Can't deparse: CreatedbStmt: {"dbname"=>"music2", "options"=>[{"DefElem"=>{"defname"=>"lc_collate", "arg"=>{"String"=>{"str"=>"sv_SE.iso885915"}}, "defaction"=>0, "location"=>27}}, {"DefElem"=>{"defname"=>"lc_ctype", "arg"=>{"String"=>{"str"=>"sv_SE.iso885915"}}, "defaction"=>0, "location"=>56}}, {"DefElem"=>{"defname"=>"encoding", "arg"=>{"String"=>{"str"=>"latin9"}}, "defaction"=>0, "location"=>87}}, {"DefElem"=>{"defname"=>"template", "arg"=>{"String"=>{"str"=>"template0"}}, "defaction"=>0, "location"=>107}}]}

------- End CREATE DATABASE music2
    LC_COLLATE 'sv_SE.iso885915' LC_CTYPE 'sv_SE.iso885915'
    ENCODING LATIN9
    TEMPLATE template0;-------




-------DROP LANGUAGE plsample;-------
{"RawStmt"=>{"stmt"=>{"DropStmt"=>{"objects"=>[{"String"=>{"str"=>"plsample"}}], "removeType"=>21, "behavior"=>0}}, "stmt_len"=>22}}

021c890527a93d472dbcbb08b9f1bc911536def018



undefined method `keys' for ["String", {"str"=>"plsample"}]:Array

------- End DROP LANGUAGE plsample;-------




-------CALL do_db_maintenance();-------






syntax error at or near "CALL" (scan.l:1121)

------- End CALL do_db_maintenance();-------




-------CREATE RULE "_RETURN" AS
    ON SELECT TO t1
    DO INSTEAD
        SELECT * FROM t2;

CREATE RULE "_RETURN" AS
    ON SELECT TO t2
    DO INSTEAD
        SELECT * FROM t1;

SELECT * FROM t1;-------
{"RawStmt"=>{"stmt"=>{"RuleStmt"=>{"relation"=>{"RangeVar"=>{"relname"=>"t1", "inh"=>true, "relpersistence"=>"p", "location"=>42}}, "rulename"=>"_RETURN", "event"=>1, "instead"=>true, "actions"=>[{"SelectStmt"=>{"targetList"=>[{"ResTarget"=>{"val"=>{"ColumnRef"=>{"fields"=>[{"A_Star"=>{}}], "location"=>75}}, "location"=>75}}], "fromClause"=>[{"RangeVar"=>{"relname"=>"t2", "inh"=>true, "relpersistence"=>"p", "location"=>82}}], "op"=>0}}]}}, "stmt_len"=>84}}
{"RawStmt"=>{"stmt"=>{"RuleStmt"=>{"relation"=>{"RangeVar"=>{"relname"=>"t2", "inh"=>true, "relpersistence"=>"p", "location"=>129}}, "rulename"=>"_RETURN", "event"=>1, "instead"=>true, "actions"=>[{"SelectStmt"=>{"targetList"=>[{"ResTarget"=>{"val"=>{"ColumnRef"=>{"fields"=>[{"A_Star"=>{}}], "location"=>162}}, "location"=>162}}], "fromClause"=>[{"RangeVar"=>{"relname"=>"t1", "inh"=>true, "relpersistence"=>"p", "location"=>169}}], "op"=>0}}]}}, "stmt_location"=>85, "stmt_len"=>86}}
{"RawStmt"=>{"stmt"=>{"SelectStmt"=>{"targetList"=>[{"ResTarget"=>{"val"=>{"ColumnRef"=>{"fields"=>[{"A_Star"=>{}}], "location"=>181}}, "location"=>181}}], "fromClause"=>[{"RangeVar"=>{"relname"=>"t1", "inh"=>true, "relpersistence"=>"p", "location"=>188}}], "op"=>0}}, "stmt_location"=>172, "stmt_len"=>18}}

023e6f6a0d32a3271d0af6b7461db97d9d3cc70b9d



Can't deparse: RuleStmt: {"relation"=>{"RangeVar"=>{"relname"=>"t1", "inh"=>true, "relpersistence"=>"p", "location"=>42}}, "rulename"=>"_RETURN", "event"=>1, "instead"=>true, "actions"=>[{"SelectStmt"=>{"targetList"=>[{"ResTarget"=>{"val"=>{"ColumnRef"=>{"fields"=>[{"A_Star"=>{}}], "location"=>75}}, "location"=>75}}], "fromClause"=>[{"RangeVar"=>{"relname"=>"t2", "inh"=>true, "relpersistence"=>"p", "location"=>82}}], "op"=>0}}]}

------- End CREATE RULE "_RETURN" AS
    ON SELECT TO t1
    DO INSTEAD
        SELECT * FROM t2;

CREATE RULE "_RETURN" AS
    ON SELECT TO t2
    DO INSTEAD
        SELECT * FROM t1;

SELECT * FROM t1;-------




-------CREATE RULE notify_me AS ON UPDATE TO mytable DO ALSO NOTIFY mytable;

UPDATE mytable SET name = 'foo' WHERE id = 42;-------
{"RawStmt"=>{"stmt"=>{"RuleStmt"=>{"relation"=>{"RangeVar"=>{"relname"=>"mytable", "inh"=>true, "relpersistence"=>"p", "location"=>38}}, "rulename"=>"notify_me", "event"=>2, "actions"=>[{"NotifyStmt"=>{"conditionname"=>"mytable"}}]}}, "stmt_len"=>68}}
{"RawStmt"=>{"stmt"=>{"UpdateStmt"=>{"relation"=>{"RangeVar"=>{"relname"=>"mytable", "inh"=>true, "relpersistence"=>"p", "location"=>78}}, "targetList"=>[{"ResTarget"=>{"name"=>"name", "val"=>{"A_Const"=>{"val"=>{"String"=>{"str"=>"foo"}}, "location"=>97}}, "location"=>90}}], "whereClause"=>{"A_Expr"=>{"kind"=>0, "name"=>[{"String"=>{"str"=>"="}}], "lexpr"=>{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"id"}}], "location"=>109}}, "rexpr"=>{"A_Const"=>{"val"=>{"Integer"=>{"ival"=>42}}, "location"=>114}}, "location"=>112}}}}, "stmt_location"=>69, "stmt_len"=>47}}

0274ecd11af13e165e1d791c073cb643ebf63b88bb



Can't deparse: RuleStmt: {"relation"=>{"RangeVar"=>{"relname"=>"mytable", "inh"=>true, "relpersistence"=>"p", "location"=>38}}, "rulename"=>"notify_me", "event"=>2, "actions"=>[{"NotifyStmt"=>{"conditionname"=>"mytable"}}]}

------- End CREATE RULE notify_me AS ON UPDATE TO mytable DO ALSO NOTIFY mytable;

UPDATE mytable SET name = 'foo' WHERE id = 42;-------




-------BEGIN TRANSACTION ISOLATION LEVEL REPEATABLE READ;
SELECT pg_export_snapshot();
 pg_export_snapshot
---------------------
 00000003-0000001B-1
(1 row)-------






syntax error at or near "pg_export_snapshot" (scan.l:1121)

------- End BEGIN TRANSACTION ISOLATION LEVEL REPEATABLE READ;
SELECT pg_export_snapshot();
 pg_export_snapshot
---------------------
 00000003-0000001B-1
(1 row)-------




-------DROP USER MAPPING IF EXISTS FOR bob SERVER foo;-------
{"RawStmt"=>{"stmt"=>{"DropUserMappingStmt"=>{"user"=>{"RoleSpec"=>{"roletype"=>0, "rolename"=>"bob", "location"=>32}}, "servername"=>"foo", "missing_ok"=>true}}, "stmt_len"=>46}}

0274b15a1cf8518a0436ab2693bb6511b48cd111d5



Can't deparse: DropUserMappingStmt: {"user"=>{"RoleSpec"=>{"roletype"=>0, "rolename"=>"bob", "location"=>32}}, "servername"=>"foo", "missing_ok"=>true}

------- End DROP USER MAPPING IF EXISTS FOR bob SERVER foo;-------




-------DROP ROLE jonathan;-------
{"RawStmt"=>{"stmt"=>{"DropRoleStmt"=>{"roles"=>[{"RoleSpec"=>{"roletype"=>0, "rolename"=>"jonathan", "location"=>10}}]}}, "stmt_len"=>18}}

026dc9deb18d5717c1fa9e8ed7042ed5ace1e6453b



Can't deparse: DropRoleStmt: {"roles"=>[{"RoleSpec"=>{"roletype"=>0, "rolename"=>"jonathan", "location"=>10}}]}

------- End DROP ROLE jonathan;-------




-------CREATE SERVER myserver FOREIGN DATA WRAPPER postgres_fdw OPTIONS (host 'foo', dbname 'foodb', port '5432');-------
{"RawStmt"=>{"stmt"=>{"CreateForeignServerStmt"=>{"servername"=>"myserver", "fdwname"=>"postgres_fdw", "options"=>[{"DefElem"=>{"defname"=>"host", "arg"=>{"String"=>{"str"=>"foo"}}, "defaction"=>0, "location"=>66}}, {"DefElem"=>{"defname"=>"dbname", "arg"=>{"String"=>{"str"=>"foodb"}}, "defaction"=>0, "location"=>78}}, {"DefElem"=>{"defname"=>"port", "arg"=>{"String"=>{"str"=>"5432"}}, "defaction"=>0, "location"=>94}}]}}, "stmt_len"=>106}}

02b20138c0cda5d400e6530b6ee52099e396b23d2f



Can't deparse: CreateForeignServerStmt: {"servername"=>"myserver", "fdwname"=>"postgres_fdw", "options"=>[{"DefElem"=>{"defname"=>"host", "arg"=>{"String"=>{"str"=>"foo"}}, "defaction"=>0, "location"=>66}}, {"DefElem"=>{"defname"=>"dbname", "arg"=>{"String"=>{"str"=>"foodb"}}, "defaction"=>0, "location"=>78}}, {"DefElem"=>{"defname"=>"port", "arg"=>{"String"=>{"str"=>"5432"}}, "defaction"=>0, "location"=>94}}]}

------- End CREATE SERVER myserver FOREIGN DATA WRAPPER postgres_fdw OPTIONS (host 'foo', dbname 'foodb', port '5432');-------




-------ALTER FOREIGN TABLE myschema.distributors OPTIONS (ADD opt1 'value', SET opt2 'value2', DROP opt3 'value3');-------






syntax error at or near "'value3'" (scan.l:1121)

------- End ALTER FOREIGN TABLE myschema.distributors OPTIONS (ADD opt1 'value', SET opt2 'value2', DROP opt3 'value3');-------




-------AF      AFGHANISTAN
AL      ALBANIA
DZ      ALGERIA
ZM      ZAMBIA
ZW      ZIMBABWE-------






syntax error at or near "AF" (scan.l:1121)

------- End AF      AFGHANISTAN
AL      ALBANIA
DZ      ALGERIA
ZM      ZAMBIA
ZW      ZIMBABWE-------




-------0000000   P   G   C   O   P   Y  \n 377  \r  \n  \0  \0  \0  \0  \0  \0
0000020  \0  \0  \0  \0 003  \0  \0  \0 002   A   F  \0  \0  \0 013   A
0000040   F   G   H   A   N   I   S   T   A   N 377 377 377 377  \0 003
0000060  \0  \0  \0 002   A   L  \0  \0  \0 007   A   L   B   A   N   I
0000100   A 377 377 377 377  \0 003  \0  \0  \0 002   D   Z  \0  \0  \0
0000120 007   A   L   G   E   R   I   A 377 377 377 377  \0 003  \0  \0
0000140  \0 002   Z   M  \0  \0  \0 006   Z   A   M   B   I   A 377 377
0000160 377 377  \0 003  \0  \0  \0 002   Z   W  \0  \0  \0  \b   Z   I
0000200   M   B   A   B   W   E 377 377 377 377 377 377-------






syntax error at or near "0000000" (scan.l:1121)

------- End 0000000   P   G   C   O   P   Y  \n 377  \r  \n  \0  \0  \0  \0  \0  \0
0000020  \0  \0  \0  \0 003  \0  \0  \0 002   A   F  \0  \0  \0 013   A
0000040   F   G   H   A   N   I   S   T   A   N 377 377 377 377  \0 003
0000060  \0  \0  \0 002   A   L  \0  \0  \0 007   A   L   B   A   N   I
0000100   A 377 377 377 377  \0 003  \0  \0  \0 002   D   Z  \0  \0  \0
0000120 007   A   L   G   E   R   I   A 377 377 377 377  \0 003  \0  \0
0000140  \0 002   Z   M  \0  \0  \0 006   Z   A   M   B   I   A 377 377
0000160 377 377  \0 003  \0  \0  \0 002   Z   W  \0  \0  \0  \b   Z   I
0000200   M   B   A   B   W   E 377 377 377 377 377 377-------




-------CREATE DATABASE foo WITH TEMPLATE template0;-------
{"RawStmt"=>{"stmt"=>{"CreatedbStmt"=>{"dbname"=>"foo", "options"=>[{"DefElem"=>{"defname"=>"template", "arg"=>{"String"=>{"str"=>"template0"}}, "defaction"=>0, "location"=>25}}]}}, "stmt_len"=>43}}

02aee1526c712387b45aa1927aeea62ef57d5ce492



Can't deparse: CreatedbStmt: {"dbname"=>"foo", "options"=>[{"DefElem"=>{"defname"=>"template", "arg"=>{"String"=>{"str"=>"template0"}}, "defaction"=>0, "location"=>25}}]}

------- End CREATE DATABASE foo WITH TEMPLATE template0;-------




-------postgres=# \d tab
       Table "public.tab"
 Column |  Type   | Collation | Nullable | Default 
--------+---------+-----------+----------+---------
 col    | integer |           |          | 
Indexes:
    "idx" btree (col) INVALID-------






syntax error at or near "postgres" (scan.l:1121)

------- End postgres=# \d tab
       Table "public.tab"
 Column |  Type   | Collation | Nullable | Default 
--------+---------+-----------+----------+---------
 col    | integer |           |          | 
Indexes:
    "idx" btree (col) INVALID-------




-------CREATE UNIQUE INDEX title_idx ON films (title);-------
{"RawStmt"=>{"stmt"=>{"IndexStmt"=>{"idxname"=>"title_idx", "relation"=>{"RangeVar"=>{"relname"=>"films", "inh"=>true, "relpersistence"=>"p", "location"=>33}}, "accessMethod"=>"btree", "indexParams"=>[{"IndexElem"=>{"name"=>"title", "ordering"=>0, "nulls_ordering"=>0}}], "unique"=>true}}, "stmt_len"=>46}}

02ba9268b182b1a10a0ed90dd16f4bef1b96bcd96b



Can't deparse: IndexStmt: {"idxname"=>"title_idx", "relation"=>{"RangeVar"=>{"relname"=>"films", "inh"=>true, "relpersistence"=>"p", "location"=>33}}, "accessMethod"=>"btree", "indexParams"=>[{"IndexElem"=>{"name"=>"title", "ordering"=>0, "nulls_ordering"=>0}}], "unique"=>true}

------- End CREATE UNIQUE INDEX title_idx ON films (title);-------




-------CREATE UNIQUE INDEX title_idx ON films (title) INCLUDE (director, rating);-------






syntax error at or near "INCLUDE" (scan.l:1121)

------- End CREATE UNIQUE INDEX title_idx ON films (title) INCLUDE (director, rating);-------




-------CREATE INDEX ON films ((lower(title)));-------
{"RawStmt"=>{"stmt"=>{"IndexStmt"=>{"relation"=>{"RangeVar"=>{"relname"=>"films", "inh"=>true, "relpersistence"=>"p", "location"=>16}}, "accessMethod"=>"btree", "indexParams"=>[{"IndexElem"=>{"expr"=>{"FuncCall"=>{"funcname"=>[{"String"=>{"str"=>"lower"}}], "args"=>[{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"title"}}], "location"=>30}}], "location"=>24}}, "ordering"=>0, "nulls_ordering"=>0}}]}}, "stmt_len"=>38}}

0244228b9c83f4cc4e35ca564095f34aded4f0b59f



Can't deparse: IndexStmt: {"relation"=>{"RangeVar"=>{"relname"=>"films", "inh"=>true, "relpersistence"=>"p", "location"=>16}}, "accessMethod"=>"btree", "indexParams"=>[{"IndexElem"=>{"expr"=>{"FuncCall"=>{"funcname"=>[{"String"=>{"str"=>"lower"}}], "args"=>[{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"title"}}], "location"=>30}}], "location"=>24}}, "ordering"=>0, "nulls_ordering"=>0}}]}

------- End CREATE INDEX ON films ((lower(title)));-------




-------CREATE INDEX title_idx_german ON films (title COLLATE "de_DE");-------
{"RawStmt"=>{"stmt"=>{"IndexStmt"=>{"idxname"=>"title_idx_german", "relation"=>{"RangeVar"=>{"relname"=>"films", "inh"=>true, "relpersistence"=>"p", "location"=>33}}, "accessMethod"=>"btree", "indexParams"=>[{"IndexElem"=>{"name"=>"title", "collation"=>[{"String"=>{"str"=>"de_DE"}}], "ordering"=>0, "nulls_ordering"=>0}}]}}, "stmt_len"=>62}}

022c2dfcc2448e2c316b365815e2032d715c761b97



Can't deparse: IndexStmt: {"idxname"=>"title_idx_german", "relation"=>{"RangeVar"=>{"relname"=>"films", "inh"=>true, "relpersistence"=>"p", "location"=>33}}, "accessMethod"=>"btree", "indexParams"=>[{"IndexElem"=>{"name"=>"title", "collation"=>[{"String"=>{"str"=>"de_DE"}}], "ordering"=>0, "nulls_ordering"=>0}}]}

------- End CREATE INDEX title_idx_german ON films (title COLLATE "de_DE");-------




-------CREATE INDEX title_idx_nulls_low ON films (title NULLS FIRST);-------
{"RawStmt"=>{"stmt"=>{"IndexStmt"=>{"idxname"=>"title_idx_nulls_low", "relation"=>{"RangeVar"=>{"relname"=>"films", "inh"=>true, "relpersistence"=>"p", "location"=>36}}, "accessMethod"=>"btree", "indexParams"=>[{"IndexElem"=>{"name"=>"title", "ordering"=>0, "nulls_ordering"=>1}}]}}, "stmt_len"=>61}}

02660c3cb9e0af0ca9cf26da486b227bc3d54ebbc3



Can't deparse: IndexStmt: {"idxname"=>"title_idx_nulls_low", "relation"=>{"RangeVar"=>{"relname"=>"films", "inh"=>true, "relpersistence"=>"p", "location"=>36}}, "accessMethod"=>"btree", "indexParams"=>[{"IndexElem"=>{"name"=>"title", "ordering"=>0, "nulls_ordering"=>1}}]}

------- End CREATE INDEX title_idx_nulls_low ON films (title NULLS FIRST);-------




-------CREATE UNIQUE INDEX title_idx ON films (title) WITH (fillfactor = 70);-------
{"RawStmt"=>{"stmt"=>{"IndexStmt"=>{"idxname"=>"title_idx", "relation"=>{"RangeVar"=>{"relname"=>"films", "inh"=>true, "relpersistence"=>"p", "location"=>33}}, "accessMethod"=>"btree", "indexParams"=>[{"IndexElem"=>{"name"=>"title", "ordering"=>0, "nulls_ordering"=>0}}], "options"=>[{"DefElem"=>{"defname"=>"fillfactor", "arg"=>{"Integer"=>{"ival"=>70}}, "defaction"=>0, "location"=>53}}], "unique"=>true}}, "stmt_len"=>69}}

02afade96d5d582b0795512f24e969c50fcf1de8b3



Can't deparse: IndexStmt: {"idxname"=>"title_idx", "relation"=>{"RangeVar"=>{"relname"=>"films", "inh"=>true, "relpersistence"=>"p", "location"=>33}}, "accessMethod"=>"btree", "indexParams"=>[{"IndexElem"=>{"name"=>"title", "ordering"=>0, "nulls_ordering"=>0}}], "options"=>[{"DefElem"=>{"defname"=>"fillfactor", "arg"=>{"Integer"=>{"ival"=>70}}, "defaction"=>0, "location"=>53}}], "unique"=>true}

------- End CREATE UNIQUE INDEX title_idx ON films (title) WITH (fillfactor = 70);-------




-------CREATE INDEX gin_idx ON documents_table USING GIN (locations) WITH (fastupdate = off);-------
{"RawStmt"=>{"stmt"=>{"IndexStmt"=>{"idxname"=>"gin_idx", "relation"=>{"RangeVar"=>{"relname"=>"documents_table", "inh"=>true, "relpersistence"=>"p", "location"=>24}}, "accessMethod"=>"gin", "indexParams"=>[{"IndexElem"=>{"name"=>"locations", "ordering"=>0, "nulls_ordering"=>0}}], "options"=>[{"DefElem"=>{"defname"=>"fastupdate", "arg"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"off"}}], "typemod"=>-1, "location"=>81}}, "defaction"=>0, "location"=>68}}]}}, "stmt_len"=>85}}

0262aec81eb7f15d1dcf5a0e3adc858822ae87f72d



Can't deparse: IndexStmt: {"idxname"=>"gin_idx", "relation"=>{"RangeVar"=>{"relname"=>"documents_table", "inh"=>true, "relpersistence"=>"p", "location"=>24}}, "accessMethod"=>"gin", "indexParams"=>[{"IndexElem"=>{"name"=>"locations", "ordering"=>0, "nulls_ordering"=>0}}], "options"=>[{"DefElem"=>{"defname"=>"fastupdate", "arg"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"off"}}], "typemod"=>-1, "location"=>81}}, "defaction"=>0, "location"=>68}}]}

------- End CREATE INDEX gin_idx ON documents_table USING GIN (locations) WITH (fastupdate = off);-------




-------CREATE INDEX code_idx ON films (code) TABLESPACE indexspace;-------
{"RawStmt"=>{"stmt"=>{"IndexStmt"=>{"idxname"=>"code_idx", "relation"=>{"RangeVar"=>{"relname"=>"films", "inh"=>true, "relpersistence"=>"p", "location"=>25}}, "accessMethod"=>"btree", "tableSpace"=>"indexspace", "indexParams"=>[{"IndexElem"=>{"name"=>"code", "ordering"=>0, "nulls_ordering"=>0}}]}}, "stmt_len"=>59}}

02091619f929cfeb9305d98adbc6dd003187a7f88d



Can't deparse: IndexStmt: {"idxname"=>"code_idx", "relation"=>{"RangeVar"=>{"relname"=>"films", "inh"=>true, "relpersistence"=>"p", "location"=>25}}, "accessMethod"=>"btree", "tableSpace"=>"indexspace", "indexParams"=>[{"IndexElem"=>{"name"=>"code", "ordering"=>0, "nulls_ordering"=>0}}]}

------- End CREATE INDEX code_idx ON films (code) TABLESPACE indexspace;-------




-------CREATE INDEX pointloc
    ON points USING gist (box(location,location));
SELECT * FROM points
    WHERE box(location,location)  '(0,0),(1,1)'::box;-------
{"RawStmt"=>{"stmt"=>{"IndexStmt"=>{"idxname"=>"pointloc", "relation"=>{"RangeVar"=>{"relname"=>"points", "inh"=>true, "relpersistence"=>"p", "location"=>29}}, "accessMethod"=>"gist", "indexParams"=>[{"IndexElem"=>{"expr"=>{"FuncCall"=>{"funcname"=>[{"String"=>{"str"=>"box"}}], "args"=>[{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"location"}}], "location"=>52}}, {"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"location"}}], "location"=>61}}], "location"=>48}}, "ordering"=>0, "nulls_ordering"=>0}}]}}, "stmt_len"=>71}}
{"RawStmt"=>{"stmt"=>{"SelectStmt"=>{"targetList"=>[{"ResTarget"=>{"val"=>{"ColumnRef"=>{"fields"=>[{"A_Star"=>{}}], "location"=>80}}, "location"=>80}}], "fromClause"=>[{"RangeVar"=>{"relname"=>"points", "inh"=>true, "relpersistence"=>"p", "location"=>87}}], "whereClause"=>{"TypeCast"=>{"arg"=>{"TypeCast"=>{"arg"=>{"A_Const"=>{"val"=>{"String"=>{"str"=>"(0,0),(1,1)"}}, "location"=>128}}, "typeName"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"box"}}], "typmods"=>[{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"location"}}], "location"=>108}}, {"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"location"}}], "location"=>117}}], "typemod"=>-1, "location"=>104}}, "location"=>-1}}, "typeName"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"box"}}], "typemod"=>-1, "location"=>143}}, "location"=>141}}, "op"=>0}}, "stmt_location"=>72, "stmt_len"=>74}}

027a08947b27f4dd92cc825e65921c65af9e84a5a7



Can't deparse: IndexStmt: {"idxname"=>"pointloc", "relation"=>{"RangeVar"=>{"relname"=>"points", "inh"=>true, "relpersistence"=>"p", "location"=>29}}, "accessMethod"=>"gist", "indexParams"=>[{"IndexElem"=>{"expr"=>{"FuncCall"=>{"funcname"=>[{"String"=>{"str"=>"box"}}], "args"=>[{"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"location"}}], "location"=>52}}, {"ColumnRef"=>{"fields"=>[{"String"=>{"str"=>"location"}}], "location"=>61}}], "location"=>48}}, "ordering"=>0, "nulls_ordering"=>0}}]}

------- End CREATE INDEX pointloc
    ON points USING gist (box(location,location));
SELECT * FROM points
    WHERE box(location,location)  '(0,0),(1,1)'::box;-------




-------CREATE INDEX CONCURRENTLY sales_quantity_index ON sales_table (quantity);-------
{"RawStmt"=>{"stmt"=>{"IndexStmt"=>{"idxname"=>"sales_quantity_index", "relation"=>{"RangeVar"=>{"relname"=>"sales_table", "inh"=>true, "relpersistence"=>"p", "location"=>50}}, "accessMethod"=>"btree", "indexParams"=>[{"IndexElem"=>{"name"=>"quantity", "ordering"=>0, "nulls_ordering"=>0}}], "concurrent"=>true}}, "stmt_len"=>72}}

02b6c0275f87e5fdb574e8ec19cf5389bc6f100523



Can't deparse: IndexStmt: {"idxname"=>"sales_quantity_index", "relation"=>{"RangeVar"=>{"relname"=>"sales_table", "inh"=>true, "relpersistence"=>"p", "location"=>50}}, "accessMethod"=>"btree", "indexParams"=>[{"IndexElem"=>{"name"=>"quantity", "ordering"=>0, "nulls_ordering"=>0}}], "concurrent"=>true}

------- End CREATE INDEX CONCURRENTLY sales_quantity_index ON sales_table (quantity);-------




-------ALTER INDEX distributors RENAME TO suppliers;-------
{"RawStmt"=>{"stmt"=>{"RenameStmt"=>{"renameType"=>20, "relationType"=>0, "relation"=>{"RangeVar"=>{"relname"=>"distributors", "inh"=>true, "relpersistence"=>"p", "location"=>12}}, "newname"=>"suppliers", "behavior"=>0}}, "stmt_len"=>44}}

026711a54724c331016263bd19dcfdbbcb2a980d52



Can't deparse: {"renameType"=>20, "relationType"=>0, "relation"=>{"RangeVar"=>{"relname"=>"distributors", "inh"=>true, "relpersistence"=>"p", "location"=>12}}, "newname"=>"suppliers", "behavior"=>0}

------- End ALTER INDEX distributors RENAME TO suppliers;-------




-------ALTER INDEX distributors SET TABLESPACE fasttablespace;-------
{"RawStmt"=>{"stmt"=>{"AlterTableStmt"=>{"relation"=>{"RangeVar"=>{"relname"=>"distributors", "inh"=>true, "relpersistence"=>"p", "location"=>12}}, "cmds"=>[{"AlterTableCmd"=>{"subtype"=>35, "name"=>"fasttablespace", "behavior"=>0}}], "relkind"=>20}}, "stmt_len"=>54}}

024bbe660ebdc5b91d1c0df39dd2b4632d435e0f1e



Can't deparse: {"subtype"=>35, "name"=>"fasttablespace", "behavior"=>0}

------- End ALTER INDEX distributors SET TABLESPACE fasttablespace;-------




-------ALTER INDEX distributors SET (fillfactor = 75);
REINDEX INDEX distributors;-------
{"RawStmt"=>{"stmt"=>{"AlterTableStmt"=>{"relation"=>{"RangeVar"=>{"relname"=>"distributors", "inh"=>true, "relpersistence"=>"p", "location"=>12}}, "cmds"=>[{"AlterTableCmd"=>{"subtype"=>36, "def"=>[{"DefElem"=>{"defname"=>"fillfactor", "arg"=>{"Integer"=>{"ival"=>75}}, "defaction"=>0, "location"=>30}}], "behavior"=>0}}], "relkind"=>20}}, "stmt_len"=>46}}
{"RawStmt"=>{"stmt"=>{"ReindexStmt"=>{"kind"=>0, "relation"=>{"RangeVar"=>{"relname"=>"distributors", "inh"=>true, "relpersistence"=>"p", "location"=>62}}}}, "stmt_location"=>47, "stmt_len"=>27}}

02ac57a28a2fd79e10cf4b70964704420181e719c9



Can't deparse: {"subtype"=>36, "def"=>[{"DefElem"=>{"defname"=>"fillfactor", "arg"=>{"Integer"=>{"ival"=>75}}, "defaction"=>0, "location"=>30}}], "behavior"=>0}

------- End ALTER INDEX distributors SET (fillfactor = 75);
REINDEX INDEX distributors;-------




-------CREATE INDEX coord_idx ON measured (x, y, (z + t));
ALTER INDEX coord_idx ALTER COLUMN 3 SET STATISTICS 1000;-------






syntax error at or near "3" (scan.l:1121)

------- End CREATE INDEX coord_idx ON measured (x, y, (z + t));
ALTER INDEX coord_idx ALTER COLUMN 3 SET STATISTICS 1000;-------




-------ALTER SERVER foo OPTIONS (host 'foo', dbname 'foodb');-------
{"RawStmt"=>{"stmt"=>{"AlterForeignServerStmt"=>{"servername"=>"foo", "options"=>[{"DefElem"=>{"defname"=>"host", "arg"=>{"String"=>{"str"=>"foo"}}, "defaction"=>0, "location"=>26}}, {"DefElem"=>{"defname"=>"dbname", "arg"=>{"String"=>{"str"=>"foodb"}}, "defaction"=>0, "location"=>38}}]}}, "stmt_len"=>53}}

023722d223540a507f51cc134abb4b8dc842d951a1



Can't deparse: AlterForeignServerStmt: {"servername"=>"foo", "options"=>[{"DefElem"=>{"defname"=>"host", "arg"=>{"String"=>{"str"=>"foo"}}, "defaction"=>0, "location"=>26}}, {"DefElem"=>{"defname"=>"dbname", "arg"=>{"String"=>{"str"=>"foodb"}}, "defaction"=>0, "location"=>38}}]}

------- End ALTER SERVER foo OPTIONS (host 'foo', dbname 'foodb');-------




-------ALTER SERVER foo VERSION '8.4' OPTIONS (SET host 'baz');-------
{"RawStmt"=>{"stmt"=>{"AlterForeignServerStmt"=>{"servername"=>"foo", "version"=>"8.4", "options"=>[{"DefElem"=>{"defname"=>"host", "arg"=>{"String"=>{"str"=>"baz"}}, "defaction"=>1, "location"=>44}}], "has_version"=>true}}, "stmt_len"=>55}}

0202ca9e2b86396a29215a7ff292ea8292b9509ab4



Can't deparse: AlterForeignServerStmt: {"servername"=>"foo", "version"=>"8.4", "options"=>[{"DefElem"=>{"defname"=>"host", "arg"=>{"String"=>{"str"=>"baz"}}, "defaction"=>1, "location"=>44}}], "has_version"=>true}

------- End ALTER SERVER foo VERSION '8.4' OPTIONS (SET host 'baz');-------




-------BEGIN WORK;
LOCK TABLE films IN SHARE ROW EXCLUSIVE MODE;
DELETE FROM films_user_comments WHERE id IN
    (SELECT id FROM films WHERE rating  5);
DELETE FROM films WHERE rating  5;
COMMIT WORK;-------






syntax error at or near "5" (scan.l:1121)

------- End BEGIN WORK;
LOCK TABLE films IN SHARE ROW EXCLUSIVE MODE;
DELETE FROM films_user_comments WHERE id IN
    (SELECT id FROM films WHERE rating  5);
DELETE FROM films WHERE rating  5;
COMMIT WORK;-------




-------INSERT INTO films VALUES
    ('UA502', 'Bananas', 105, DEFAULT, 'Comedy', '82 minutes'),
    ('T_601', 'Yojimbo', 106, DEFAULT, 'Drama', DEFAULT);-------
{"RawStmt"=>{"stmt"=>{"InsertStmt"=>{"relation"=>{"RangeVar"=>{"relname"=>"films", "inh"=>true, "relpersistence"=>"p", "location"=>12}}, "selectStmt"=>{"SelectStmt"=>{"valuesLists"=>[[{"A_Const"=>{"val"=>{"String"=>{"str"=>"UA502"}}, "location"=>30}}, {"A_Const"=>{"val"=>{"String"=>{"str"=>"Bananas"}}, "location"=>39}}, {"A_Const"=>{"val"=>{"Integer"=>{"ival"=>105}}, "location"=>50}}, {"SetToDefault"=>{"location"=>55}}, {"A_Const"=>{"val"=>{"String"=>{"str"=>"Comedy"}}, "location"=>64}}, {"A_Const"=>{"val"=>{"String"=>{"str"=>"82 minutes"}}, "location"=>74}}], [{"A_Const"=>{"val"=>{"String"=>{"str"=>"T_601"}}, "location"=>94}}, {"A_Const"=>{"val"=>{"String"=>{"str"=>"Yojimbo"}}, "location"=>103}}, {"A_Const"=>{"val"=>{"Integer"=>{"ival"=>106}}, "location"=>114}}, {"SetToDefault"=>{"location"=>119}}, {"A_Const"=>{"val"=>{"String"=>{"str"=>"Drama"}}, "location"=>128}}, {"SetToDefault"=>{"location"=>137}}]], "op"=>0}}, "override"=>0}}, "stmt_len"=>145}}

022b181513ed12623a5d018d335564c88109b4f72e



Can't deparse: SetToDefault: {"location"=>55}

------- End INSERT INTO films VALUES
    ('UA502', 'Bananas', 105, DEFAULT, 'Comedy', '82 minutes'),
    ('T_601', 'Yojimbo', 106, DEFAULT, 'Drama', DEFAULT);-------




-------CREATE TYPE compfoo AS (f1 int, f2 text);

CREATE FUNCTION getfoo() RETURNS SETOF compfoo AS $$
    SELECT fooid, fooname FROM foo
$$ LANGUAGE SQL;-------
{"RawStmt"=>{"stmt"=>{"CompositeTypeStmt"=>{"typevar"=>{"RangeVar"=>{"relname"=>"compfoo", "relpersistence"=>"p", "location"=>12}}, "coldeflist"=>[{"ColumnDef"=>{"colname"=>"f1", "typeName"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"pg_catalog"}}, {"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>27}}, "is_local"=>true, "location"=>24}}, {"ColumnDef"=>{"colname"=>"f2", "typeName"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"text"}}], "typemod"=>-1, "location"=>35}}, "is_local"=>true, "location"=>32}}]}}, "stmt_len"=>40}}
{"RawStmt"=>{"stmt"=>{"CreateFunctionStmt"=>{"funcname"=>[{"String"=>{"str"=>"getfoo"}}], "returnType"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"compfoo"}}], "setof"=>true, "typemod"=>-1, "location"=>82}}, "options"=>[{"DefElem"=>{"defname"=>"as", "arg"=>[{"String"=>{"str"=>"\n    SELECT fooid, fooname FROM foo\n"}}], "defaction"=>0, "location"=>90}}, {"DefElem"=>{"defname"=>"language", "arg"=>{"String"=>{"str"=>"sql"}}, "defaction"=>0, "location"=>134}}]}}, "stmt_location"=>41, "stmt_len"=>105}}

0267a53b892be6200d93bace9e5d8783a83c44b3bf



Can't deparse: CompositeTypeStmt: {"typevar"=>{"RangeVar"=>{"relname"=>"compfoo", "relpersistence"=>"p", "location"=>12}}, "coldeflist"=>[{"ColumnDef"=>{"colname"=>"f1", "typeName"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"pg_catalog"}}, {"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>27}}, "is_local"=>true, "location"=>24}}, {"ColumnDef"=>{"colname"=>"f2", "typeName"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"text"}}], "typemod"=>-1, "location"=>35}}, "is_local"=>true, "location"=>32}}]}

------- End CREATE TYPE compfoo AS (f1 int, f2 text);

CREATE FUNCTION getfoo() RETURNS SETOF compfoo AS $$
    SELECT fooid, fooname FROM foo
$$ LANGUAGE SQL;-------




-------CREATE TYPE bug_status AS ENUM ('new', 'open', 'closed');

CREATE TABLE bug (
    id serial,
    description text,
    status bug_status
);-------
{"RawStmt"=>{"stmt"=>{"CreateEnumStmt"=>{"typeName"=>[{"String"=>{"str"=>"bug_status"}}], "vals"=>[{"String"=>{"str"=>"new"}}, {"String"=>{"str"=>"open"}}, {"String"=>{"str"=>"closed"}}]}}, "stmt_len"=>56}}
{"RawStmt"=>{"stmt"=>{"CreateStmt"=>{"relation"=>{"RangeVar"=>{"relname"=>"bug", "inh"=>true, "relpersistence"=>"p", "location"=>72}}, "tableElts"=>[{"ColumnDef"=>{"colname"=>"id", "typeName"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"serial"}}], "typemod"=>-1, "location"=>85}}, "is_local"=>true, "location"=>82}}, {"ColumnDef"=>{"colname"=>"description", "typeName"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"text"}}], "typemod"=>-1, "location"=>109}}, "is_local"=>true, "location"=>97}}, {"ColumnDef"=>{"colname"=>"status", "typeName"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"bug_status"}}], "typemod"=>-1, "location"=>126}}, "is_local"=>true, "location"=>119}}], "oncommit"=>0}}, "stmt_location"=>57, "stmt_len"=>81}}

029466a123bd7373142a962949525262a653a2ac4b



Can't deparse: CreateEnumStmt: {"typeName"=>[{"String"=>{"str"=>"bug_status"}}], "vals"=>[{"String"=>{"str"=>"new"}}, {"String"=>{"str"=>"open"}}, {"String"=>{"str"=>"closed"}}]}

------- End CREATE TYPE bug_status AS ENUM ('new', 'open', 'closed');

CREATE TABLE bug (
    id serial,
    description text,
    status bug_status
);-------




-------CREATE TYPE float8_range AS RANGE (subtype = float8, subtype_diff = float8mi);-------
{"RawStmt"=>{"stmt"=>{"CreateRangeStmt"=>{"typeName"=>[{"String"=>{"str"=>"float8_range"}}], "params"=>[{"DefElem"=>{"defname"=>"subtype", "arg"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"float8"}}], "typemod"=>-1, "location"=>45}}, "defaction"=>0, "location"=>35}}, {"DefElem"=>{"defname"=>"subtype_diff", "arg"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"float8mi"}}], "typemod"=>-1, "location"=>68}}, "defaction"=>0, "location"=>53}}]}}, "stmt_len"=>77}}

027564bf8e7936a35add26203a8f1705a8a750f466



Can't deparse: CreateRangeStmt: {"typeName"=>[{"String"=>{"str"=>"float8_range"}}], "params"=>[{"DefElem"=>{"defname"=>"subtype", "arg"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"float8"}}], "typemod"=>-1, "location"=>45}}, "defaction"=>0, "location"=>35}}, {"DefElem"=>{"defname"=>"subtype_diff", "arg"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"float8mi"}}], "typemod"=>-1, "location"=>68}}, "defaction"=>0, "location"=>53}}]}

------- End CREATE TYPE float8_range AS RANGE (subtype = float8, subtype_diff = float8mi);-------




-------CREATE TYPE box;

CREATE FUNCTION my_box_in_function(cstring) RETURNS box AS ... ;
CREATE FUNCTION my_box_out_function(box) RETURNS cstring AS ... ;

CREATE TYPE box (
    INTERNALLENGTH = 16,
    INPUT = my_box_in_function,
    OUTPUT = my_box_out_function
);

CREATE TABLE myboxes (
    id integer,
    description box
);-------






syntax error at or near ".." (scan.l:1121)

------- End CREATE TYPE box;

CREATE FUNCTION my_box_in_function(cstring) RETURNS box AS ... ;
CREATE FUNCTION my_box_out_function(box) RETURNS cstring AS ... ;

CREATE TYPE box (
    INTERNALLENGTH = 16,
    INPUT = my_box_in_function,
    OUTPUT = my_box_out_function
);

CREATE TABLE myboxes (
    id integer,
    description box
);-------




-------CREATE TYPE box (
    INTERNALLENGTH = 16,
    INPUT = my_box_in_function,
    OUTPUT = my_box_out_function,
    ELEMENT = float4
);-------
{"RawStmt"=>{"stmt"=>{"DefineStmt"=>{"kind"=>45, "defnames"=>[{"String"=>{"str"=>"box"}}], "definition"=>[{"DefElem"=>{"defname"=>"internallength", "arg"=>{"Integer"=>{"ival"=>16}}, "defaction"=>0, "location"=>22}}, {"DefElem"=>{"defname"=>"input", "arg"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"my_box_in_function"}}], "typemod"=>-1, "location"=>55}}, "defaction"=>0, "location"=>47}}, {"DefElem"=>{"defname"=>"output", "arg"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"my_box_out_function"}}], "typemod"=>-1, "location"=>88}}, "defaction"=>0, "location"=>79}}, {"DefElem"=>{"defname"=>"element", "arg"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"float4"}}], "typemod"=>-1, "location"=>123}}, "defaction"=>0, "location"=>113}}]}}, "stmt_len"=>131}}

02fc260af68619fc9e72b022fff5ebbd50e84f986a



Can't deparse: DefineStmt: {"kind"=>45, "defnames"=>[{"String"=>{"str"=>"box"}}], "definition"=>[{"DefElem"=>{"defname"=>"internallength", "arg"=>{"Integer"=>{"ival"=>16}}, "defaction"=>0, "location"=>22}}, {"DefElem"=>{"defname"=>"input", "arg"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"my_box_in_function"}}], "typemod"=>-1, "location"=>55}}, "defaction"=>0, "location"=>47}}, {"DefElem"=>{"defname"=>"output", "arg"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"my_box_out_function"}}], "typemod"=>-1, "location"=>88}}, "defaction"=>0, "location"=>79}}, {"DefElem"=>{"defname"=>"element", "arg"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"float4"}}], "typemod"=>-1, "location"=>123}}, "defaction"=>0, "location"=>113}}]}

------- End CREATE TYPE box (
    INTERNALLENGTH = 16,
    INPUT = my_box_in_function,
    OUTPUT = my_box_out_function,
    ELEMENT = float4
);-------




-------CREATE TYPE bigobj (
    INPUT = lo_filein, OUTPUT = lo_fileout,
    INTERNALLENGTH = VARIABLE
);
CREATE TABLE big_objs (
    id integer,
    obj bigobj
);-------
{"RawStmt"=>{"stmt"=>{"DefineStmt"=>{"kind"=>45, "defnames"=>[{"String"=>{"str"=>"bigobj"}}], "definition"=>[{"DefElem"=>{"defname"=>"input", "arg"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"lo_filein"}}], "typemod"=>-1, "location"=>33}}, "defaction"=>0, "location"=>25}}, {"DefElem"=>{"defname"=>"output", "arg"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"lo_fileout"}}], "typemod"=>-1, "location"=>53}}, "defaction"=>0, "location"=>44}}, {"DefElem"=>{"defname"=>"internallength", "arg"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"variable"}}], "typemod"=>-1, "location"=>86}}, "defaction"=>0, "location"=>69}}]}}, "stmt_len"=>96}}
{"RawStmt"=>{"stmt"=>{"CreateStmt"=>{"relation"=>{"RangeVar"=>{"relname"=>"big_objs", "inh"=>true, "relpersistence"=>"p", "location"=>111}}, "tableElts"=>[{"ColumnDef"=>{"colname"=>"id", "typeName"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"pg_catalog"}}, {"String"=>{"str"=>"int4"}}], "typemod"=>-1, "location"=>129}}, "is_local"=>true, "location"=>126}}, {"ColumnDef"=>{"colname"=>"obj", "typeName"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"bigobj"}}], "typemod"=>-1, "location"=>146}}, "is_local"=>true, "location"=>142}}], "oncommit"=>0}}, "stmt_location"=>97, "stmt_len"=>57}}

0282bf67f3cdce15f8a4a3ef31af8ceed12c5576e3



Can't deparse: DefineStmt: {"kind"=>45, "defnames"=>[{"String"=>{"str"=>"bigobj"}}], "definition"=>[{"DefElem"=>{"defname"=>"input", "arg"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"lo_filein"}}], "typemod"=>-1, "location"=>33}}, "defaction"=>0, "location"=>25}}, {"DefElem"=>{"defname"=>"output", "arg"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"lo_fileout"}}], "typemod"=>-1, "location"=>53}}, "defaction"=>0, "location"=>44}}, {"DefElem"=>{"defname"=>"internallength", "arg"=>{"TypeName"=>{"names"=>[{"String"=>{"str"=>"variable"}}], "typemod"=>-1, "location"=>86}}, "defaction"=>0, "location"=>69}}]}

------- End CREATE TYPE bigobj (
    INPUT = lo_filein, OUTPUT = lo_fileout,
    INTERNALLENGTH = VARIABLE
);
CREATE TABLE big_objs (
    id integer,
    obj bigobj
);-------




-------ALTER SEQUENCE serial RESTART WITH 105;-------
{"RawStmt"=>{"stmt"=>{"AlterSeqStmt"=>{"sequence"=>{"RangeVar"=>{"relname"=>"serial", "inh"=>true, "relpersistence"=>"p", "location"=>15}}, "options"=>[{"DefElem"=>{"defname"=>"restart", "arg"=>{"Integer"=>{"ival"=>105}}, "defaction"=>0, "location"=>22}}]}}, "stmt_len"=>38}}

02179a2b43231058acc24620fb94e8d5dd861a87ea



Can't deparse: AlterSeqStmt: {"sequence"=>{"RangeVar"=>{"relname"=>"serial", "inh"=>true, "relpersistence"=>"p", "location"=>15}}, "options"=>[{"DefElem"=>{"defname"=>"restart", "arg"=>{"Integer"=>{"ival"=>105}}, "defaction"=>0, "location"=>22}}]}

------- End ALTER SEQUENCE serial RESTART WITH 105;-------




-------sfunc( internal-state, next-data-values ) ---> next-internal-state
ffunc( internal-state ) ---> aggregate-value-------






syntax error at or near "sfunc" (scan.l:1121)

------- End sfunc( internal-state, next-data-values ) ---> next-internal-state
ffunc( internal-state ) ---> aggregate-value-------




-------SELECT col FROM tab ORDER BY col USING sortop LIMIT 1;-------






syntax error at or near "sortop" (scan.l:1121)

------- End SELECT col FROM tab ORDER BY col USING sortop LIMIT 1;-------




-------DROP SERVER IF EXISTS foo;-------
{"RawStmt"=>{"stmt"=>{"DropStmt"=>{"objects"=>[{"String"=>{"str"=>"foo"}}], "removeType"=>17, "behavior"=>0, "missing_ok"=>true}}, "stmt_len"=>25}}

02c5b24bb7fa38f62f81c3082e559831d2aa99c7e7



undefined method `keys' for ["String", {"str"=>"foo"}]:Array

------- End DROP SERVER IF EXISTS foo;-------




-------CREATE DATABASE foo WITH TEMPLATE template0;-------
{"RawStmt"=>{"stmt"=>{"CreatedbStmt"=>{"dbname"=>"foo", "options"=>[{"DefElem"=>{"defname"=>"template", "arg"=>{"String"=>{"str"=>"template0"}}, "defaction"=>0, "location"=>25}}]}}, "stmt_len"=>43}}

02aee1526c712387b45aa1927aeea62ef57d5ce492



Can't deparse: CreatedbStmt: {"dbname"=>"foo", "options"=>[{"DefElem"=>{"defname"=>"template", "arg"=>{"String"=>{"str"=>"template0"}}, "defaction"=>0, "location"=>25}}]}

------- End CREATE DATABASE foo WITH TEMPLATE template0;-------




-------;
; Archive created at Mon Sep 14 13:55:39 2009
;     dbname: DBDEMOS
;     TOC Entries: 81
;     Compression: 9
;     Dump Version: 1.10-0
;     Format: CUSTOM
;     Integer: 4 bytes
;     Offset: 8 bytes
;     Dumped from database version: 8.3.5
;     Dumped by pg_dump version: 8.3.8
;
;
; Selected TOC Entries:
;
3; 2615 2200 SCHEMA - public pasha
1861; 0 0 COMMENT - SCHEMA public pasha
1862; 0 0 ACL - public pasha
317; 1247 17715 TYPE public composite pasha
319; 1247 25899 DOMAIN public domain0 pasha-------






syntax error at or near "Archive" (scan.l:1121)

------- End ;
; Archive created at Mon Sep 14 13:55:39 2009
;     dbname: DBDEMOS
;     TOC Entries: 81
;     Compression: 9
;     Dump Version: 1.10-0
;     Format: CUSTOM
;     Integer: 4 bytes
;     Offset: 8 bytes
;     Dumped from database version: 8.3.5
;     Dumped by pg_dump version: 8.3.8
;
;
; Selected TOC Entries:
;
3; 2615 2200 SCHEMA - public pasha
1861; 0 0 COMMENT - SCHEMA public pasha
1862; 0 0 ACL - public pasha
317; 1247 17715 TYPE public composite pasha
319; 1247 25899 DOMAIN public domain0 pasha-------




-------10; 145433 TABLE map_resolutions postgres
;2; 145344 TABLE species postgres
;4; 145359 TABLE nt_header postgres
6; 145402 TABLE species_records postgres
;8; 145416 TABLE ss_old postgres-------






syntax error at or near "10" (scan.l:1121)

------- End 10; 145433 TABLE map_resolutions postgres
;2; 145344 TABLE species postgres
;4; 145359 TABLE nt_header postgres
6; 145402 TABLE species_records postgres
;8; 145416 TABLE ss_old postgres-------
